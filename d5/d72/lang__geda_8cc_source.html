<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>gnucap: savant/gnucap/src/lang_geda.cc Source File</title>

<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />

<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>

</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">gnucap
   
   </div>
   
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.6.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="../../index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="../../namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="../../annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="../../files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="../../search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="../../search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="../../files.html"><span>File&#160;List</span></a></li>
      <li><a href="../../globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="headertitle">
<div class="title">savant/gnucap/src/lang_geda.cc</div>  </div>
</div><!--header-->
<div class="contents">
<a href="../../d5/d72/lang__geda_8cc.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="comment">/* This file is the plugin for the gEDA-gschem plugin</span>
<a name="l00002"></a>00002 <span class="comment"> * The documentation of how this should work is at bit.ly(slash)gnucapwiki</span>
<a name="l00003"></a>00003 <span class="comment"> *</span>
<a name="l00004"></a>00004 <span class="comment"> * This file is part of &quot;Gnucap&quot;, the Gnu Circuit Analysis Package.</span>
<a name="l00005"></a>00005 <span class="comment"> *</span>
<a name="l00006"></a>00006 <span class="comment"> * This program is free software; you can redistribute it and/or modify</span>
<a name="l00007"></a>00007 <span class="comment"> * it under the terms of the GNU General Public License as published by</span>
<a name="l00008"></a>00008 <span class="comment"> * the Free Software Foundation; either version 3, or (at your option)</span>
<a name="l00009"></a>00009 <span class="comment"> * any later version.</span>
<a name="l00010"></a>00010 <span class="comment"> *</span>
<a name="l00011"></a>00011 <span class="comment"> * This program is distributed in the hope that it will be useful,</span>
<a name="l00012"></a>00012 <span class="comment"> * but WITHOUT ANY WARRANTY; without even the implied warranty of</span>
<a name="l00013"></a>00013 <span class="comment"> * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</span>
<a name="l00014"></a>00014 <span class="comment"> * GNU General Public License for more details.</span>
<a name="l00015"></a>00015 <span class="comment"> *</span>
<a name="l00016"></a>00016 <span class="comment"> * You should have received a copy of the GNU General Public License</span>
<a name="l00017"></a>00017 <span class="comment"> * along with this program; if not, write to the Free Software</span>
<a name="l00018"></a>00018 <span class="comment"> * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA</span>
<a name="l00019"></a>00019 <span class="comment"> * 02110-1301, USA.</span>
<a name="l00020"></a>00020 <span class="comment"> *</span>
<a name="l00021"></a>00021 <span class="comment"> */</span>
<a name="l00022"></a>00022 <span class="preprocessor">#include &quot;<a class="code" href="../../dc/d4a/c__comand_8h.html">c_comand.h</a>&quot;</span>
<a name="l00023"></a>00023 <span class="preprocessor">#include &quot;<a class="code" href="../../db/de9/d__dot_8h.html">d_dot.h</a>&quot;</span>
<a name="l00024"></a>00024 <span class="preprocessor">#include &quot;<a class="code" href="../../dc/d8d/d__coment_8h.html">d_coment.h</a>&quot;</span>
<a name="l00025"></a>00025 <span class="preprocessor">#include &quot;<a class="code" href="../../da/d5c/d__subckt_8h.html">d_subckt.h</a>&quot;</span>
<a name="l00026"></a>00026 <span class="preprocessor">#include &quot;<a class="code" href="../../d2/de9/e__model_8h.html">e_model.h</a>&quot;</span>
<a name="l00027"></a>00027 <span class="preprocessor">#include &quot;<a class="code" href="../../d7/dc4/u__lang_8h.html">u_lang.h</a>&quot;</span>
<a name="l00028"></a>00028 <span class="preprocessor">#include &lt;fts.h&gt;</span>
<a name="l00029"></a>00029 <span class="preprocessor">#ifdef HAVE_GEDA</span>
<a name="l00030"></a>00030 <span class="preprocessor"></span><span class="preprocessor">#include &lt;gmpxx.h&gt;</span> <span class="comment">// to workaround bug in gmp header about __cplusplus</span>
<a name="l00031"></a>00031 <span class="preprocessor">#define COMPLEX NOCOMPLEX // COMPLEX already came from md.h</span>
<a name="l00032"></a>00032 <span class="preprocessor"></span><span class="keyword">extern</span> <span class="stringliteral">&quot;C&quot;</span>{
<a name="l00033"></a>00033 <span class="preprocessor"># include &lt;libgeda/libgeda.h&gt;</span>
<a name="l00034"></a>00034 }
<a name="l00035"></a>00035 <span class="preprocessor">#undef COMPLEX</span>
<a name="l00036"></a>00036 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l00037"></a>00037 <span class="preprocessor"></span><span class="comment">/*--------------------------------------------------------------------------*/</span>
<a name="l00038"></a><a class="code" href="../../da/d20/namespaceanonymous__namespace_02lang__geda_8cc_03.html">00038</a> <span class="keyword">namespace </span>{
<a name="l00039"></a>00039 <span class="comment">/*--------------------------------------------------------------------------*/</span>
<a name="l00040"></a><a class="code" href="../../d9/d3f/classanonymous__namespace_02lang__geda_8cc_03_1_1_l_a_n_g___g_s_c_h_e_m.html">00040</a> <span class="keyword">class </span><a class="code" href="../../d9/d3f/classanonymous__namespace_02lang__geda_8cc_03_1_1_l_a_n_g___g_s_c_h_e_m.html">LANG_GSCHEM</a> : <span class="keyword">public</span> <a class="code" href="../../d8/d92/class_l_a_n_g_u_a_g_e.html">LANGUAGE</a> {
<a name="l00041"></a>00041 
<a name="l00042"></a>00042 <span class="keyword">public</span>:
<a name="l00043"></a>00043     <span class="comment">//</span>
<a name="l00044"></a><a class="code" href="../../d9/d3f/classanonymous__namespace_02lang__geda_8cc_03_1_1_l_a_n_g___g_s_c_h_e_m.html#a8637fda967aa638ab710af62ae10b8a1abdda9d90834891c826677cd04fe60883">00044</a>     <span class="keyword">enum</span> <a class="code" href="../../d9/d3f/classanonymous__namespace_02lang__geda_8cc_03_1_1_l_a_n_g___g_s_c_h_e_m.html#a8637fda967aa638ab710af62ae10b8a1">MODE</a> {mDEFAULT, mPARAMSET} _mode;
<a name="l00045"></a><a class="code" href="../../d9/d3f/classanonymous__namespace_02lang__geda_8cc_03_1_1_l_a_n_g___g_s_c_h_e_m.html#a3307f7d0337b35201b8a3ea7f7837bdc">00045</a>     <span class="keyword">mutable</span> <span class="keywordtype">int</span> <a class="code" href="../../d9/d3f/classanonymous__namespace_02lang__geda_8cc_03_1_1_l_a_n_g___g_s_c_h_e_m.html#a3307f7d0337b35201b8a3ea7f7837bdc">arg_count</a>;
<a name="l00046"></a><a class="code" href="../../d9/d3f/classanonymous__namespace_02lang__geda_8cc_03_1_1_l_a_n_g___g_s_c_h_e_m.html#a77a2edf7a6687c07b1ec2ae433b0ddf1a87676517661170e1435dbf8fc210dd9e">00046</a>     <span class="keyword">enum</span> {INACTIVE = -1};
<a name="l00047"></a>00047     <span class="comment">//</span>
<a name="l00048"></a><a class="code" href="../../d9/d3f/classanonymous__namespace_02lang__geda_8cc_03_1_1_l_a_n_g___g_s_c_h_e_m.html#af9e0bb542453557c60e6149c28cc74f5">00048</a>     std::string <a class="code" href="../../d9/d3f/classanonymous__namespace_02lang__geda_8cc_03_1_1_l_a_n_g___g_s_c_h_e_m.html#af9e0bb542453557c60e6149c28cc74f5">name</a>()<span class="keyword">const </span>{<span class="keywordflow">return</span> <span class="stringliteral">&quot;gschem&quot;</span>;}
<a name="l00049"></a><a class="code" href="../../d9/d3f/classanonymous__namespace_02lang__geda_8cc_03_1_1_l_a_n_g___g_s_c_h_e_m.html#af59fc8c842933f023399fca9bb533bd0">00049</a>     <span class="keywordtype">bool</span> <a class="code" href="../../d9/d3f/classanonymous__namespace_02lang__geda_8cc_03_1_1_l_a_n_g___g_s_c_h_e_m.html#af59fc8c842933f023399fca9bb533bd0">case_insensitive</a>()<span class="keyword">const </span>{<span class="keywordflow">return</span> <span class="keyword">false</span>;}
<a name="l00050"></a><a class="code" href="../../d9/d3f/classanonymous__namespace_02lang__geda_8cc_03_1_1_l_a_n_g___g_s_c_h_e_m.html#a9a8ef362f01782f769d800925e96fb72">00050</a>     <a class="code" href="../../d7/d7b/u__opt_8h.html#ae63bf01444fa83e2e4d536e113dddf95">UNITS</a> <a class="code" href="../../d9/d3f/classanonymous__namespace_02lang__geda_8cc_03_1_1_l_a_n_g___g_s_c_h_e_m.html#a9a8ef362f01782f769d800925e96fb72">units</a>()<span class="keyword">const </span>{<span class="keywordflow">return</span> <a class="code" href="../../d7/d7b/u__opt_8h.html#ae63bf01444fa83e2e4d536e113dddf95aebb177ba2b3acad57e25dd89d11edd25">uSI</a>;}
<a name="l00051"></a>00051 
<a name="l00052"></a>00052 <span class="keyword">public</span>: <span class="comment">//functions to be declared</span>
<a name="l00053"></a><a class="code" href="../../d9/d3f/classanonymous__namespace_02lang__geda_8cc_03_1_1_l_a_n_g___g_s_c_h_e_m.html#a25537c332179ecc3f35cd3bbe9c38450">00053</a>     std::string <a class="code" href="../../d9/d3f/classanonymous__namespace_02lang__geda_8cc_03_1_1_l_a_n_g___g_s_c_h_e_m.html#a25537c332179ecc3f35cd3bbe9c38450">arg_front</a>()<span class="keyword">const </span>{
<a name="l00054"></a>00054         <span class="keywordflow">return</span> <span class="stringliteral">&quot; &quot;</span>; <span class="comment">//arbitrary</span>
<a name="l00055"></a>00055     }
<a name="l00056"></a><a class="code" href="../../d9/d3f/classanonymous__namespace_02lang__geda_8cc_03_1_1_l_a_n_g___g_s_c_h_e_m.html#a9ab451f101607d4ac3259c94f532f5f3">00056</a>     std::string <a class="code" href="../../d9/d3f/classanonymous__namespace_02lang__geda_8cc_03_1_1_l_a_n_g___g_s_c_h_e_m.html#a9ab451f101607d4ac3259c94f532f5f3">arg_mid</a>()<span class="keyword">const </span>{
<a name="l00057"></a>00057         <span class="keywordflow">return</span> <span class="stringliteral">&quot;=&quot;</span>; <span class="comment">//arbitrary</span>
<a name="l00058"></a>00058     }
<a name="l00059"></a><a class="code" href="../../d9/d3f/classanonymous__namespace_02lang__geda_8cc_03_1_1_l_a_n_g___g_s_c_h_e_m.html#a880b6bff7ba4cb23f68a295f7984ecbc">00059</a>     std::string <a class="code" href="../../d9/d3f/classanonymous__namespace_02lang__geda_8cc_03_1_1_l_a_n_g___g_s_c_h_e_m.html#a880b6bff7ba4cb23f68a295f7984ecbc">arg_back</a>()<span class="keyword">const </span>{
<a name="l00060"></a>00060         <span class="keywordflow">return</span> <span class="stringliteral">&quot;&quot;</span>;  <span class="comment">//arbitrary</span>
<a name="l00061"></a>00061     }
<a name="l00062"></a>00062 
<a name="l00063"></a>00063 <span class="keyword">public</span>:
<a name="l00064"></a>00064     <span class="keywordtype">void</span>                  parse_top_item(<a class="code" href="../../db/d85/class_c_s.html">CS</a>&amp;, <a class="code" href="../../d4/df4/class_c_a_r_d___l_i_s_t.html">CARD_LIST</a>*);
<a name="l00065"></a>00065     <a class="code" href="../../d1/db9/class_d_e_v___c_o_m_m_e_n_t.html">DEV_COMMENT</a>*  parse_comment(<a class="code" href="../../db/d85/class_c_s.html">CS</a>&amp;, <a class="code" href="../../d1/db9/class_d_e_v___c_o_m_m_e_n_t.html">DEV_COMMENT</a>*);
<a name="l00066"></a>00066     <a class="code" href="../../d7/d7d/class_d_e_v___d_o_t.html">DEV_DOT</a>*      parse_command(<a class="code" href="../../db/d85/class_c_s.html">CS</a>&amp;, <a class="code" href="../../d7/d7d/class_d_e_v___d_o_t.html">DEV_DOT</a>*);
<a name="l00067"></a>00067     <a class="code" href="../../d2/d9e/class_m_o_d_e_l___c_a_r_d.html">MODEL_CARD</a>*   parse_paramset(<a class="code" href="../../db/d85/class_c_s.html">CS</a>&amp;, <a class="code" href="../../d2/d9e/class_m_o_d_e_l___c_a_r_d.html">MODEL_CARD</a>*);
<a name="l00068"></a>00068     <a class="code" href="../../de/d4c/class_m_o_d_e_l___s_u_b_c_k_t.html">MODEL_SUBCKT</a>* parse_module(<a class="code" href="../../db/d85/class_c_s.html">CS</a>&amp;, <a class="code" href="../../de/d4c/class_m_o_d_e_l___s_u_b_c_k_t.html">MODEL_SUBCKT</a>*);
<a name="l00069"></a>00069     <a class="code" href="../../d5/dce/class_c_o_m_p_o_n_e_n_t.html">COMPONENT</a>*    parse_instance(<a class="code" href="../../db/d85/class_c_s.html">CS</a>&amp;, <a class="code" href="../../d5/dce/class_c_o_m_p_o_n_e_n_t.html">COMPONENT</a>*);
<a name="l00070"></a>00070     std::string   find_type_in_string(<a class="code" href="../../db/d85/class_c_s.html">CS</a>&amp;);
<a name="l00071"></a>00071     <a class="code" href="../../de/d4c/class_m_o_d_e_l___s_u_b_c_k_t.html">MODEL_SUBCKT</a>* parse_componmod(<a class="code" href="../../db/d85/class_c_s.html">CS</a>&amp;, <a class="code" href="../../de/d4c/class_m_o_d_e_l___s_u_b_c_k_t.html">MODEL_SUBCKT</a>*);
<a name="l00072"></a>00072 
<a name="l00073"></a>00073 <span class="keyword">private</span>:
<a name="l00074"></a>00074     <span class="keywordtype">void</span> print_paramset(<a class="code" href="../../dc/d18/class_o_m_s_t_r_e_a_m.html">OMSTREAM</a>&amp;, <span class="keyword">const</span> <a class="code" href="../../d2/d9e/class_m_o_d_e_l___c_a_r_d.html">MODEL_CARD</a>*);
<a name="l00075"></a>00075     <span class="keywordtype">void</span> print_module(<a class="code" href="../../dc/d18/class_o_m_s_t_r_e_a_m.html">OMSTREAM</a>&amp;, <span class="keyword">const</span> <a class="code" href="../../de/d4c/class_m_o_d_e_l___s_u_b_c_k_t.html">MODEL_SUBCKT</a>*);
<a name="l00076"></a>00076     <span class="keywordtype">void</span> print_instance(<a class="code" href="../../dc/d18/class_o_m_s_t_r_e_a_m.html">OMSTREAM</a>&amp;, <span class="keyword">const</span> <a class="code" href="../../d5/dce/class_c_o_m_p_o_n_e_n_t.html">COMPONENT</a>*);
<a name="l00077"></a>00077     <span class="keywordtype">void</span> print_comment(<a class="code" href="../../dc/d18/class_o_m_s_t_r_e_a_m.html">OMSTREAM</a>&amp;, <span class="keyword">const</span> <a class="code" href="../../d1/db9/class_d_e_v___c_o_m_m_e_n_t.html">DEV_COMMENT</a>*);
<a name="l00078"></a>00078     <span class="keywordtype">void</span> print_command(<a class="code" href="../../dc/d18/class_o_m_s_t_r_e_a_m.html">OMSTREAM</a>&amp; o, <span class="keyword">const</span> <a class="code" href="../../d7/d7d/class_d_e_v___d_o_t.html">DEV_DOT</a>* c);
<a name="l00079"></a>00079 
<a name="l00080"></a>00080 <span class="keyword">private</span>:
<a name="l00081"></a>00081     <span class="keywordtype">void</span> print_args(<a class="code" href="../../dc/d18/class_o_m_s_t_r_e_a_m.html">OMSTREAM</a>&amp;, <span class="keyword">const</span> <a class="code" href="../../d2/d9e/class_m_o_d_e_l___c_a_r_d.html">MODEL_CARD</a>*);
<a name="l00082"></a>00082     <span class="keywordtype">void</span> print_args(<a class="code" href="../../dc/d18/class_o_m_s_t_r_e_a_m.html">OMSTREAM</a>&amp;, <span class="keyword">const</span> <a class="code" href="../../d5/dce/class_c_o_m_p_o_n_e_n_t.html">COMPONENT</a>*);
<a name="l00083"></a>00083 }<a class="code" href="../../da/d20/namespaceanonymous__namespace_02lang__geda_8cc_03.html#ad2a8db98e0433b42e74d1681792ff328">lang_gschem</a>;
<a name="l00084"></a>00084 
<a name="l00085"></a>00085 <a class="code" href="../../da/dc7/class_d_i_s_p_a_t_c_h_e_r_1_1_i_n_s_t_a_l_l.html">DISPATCHER&lt;LANGUAGE&gt;::INSTALL</a>
<a name="l00086"></a>00086     d(&amp;<a class="code" href="../../d5/d68/globals_8cc.html#ad60e5f6d21eae20ab215dd193dcd5e1e">language_dispatcher</a>, <a class="code" href="../../da/d20/namespaceanonymous__namespace_02lang__geda_8cc_03.html#ad2a8db98e0433b42e74d1681792ff328">lang_gschem</a>.<a class="code" href="../../d9/d3f/classanonymous__namespace_02lang__geda_8cc_03_1_1_l_a_n_g___g_s_c_h_e_m.html#af9e0bb542453557c60e6149c28cc74f5">name</a>(), &amp;<a class="code" href="../../da/d20/namespaceanonymous__namespace_02lang__geda_8cc_03.html#ad2a8db98e0433b42e74d1681792ff328">lang_gschem</a>);
<a name="l00087"></a>00087 <span class="comment">/*----------------------------------------------------------------------*/</span>
<a name="l00088"></a>00088 <span class="comment">/*----------------------------------------------------------------------*/</span>
<a name="l00089"></a>00089 <span class="comment">//Finds type from find_type_in_string</span>
<a name="l00090"></a><a class="code" href="../../da/d20/namespaceanonymous__namespace_02lang__geda_8cc_03.html#a97455c2347820f2b807c803d50c1dea2">00090</a> <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="../../da/d20/namespaceanonymous__namespace_02lang__geda_8cc_03.html#a97455c2347820f2b807c803d50c1dea2">parse_type</a>(<a class="code" href="../../db/d85/class_c_s.html">CS</a>&amp; cmd, <a class="code" href="../../dc/df7/class_c_a_r_d.html">CARD</a>* x)
<a name="l00091"></a>00091 {
<a name="l00092"></a>00092       assert(x);
<a name="l00093"></a>00093       std::string new_type;
<a name="l00094"></a>00094       new_type=<a class="code" href="../../da/d20/namespaceanonymous__namespace_02lang__geda_8cc_03.html#ad2a8db98e0433b42e74d1681792ff328">lang_gschem</a>.<a class="code" href="../../d9/d3f/classanonymous__namespace_02lang__geda_8cc_03_1_1_l_a_n_g___g_s_c_h_e_m.html#ad00531a5c1094e63577591649537046f">find_type_in_string</a>(cmd);
<a name="l00095"></a>00095       x-&gt;<a class="code" href="../../dc/df7/class_c_a_r_d.html#ae68036f27d5e2ce6bbfc0e101e3a3b4c">set_dev_type</a>(new_type);
<a name="l00096"></a>00096 }
<a name="l00097"></a>00097 <span class="comment">/*--------------------------------------------------------------------------*/</span>
<a name="l00098"></a><a class="code" href="../../da/d20/namespaceanonymous__namespace_02lang__geda_8cc_03.html#a22bd8f5a6bac3e33fac72b8f9926d8fc">00098</a> <span class="keyword">static</span> std::string* <a class="code" href="../../da/d20/namespaceanonymous__namespace_02lang__geda_8cc_03.html#a22bd8f5a6bac3e33fac72b8f9926d8fc">parse_pin</a>(<a class="code" href="../../db/d85/class_c_s.html">CS</a>&amp; cmd, <a class="code" href="../../d5/dce/class_c_o_m_p_o_n_e_n_t.html">COMPONENT</a>* x, <span class="keywordtype">int</span> index, <span class="keywordtype">bool</span> ismodel)
<a name="l00099"></a>00099 {
<a name="l00100"></a>00100     assert(x);
<a name="l00101"></a>00101     std::string type=<a class="code" href="../../de/d5e/class_o_p_t.html#a71a05c5434e347581e7ba1a20a3b748a">OPT::language</a>-&gt;<a class="code" href="../../d8/d92/class_l_a_n_g_u_a_g_e.html#a93dbdd07931bf1f7712d6e9aa90ccc40">find_type_in_string</a>(cmd),dump;
<a name="l00102"></a>00102     assert(type==<span class="stringliteral">&quot;pin&quot;</span>);
<a name="l00103"></a>00103     cmd&gt;&gt;<span class="stringliteral">&quot;P&quot;</span>;
<a name="l00104"></a>00104     std::string* coord = <span class="keyword">new</span> std::string[3];
<a name="l00105"></a>00105     <span class="keywordflow">if</span> (!ismodel){
<a name="l00106"></a>00106         std::string pinattributes[7];
<a name="l00107"></a>00107         <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i=0;i&lt;7;i++){
<a name="l00108"></a>00108             cmd&gt;&gt;<span class="stringliteral">&quot; &quot;</span>&gt;&gt;pinattributes[i];
<a name="l00109"></a>00109         }
<a name="l00110"></a>00110         <span class="keywordflow">if</span> (pinattributes[6]==<span class="stringliteral">&quot;1&quot;</span>){
<a name="l00111"></a>00111             coord[0]=pinattributes[2];
<a name="l00112"></a>00112             coord[1]=pinattributes[3];
<a name="l00113"></a>00113         }<span class="keywordflow">else</span> <span class="keywordflow">if</span> (pinattributes[6]==<span class="stringliteral">&quot;0&quot;</span>){
<a name="l00114"></a>00114             coord[0]=pinattributes[0];
<a name="l00115"></a>00115             coord[1]=pinattributes[1];
<a name="l00116"></a>00116         }
<a name="l00117"></a>00117     }
<a name="l00118"></a>00118     <span class="keywordflow">else</span>{
<a name="l00119"></a>00119         cmd&gt;&gt;dump;
<a name="l00120"></a>00120     }
<a name="l00121"></a>00121     std::string    _portvalue=<span class="stringliteral">&quot;_&quot;</span>;
<a name="l00122"></a>00122     cmd.<a class="code" href="../../db/d85/class_c_s.html#adee2e1d2207260af7f8ed55df7367d41">get_line</a>(<span class="stringliteral">&quot;&quot;</span>);
<a name="l00123"></a>00123     cmd&gt;&gt;<span class="stringliteral">&quot;{&quot;</span>;
<a name="l00124"></a>00124     <span class="keywordflow">for</span>(;;){
<a name="l00125"></a>00125         cmd.<a class="code" href="../../db/d85/class_c_s.html#adee2e1d2207260af7f8ed55df7367d41">get_line</a>(<span class="stringliteral">&quot;&quot;</span>);
<a name="l00126"></a>00126         <span class="keywordflow">if</span>(cmd&gt;&gt;<span class="stringliteral">&quot;}&quot;</span>){
<a name="l00127"></a>00127             <span class="keywordflow">break</span>;
<a name="l00128"></a>00128         }<span class="keywordflow">else</span>{
<a name="l00129"></a>00129             <span class="keywordflow">if</span> (cmd&gt;&gt;<span class="stringliteral">&quot;T&quot;</span>){
<a name="l00130"></a>00130                 cmd&gt;&gt;dump;
<a name="l00131"></a>00131             }
<a name="l00132"></a>00132             <span class="keywordflow">else</span>{
<a name="l00133"></a>00133                 std::string _pname=cmd.<a class="code" href="../../db/d85/class_c_s.html#a6647600f58b47a4a13ad4a7ce1f5a40e">ctos</a>(<span class="stringliteral">&quot;=&quot;</span>,<span class="stringliteral">&quot;&quot;</span>,<span class="stringliteral">&quot;&quot;</span>),_pvalue;
<a name="l00134"></a>00134                 cmd&gt;&gt;<span class="stringliteral">&quot;=&quot;</span>&gt;&gt;_pvalue;
<a name="l00135"></a>00135                 <span class="keywordflow">if</span>(_pname==<span class="stringliteral">&quot;pinlabel&quot;</span>){
<a name="l00136"></a>00136                     _portvalue=_pvalue+_portvalue;
<a name="l00137"></a>00137                 }<span class="keywordflow">else</span> <span class="keywordflow">if</span> (_pname==<span class="stringliteral">&quot;pintype&quot;</span>){
<a name="l00138"></a>00138                     _portvalue=_portvalue+_pvalue;
<a name="l00139"></a>00139                 }
<a name="l00140"></a>00140             }
<a name="l00141"></a>00141         }
<a name="l00142"></a>00142     }
<a name="l00143"></a>00143     <span class="keywordflow">if</span>(ismodel){
<a name="l00144"></a>00144         x-&gt;<a class="code" href="../../d5/dce/class_c_o_m_p_o_n_e_n_t.html#a1ab95c30a66cd7a397b15c5f13861fd0">set_port_by_index</a>(index,_portvalue);
<a name="l00145"></a>00145         <span class="keywordflow">return</span> NULL;
<a name="l00146"></a>00146     }<span class="keywordflow">else</span>{
<a name="l00147"></a>00147         <span class="keywordflow">return</span> coord;
<a name="l00148"></a>00148     }
<a name="l00149"></a>00149 }
<a name="l00150"></a>00150 <span class="comment">/*--------------------------------------------------------------------------*/</span>
<a name="l00151"></a><a class="code" href="../../da/d20/namespaceanonymous__namespace_02lang__geda_8cc_03.html#ad338190b7fcf530bd7effe60fdb80091">00151</a> <span class="keyword">static</span> std::string <a class="code" href="../../da/d20/namespaceanonymous__namespace_02lang__geda_8cc_03.html#ad338190b7fcf530bd7effe60fdb80091">find_file_given_name</a>(std::string basename)
<a name="l00152"></a>00152 {
<a name="l00153"></a>00153 <span class="preprocessor">#ifdef HAVE_GEDA</span>
<a name="l00154"></a>00154 <span class="preprocessor"></span>    <span class="keyword">const</span> <span class="keywordtype">char</span>* geda = s_path_sys_data();
<a name="l00155"></a>00155 <span class="preprocessor">#else</span>
<a name="l00156"></a>00156 <span class="preprocessor"></span>    <span class="keyword">const</span> <span class="keywordtype">char</span>* geda = GEDA_DATA;
<a name="l00157"></a>00157 <span class="preprocessor">#endif</span>
<a name="l00158"></a>00158 <span class="preprocessor"></span>    <span class="keywordtype">char</span> gedasym[5+strlen(geda)];
<a name="l00159"></a>00159     sprintf(gedasym, <span class="stringliteral">&quot;%s/sym&quot;</span>, geda);
<a name="l00160"></a>00160     <span class="keywordtype">char</span> *<a class="code" href="../../d5/d1c/namespaceanonymous__namespace_02c__genrat_8cc_03.html#a4efa6c9b62361333533768663f0ae0a1">p</a>[] = {gedasym,NULL};
<a name="l00161"></a>00161     FTS* dir=fts_open(p,FTS_NOCHDIR, NULL);
<a name="l00162"></a>00162     <span class="keywordflow">if</span>(!dir){
<a name="l00163"></a>00163         std::cout&lt;&lt;<span class="stringliteral">&quot;Not opened\n&quot;</span>;
<a name="l00164"></a>00164         <span class="keywordflow">return</span> <span class="stringliteral">&quot;&quot;</span>;
<a name="l00165"></a>00165     }
<a name="l00166"></a>00166     assert(dir);
<a name="l00167"></a>00167     FTSENT* node;
<a name="l00168"></a>00168     std::string dirname=<span class="stringliteral">&quot;&quot;</span>;
<a name="l00169"></a>00169     <span class="keywordflow">while</span>(node=fts_read(dir)){
<a name="l00170"></a>00170         <span class="keywordflow">if</span>(node-&gt;fts_info &amp; FTS_F &amp;&amp; basename==node-&gt;fts_name){
<a name="l00171"></a>00171             dirname=node-&gt;fts_path;
<a name="l00172"></a>00172         }
<a name="l00173"></a>00173     }
<a name="l00174"></a>00174     <span class="keywordflow">if</span>(dirname==<span class="stringliteral">&quot;&quot;</span>){
<a name="l00175"></a>00175         std::cout&lt;&lt;<span class="stringliteral">&quot;No symbol file for&quot;</span>+basename&lt;&lt;std::endl;
<a name="l00176"></a>00176     }
<a name="l00177"></a>00177     <span class="keywordflow">return</span> dirname;
<a name="l00178"></a>00178 }
<a name="l00179"></a>00179 <span class="comment">/*--------------------------------------------------------------------------*/</span>
<a name="l00180"></a><a class="code" href="../../da/d20/namespaceanonymous__namespace_02lang__geda_8cc_03.html#aba731d3f747484cebb08613fadf9cfaa">00180</a> <span class="keyword">static</span> std::vector&lt;std::string*&gt; <a class="code" href="../../da/d20/namespaceanonymous__namespace_02lang__geda_8cc_03.html#aba731d3f747484cebb08613fadf9cfaa">parse_symbol_file</a>(<a class="code" href="../../d5/dce/class_c_o_m_p_o_n_e_n_t.html">COMPONENT</a>* x, std::string basename)
<a name="l00181"></a>00181 {
<a name="l00182"></a>00182     std::string filename=<a class="code" href="../../da/d20/namespaceanonymous__namespace_02lang__geda_8cc_03.html#ad338190b7fcf530bd7effe60fdb80091">find_file_given_name</a>(basename),dump;
<a name="l00183"></a>00183     <a class="code" href="../../db/d85/class_c_s.html">CS</a> sym_cmd(<a class="code" href="../../db/d85/class_c_s.html#a6e80b47b08f8b0f2555a687bf6e564b3a2d72af180ec385d57adaadaf0868b7f7">CS::_INC_FILE</a>, filename);
<a name="l00184"></a>00184     <span class="comment">//Now parse the sym_cmd which will get lines</span>
<a name="l00185"></a>00185     <span class="keywordtype">int</span> index=0;
<a name="l00186"></a>00186     std::vector&lt;std::string*&gt; coord;
<a name="l00187"></a>00187     <span class="keywordflow">while</span>(<span class="keyword">true</span>){
<a name="l00188"></a>00188         <span class="keywordflow">try</span>{
<a name="l00189"></a>00189             sym_cmd.<a class="code" href="../../db/d85/class_c_s.html#adee2e1d2207260af7f8ed55df7367d41">get_line</a>(<span class="stringliteral">&quot;&quot;</span>);
<a name="l00190"></a>00190         }<span class="keywordflow">catch</span> (Exception_End_Of_Input&amp;){
<a name="l00191"></a>00191             <span class="keywordflow">break</span>;
<a name="l00192"></a>00192         }
<a name="l00193"></a>00193         std::string linetype=<a class="code" href="../../de/d5e/class_o_p_t.html#a71a05c5434e347581e7ba1a20a3b748a">OPT::language</a>-&gt;<a class="code" href="../../d8/d92/class_l_a_n_g_u_a_g_e.html#a93dbdd07931bf1f7712d6e9aa90ccc40">find_type_in_string</a>(sym_cmd);
<a name="l00194"></a>00194         <span class="keywordtype">bool</span> ismodel=<span class="keyword">false</span>;
<a name="l00195"></a>00195         <span class="keywordflow">if</span>(x-&gt;<a class="code" href="../../d3/d22/class_c_k_t___b_a_s_e.html#a11b80145b3c19cfeb79f21dc35f90450">short_label</a>()==<span class="stringliteral">&quot;!_&quot;</span>+basename){
<a name="l00196"></a>00196             ismodel=<span class="keyword">true</span>;
<a name="l00197"></a>00197         }
<a name="l00198"></a>00198         <span class="keywordflow">if</span> (linetype==<span class="stringliteral">&quot;pin&quot;</span>){
<a name="l00199"></a>00199             coord.push_back(<a class="code" href="../../da/d20/namespaceanonymous__namespace_02lang__geda_8cc_03.html#a22bd8f5a6bac3e33fac72b8f9926d8fc">parse_pin</a>(sym_cmd,x,index++,ismodel));
<a name="l00200"></a>00200         }<span class="keywordflow">else</span>{
<a name="l00201"></a>00201             sym_cmd&gt;&gt;dump;
<a name="l00202"></a>00202         }
<a name="l00203"></a>00203     }
<a name="l00204"></a>00204     <span class="keywordflow">return</span> coord;
<a name="l00205"></a>00205 }
<a name="l00206"></a>00206 <span class="comment">/*--------------------------------------------------------------------------*/</span>
<a name="l00207"></a>00207 <span class="comment">//place &lt;nodename&gt; x y</span>
<a name="l00208"></a><a class="code" href="../../da/d20/namespaceanonymous__namespace_02lang__geda_8cc_03.html#a5d3cdb43e55f78e3c7245affc9b05786">00208</a> <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="../../da/d20/namespaceanonymous__namespace_02lang__geda_8cc_03.html#a5d3cdb43e55f78e3c7245affc9b05786">parse_place</a>(<a class="code" href="../../db/d85/class_c_s.html">CS</a>&amp; cmd, <a class="code" href="../../d5/dce/class_c_o_m_p_o_n_e_n_t.html">COMPONENT</a>* x)
<a name="l00209"></a>00209 {
<a name="l00210"></a>00210     assert(x);
<a name="l00211"></a>00211     assert(<a class="code" href="../../de/d5e/class_o_p_t.html#a71a05c5434e347581e7ba1a20a3b748a">OPT::language</a>-&gt;find_type_in_string(cmd)==<span class="stringliteral">&quot;place&quot;</span>);
<a name="l00212"></a>00212     cmd&gt;&gt;<span class="stringliteral">&quot;place&quot;</span>;
<a name="l00213"></a>00213     std::string _portname,_x,_y;
<a name="l00214"></a>00214     cmd&gt;&gt;<span class="stringliteral">&quot; &quot;</span>&gt;&gt;_portname&gt;&gt;<span class="stringliteral">&quot; &quot;</span>&gt;&gt;_x&gt;&gt;<span class="stringliteral">&quot; &quot;</span>&gt;&gt;_y;
<a name="l00215"></a>00215     x-&gt;<a class="code" href="../../d5/dce/class_c_o_m_p_o_n_e_n_t.html#a2fa5aafbce9679dd659e2eae0d40cf42">set_param_by_name</a>(<span class="stringliteral">&quot;x&quot;</span>,_x);
<a name="l00216"></a>00216     x-&gt;<a class="code" href="../../d5/dce/class_c_o_m_p_o_n_e_n_t.html#a2fa5aafbce9679dd659e2eae0d40cf42">set_param_by_name</a>(<span class="stringliteral">&quot;y&quot;</span>,_y);
<a name="l00217"></a>00217     x-&gt;<a class="code" href="../../d5/dce/class_c_o_m_p_o_n_e_n_t.html#a1ab95c30a66cd7a397b15c5f13861fd0">set_port_by_index</a>(0,_portname);
<a name="l00218"></a>00218 }
<a name="l00219"></a>00219 <span class="comment">/*--------------------------------------------------------------------------*/</span>
<a name="l00220"></a><a class="code" href="../../da/d20/namespaceanonymous__namespace_02lang__geda_8cc_03.html#a860679d10223143189db9aeaa6c037cc">00220</a> <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="../../da/d20/namespaceanonymous__namespace_02lang__geda_8cc_03.html#a860679d10223143189db9aeaa6c037cc">create_place</a>(std::string cmdstr,<a class="code" href="../../d5/dce/class_c_o_m_p_o_n_e_n_t.html">COMPONENT</a>* x)
<a name="l00221"></a>00221 {
<a name="l00222"></a>00222     <a class="code" href="../../db/d85/class_c_s.html">CS</a> place_cmd(<a class="code" href="../../db/d85/class_c_s.html#a76dbe76fb5837e42a38301a0feeb6d2dadea8dbbb049377b6bf40384c47996738">CS::_STRING</a>,cmdstr);
<a name="l00223"></a>00223     <a class="code" href="../../de/d5e/class_o_p_t.html#a71a05c5434e347581e7ba1a20a3b748a">OPT::language</a>-&gt;<a class="code" href="../../d8/d92/class_l_a_n_g_u_a_g_e.html#a1ecab49c51a0f6d914170c04edb420a8">new__instance</a>(place_cmd,NULL,x-&gt;<a class="code" href="../../dc/df7/class_c_a_r_d.html#aa42395d871220881dee53dcc022b8417">scope</a>());
<a name="l00224"></a>00224 }
<a name="l00225"></a>00225 <span class="comment">/*--------------------------------------------------------------------------*/</span>
<a name="l00226"></a><a class="code" href="../../da/d20/namespaceanonymous__namespace_02lang__geda_8cc_03.html#a1175c18697d4c55202d1f74f845bf9e0">00226</a> <span class="keyword">static</span> std::string <a class="code" href="../../da/d20/namespaceanonymous__namespace_02lang__geda_8cc_03.html#a1175c18697d4c55202d1f74f845bf9e0">findplacewithsameposition</a>(<a class="code" href="../../d5/dce/class_c_o_m_p_o_n_e_n_t.html">COMPONENT</a>* x,std::string xco,std::string yco)
<a name="l00227"></a>00227 {
<a name="l00228"></a>00228     <span class="keywordflow">for</span> (<a class="code" href="../../d4/df4/class_c_a_r_d___l_i_s_t.html#a09cb5fe86d7450c3afe61d31558516eb">CARD_LIST::const_iterator</a> ci = x-&gt;<a class="code" href="../../dc/df7/class_c_a_r_d.html#aa42395d871220881dee53dcc022b8417">scope</a>()-&gt;<a class="code" href="../../d4/df4/class_c_a_r_d___l_i_s_t.html#a215ac8c5830719ceff1ad3b25ad2864a">begin</a>(); ci != x-&gt;<a class="code" href="../../dc/df7/class_c_a_r_d.html#aa42395d871220881dee53dcc022b8417">scope</a>()-&gt;<a class="code" href="../../d4/df4/class_c_a_r_d___l_i_s_t.html#a62d2e7c41c19b588ed74b4247600c875">end</a>(); ++ci) {
<a name="l00229"></a>00229         <span class="keywordflow">if</span>((*ci)-&gt;dev_type()==<span class="stringliteral">&quot;place&quot;</span>){
<a name="l00230"></a>00230             <span class="keywordflow">if</span>(xco==(*ci)-&gt;param_value(1) &amp;&amp; yco==(*ci)-&gt;param_value(0)){
<a name="l00231"></a>00231                 <span class="keywordflow">return</span> <span class="keyword">static_cast&lt;</span><a class="code" href="../../d5/dce/class_c_o_m_p_o_n_e_n_t.html">COMPONENT</a>*<span class="keyword">&gt;</span>(*ci)-&gt;<a class="code" href="../../d5/dce/class_c_o_m_p_o_n_e_n_t.html#a99ac0da644b8d8b33e31233fb82f12d3">port_value</a>(0);
<a name="l00232"></a>00232             }
<a name="l00233"></a>00233         }
<a name="l00234"></a>00234     }
<a name="l00235"></a>00235     <span class="keywordflow">return</span> <span class="stringliteral">&quot;&quot;</span>;
<a name="l00236"></a>00236 }
<a name="l00237"></a>00237 <span class="comment">/*--------------------------------------------------------------------------*/</span>
<a name="l00238"></a><a class="code" href="../../da/d20/namespaceanonymous__namespace_02lang__geda_8cc_03.html#a67207af5226691531e480be2f21dd92e">00238</a> <span class="keyword">static</span> std::string* <a class="code" href="../../da/d20/namespaceanonymous__namespace_02lang__geda_8cc_03.html#a67207af5226691531e480be2f21dd92e">findnodeonthisnet</a>(<a class="code" href="../../dc/df7/class_c_a_r_d.html">CARD</a> *x, std::string x0, std::string y0, std::string x1, std::string y1)
<a name="l00239"></a>00239 {
<a name="l00240"></a>00240     <span class="keywordflow">for</span>(<a class="code" href="../../d4/df4/class_c_a_r_d___l_i_s_t.html#a09cb5fe86d7450c3afe61d31558516eb">CARD_LIST::const_iterator</a> ci = x-&gt;<a class="code" href="../../dc/df7/class_c_a_r_d.html#aa42395d871220881dee53dcc022b8417">scope</a>()-&gt;<a class="code" href="../../d4/df4/class_c_a_r_d___l_i_s_t.html#a215ac8c5830719ceff1ad3b25ad2864a">begin</a>(); ci != x-&gt;<a class="code" href="../../dc/df7/class_c_a_r_d.html#aa42395d871220881dee53dcc022b8417">scope</a>()-&gt;<a class="code" href="../../d4/df4/class_c_a_r_d___l_i_s_t.html#a62d2e7c41c19b588ed74b4247600c875">end</a>(); ++ci) {
<a name="l00241"></a>00241         <span class="keywordflow">if</span>((*ci)-&gt;dev_type()==<span class="stringliteral">&quot;place&quot;</span>){
<a name="l00242"></a>00242             std::string _x=(*ci)-&gt;param_value(1),_y=(*ci)-&gt;param_value(0);
<a name="l00243"></a>00243             <span class="keywordflow">if</span> (y0==y1){
<a name="l00244"></a>00244                 <span class="keywordflow">if</span>((atoi(x1.c_str())&lt;atoi(_x.c_str())&lt;atoi(x0.c_str()) or atoi(x0.c_str())&lt;atoi(_x.c_str())&lt;atoi(x1.c_str())) and _y==y0 and (_x!=x0 and _x!=x1 )){
<a name="l00245"></a>00245                     std::string* coord=<span class="keyword">new</span> std::string[2];
<a name="l00246"></a>00246                     coord[0]=_x;
<a name="l00247"></a>00247                     coord[1]=_y;
<a name="l00248"></a>00248                     <span class="keywordflow">return</span> coord;
<a name="l00249"></a>00249                 }
<a name="l00250"></a>00250                 <span class="keywordflow">else</span>{
<a name="l00251"></a>00251                     <span class="keywordflow">return</span> NULL;
<a name="l00252"></a>00252                 }
<a name="l00253"></a>00253             }<span class="keywordflow">else</span> <span class="keywordflow">if</span> (x0==x1){
<a name="l00254"></a>00254                 <span class="keywordflow">if</span>((atoi(y1.c_str())&lt;atoi(_y.c_str())&lt;atoi(y0.c_str()) or atoi(y0.c_str())&lt;atoi(_y.c_str())&lt;atoi(y1.c_str())) and _x==x0 and (_y!=y0 and  _y!=y1 )){
<a name="l00255"></a>00255                     std::string* coord=<span class="keyword">new</span> std::string[2];
<a name="l00256"></a>00256                     coord[0]=_x;
<a name="l00257"></a>00257                     coord[1]=_y;
<a name="l00258"></a>00258                     <span class="keywordflow">return</span> coord;
<a name="l00259"></a>00259                 }<span class="keywordflow">else</span>{
<a name="l00260"></a>00260                     <span class="keywordflow">return</span> NULL;
<a name="l00261"></a>00261                 }
<a name="l00262"></a>00262             }
<a name="l00263"></a>00263             <span class="keywordflow">else</span>{
<a name="l00264"></a>00264                 <span class="keywordflow">return</span> NULL;
<a name="l00265"></a>00265             }
<a name="l00266"></a>00266         }
<a name="l00267"></a>00267     }
<a name="l00268"></a>00268 }
<a name="l00269"></a>00269 <span class="comment">/*--------------------------------------------------------------------------*/</span>
<a name="l00270"></a>00270 <span class="comment">// A net is in form N x0 y0 x1 y1 c</span>
<a name="l00271"></a>00271 <span class="comment">// Need to get x0 y0 ; x1 y1 ;</span>
<a name="l00272"></a>00272 <span class="comment">// Need to go through all the nets. Anyway?</span>
<a name="l00273"></a>00273 <span class="comment">// Need to save them in other forms? How to go through all cards?</span>
<a name="l00274"></a>00274 <span class="comment">// Need to specify a name for a card?</span>
<a name="l00275"></a><a class="code" href="../../da/d20/namespaceanonymous__namespace_02lang__geda_8cc_03.html#a26319fb1231594ccbea1b3ddaa89eb06">00275</a> <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="../../da/d20/namespaceanonymous__namespace_02lang__geda_8cc_03.html#a26319fb1231594ccbea1b3ddaa89eb06">parse_net</a>(<a class="code" href="../../db/d85/class_c_s.html">CS</a>&amp; cmd, <a class="code" href="../../d5/dce/class_c_o_m_p_o_n_e_n_t.html">COMPONENT</a>* x)
<a name="l00276"></a>00276 {
<a name="l00277"></a>00277     assert(x);
<a name="l00278"></a>00278     assert(<a class="code" href="../../da/d20/namespaceanonymous__namespace_02lang__geda_8cc_03.html#ad2a8db98e0433b42e74d1681792ff328">lang_gschem</a>.<a class="code" href="../../d9/d3f/classanonymous__namespace_02lang__geda_8cc_03_1_1_l_a_n_g___g_s_c_h_e_m.html#ad00531a5c1094e63577591649537046f">find_type_in_string</a>(cmd)==<span class="stringliteral">&quot;net&quot;</span>);
<a name="l00279"></a>00279     cmd&gt;&gt;<span class="stringliteral">&quot;N&quot;</span>;     <span class="comment">//Got N</span>
<a name="l00280"></a>00280     <span class="keywordtype">unsigned</span> here=cmd.<a class="code" href="../../db/d85/class_c_s.html#af9492594a774fd94b30323dab5c98716">cursor</a>();
<a name="l00281"></a>00281     <span class="comment">// x0 y0 x1 y1 color</span>
<a name="l00282"></a>00282     std::string parsedvalue[5];
<a name="l00283"></a>00283     <span class="keywordtype">int</span> i=0;
<a name="l00284"></a>00284     <span class="keywordtype">bool</span> gotthenet=<span class="keyword">true</span>;
<a name="l00285"></a>00285     <span class="keywordflow">while</span> (i&lt;5) {
<a name="l00286"></a>00286         <span class="keywordflow">if</span> (cmd.is_alnum()){
<a name="l00287"></a>00287             cmd&gt;&gt;<span class="stringliteral">&quot; &quot;</span>&gt;&gt;parsedvalue[i];
<a name="l00288"></a>00288         }<span class="keywordflow">else</span>{
<a name="l00289"></a>00289             gotthenet=<span class="keyword">false</span>;
<a name="l00290"></a>00290             cmd.warn(bDANGER, here, x-&gt;<a class="code" href="../../dc/df7/class_c_a_r_d.html#a2b81b4c28056adc678b21ff34a756913">long_label</a>() +<span class="stringliteral">&quot;: Not correct format for net&quot;</span>);
<a name="l00291"></a>00291             <span class="keywordflow">break</span>;
<a name="l00292"></a>00292         }
<a name="l00293"></a>00293         ++i;
<a name="l00294"></a>00294     }
<a name="l00295"></a>00295     <span class="keywordflow">if</span> (gotthenet){
<a name="l00296"></a>00296         <span class="comment">//lang_gschem.nets.push_back(x);</span>
<a name="l00297"></a>00297         <span class="comment">//To check if any of the previous nodes have same placement.</span>
<a name="l00298"></a>00298         x-&gt;<a class="code" href="../../d3/d22/class_c_k_t___b_a_s_e.html#a790ef85fcd3deab6706f18636353a2c3">set_label</a>(<span class="stringliteral">&quot;net&quot;</span>+<a class="code" href="../../d5/d7d/l__ftos_8cc.html#a370b5800dda92dffe5ce4b4af84fdd27">to_string</a>(rand()%10000)); <span class="comment">//BUG : names may coincide!. Doesn&#39;t matter? Or try some initialisation method. (latch like digital)</span>
<a name="l00299"></a>00299 
<a name="l00300"></a>00300         std::string _portvalue=<a class="code" href="../../da/d20/namespaceanonymous__namespace_02lang__geda_8cc_03.html#a1175c18697d4c55202d1f74f845bf9e0">findplacewithsameposition</a>(x,parsedvalue[0],parsedvalue[1]);
<a name="l00301"></a>00301         <span class="keywordflow">if</span>(_portvalue==<span class="stringliteral">&quot;&quot;</span>){
<a name="l00302"></a>00302             _portvalue=<span class="stringliteral">&quot;node&quot;</span>+<a class="code" href="../../d5/d7d/l__ftos_8cc.html#a370b5800dda92dffe5ce4b4af84fdd27">to_string</a>(rand()%10000);
<a name="l00303"></a>00303             <a class="code" href="../../da/d20/namespaceanonymous__namespace_02lang__geda_8cc_03.html#a860679d10223143189db9aeaa6c037cc">create_place</a>(<span class="stringliteral">&quot;place &quot;</span>+_portvalue+<span class="stringliteral">&quot; &quot;</span>+parsedvalue[0]+<span class="stringliteral">&quot; &quot;</span>+parsedvalue[1],x);
<a name="l00304"></a>00304         }
<a name="l00305"></a>00305         x-&gt;<a class="code" href="../../d5/dce/class_c_o_m_p_o_n_e_n_t.html#a1ab95c30a66cd7a397b15c5f13861fd0">set_port_by_index</a>(0,_portvalue);
<a name="l00306"></a>00306 
<a name="l00307"></a>00307         _portvalue=<a class="code" href="../../da/d20/namespaceanonymous__namespace_02lang__geda_8cc_03.html#a1175c18697d4c55202d1f74f845bf9e0">findplacewithsameposition</a>(x,parsedvalue[2],parsedvalue[3]);
<a name="l00308"></a>00308         <span class="keywordflow">if</span>(_portvalue==<span class="stringliteral">&quot;&quot;</span>){
<a name="l00309"></a>00309             _portvalue=<span class="stringliteral">&quot;node&quot;</span>+<a class="code" href="../../d5/d7d/l__ftos_8cc.html#a370b5800dda92dffe5ce4b4af84fdd27">to_string</a>(rand()%10000);
<a name="l00310"></a>00310             <a class="code" href="../../da/d20/namespaceanonymous__namespace_02lang__geda_8cc_03.html#a860679d10223143189db9aeaa6c037cc">create_place</a>(<span class="stringliteral">&quot;place &quot;</span>+_portvalue+<span class="stringliteral">&quot; &quot;</span>+parsedvalue[2]+<span class="stringliteral">&quot; &quot;</span>+parsedvalue[3],x);
<a name="l00311"></a>00311         }
<a name="l00312"></a>00312         x-&gt;<a class="code" href="../../d5/dce/class_c_o_m_p_o_n_e_n_t.html#a1ab95c30a66cd7a397b15c5f13861fd0">set_port_by_index</a>(1,_portvalue);
<a name="l00313"></a>00313 
<a name="l00314"></a>00314         std::string* nodeonthisnet=<a class="code" href="../../da/d20/namespaceanonymous__namespace_02lang__geda_8cc_03.html#a67207af5226691531e480be2f21dd92e">findnodeonthisnet</a>(x,parsedvalue[0],parsedvalue[1],parsedvalue[2],parsedvalue[3]);
<a name="l00315"></a>00315         <span class="keywordflow">if</span> (!nodeonthisnet)
<a name="l00316"></a>00316         {
<a name="l00317"></a>00317         }<span class="keywordflow">else</span>{
<a name="l00318"></a>00318             <span class="comment">//create new net from nodeonthisnet to one of edges of net.</span>
<a name="l00319"></a>00319             std::string netcmdstr=<span class="stringliteral">&quot;N &quot;</span>+parsedvalue[0]+<span class="stringliteral">&quot; &quot;</span>+parsedvalue[1]+<span class="stringliteral">&quot; &quot;</span>+nodeonthisnet[0]+<span class="stringliteral">&quot; &quot;</span>+nodeonthisnet[1]+<span class="stringliteral">&quot; 5&quot;</span>;
<a name="l00320"></a>00320             <a class="code" href="../../db/d85/class_c_s.html">CS</a> net_cmd(<a class="code" href="../../db/d85/class_c_s.html#a76dbe76fb5837e42a38301a0feeb6d2dadea8dbbb049377b6bf40384c47996738">CS::_STRING</a>,netcmdstr);
<a name="l00321"></a>00321             <a class="code" href="../../de/d5e/class_o_p_t.html#a71a05c5434e347581e7ba1a20a3b748a">OPT::language</a>-&gt;<a class="code" href="../../d8/d92/class_l_a_n_g_u_a_g_e.html#a1ecab49c51a0f6d914170c04edb420a8">new__instance</a>(net_cmd,NULL,x-&gt;<a class="code" href="../../dc/df7/class_c_a_r_d.html#aa42395d871220881dee53dcc022b8417">scope</a>());
<a name="l00322"></a>00322         }
<a name="l00323"></a>00323     }
<a name="l00324"></a>00324 }
<a name="l00325"></a>00325 <span class="comment">/*--------------------------------------------------------------------------*/</span>
<a name="l00326"></a><a class="code" href="../../da/d20/namespaceanonymous__namespace_02lang__geda_8cc_03.html#a5e603f26a6cd69ced4a25ab9f65e64cf">00326</a> <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="../../da/d20/namespaceanonymous__namespace_02lang__geda_8cc_03.html#a5e603f26a6cd69ced4a25ab9f65e64cf">parse_component</a>(<a class="code" href="../../db/d85/class_c_s.html">CS</a>&amp; cmd,<a class="code" href="../../d5/dce/class_c_o_m_p_o_n_e_n_t.html">COMPONENT</a>* x){
<a name="l00327"></a>00327     assert(x);
<a name="l00328"></a>00328     std::string component_x, component_y, mirror, angle, dump,basename;
<a name="l00329"></a>00329     std::string type=<a class="code" href="../../da/d20/namespaceanonymous__namespace_02lang__geda_8cc_03.html#ad2a8db98e0433b42e74d1681792ff328">lang_gschem</a>.<a class="code" href="../../d9/d3f/classanonymous__namespace_02lang__geda_8cc_03_1_1_l_a_n_g___g_s_c_h_e_m.html#ad00531a5c1094e63577591649537046f">find_type_in_string</a>(cmd);
<a name="l00330"></a>00330     cmd&gt;&gt;type;
<a name="l00331"></a>00331     std::vector&lt;std::string&gt; paramname;
<a name="l00332"></a>00332     std::vector&lt;std::string&gt; paramvalue;
<a name="l00333"></a>00333     cmd&gt;&gt;component_x&gt;&gt;<span class="stringliteral">&quot; &quot;</span>&gt;&gt;component_y&gt;&gt;<span class="stringliteral">&quot; &quot;</span>&gt;&gt;dump&gt;&gt;<span class="stringliteral">&quot; &quot;</span>&gt;&gt;angle&gt;&gt;<span class="stringliteral">&quot; &quot;</span>&gt;&gt;mirror&gt;&gt;<span class="stringliteral">&quot; &quot;</span>&gt;&gt;basename;
<a name="l00334"></a>00334     <span class="comment">//To get port names and values from symbol?</span>
<a name="l00335"></a>00335     <span class="comment">//Then set params below</span>
<a name="l00336"></a>00336     <span class="comment">//Search for the file name</span>
<a name="l00337"></a>00337     std::vector&lt;std::string*&gt; coordinates=<a class="code" href="../../da/d20/namespaceanonymous__namespace_02lang__geda_8cc_03.html#aba731d3f747484cebb08613fadf9cfaa">parse_symbol_file</a>(x,basename);
<a name="l00338"></a>00338     <span class="keywordtype">char</span>    newx[10],newy[10];
<a name="l00339"></a>00339     <span class="keywordtype">int</span> index=0;
<a name="l00340"></a>00340     <span class="keywordflow">for</span> (std::vector&lt;std::string*&gt;::const_iterator i=coordinates.begin();i&lt;coordinates.end();++i){
<a name="l00341"></a>00341         <span class="comment">//to do integer casting, addition and then reconverting to string</span>
<a name="l00342"></a>00342         <span class="keywordflow">if</span>(mirror==<span class="stringliteral">&quot;0&quot;</span>){
<a name="l00343"></a>00343             <span class="keywordflow">switch</span>(atoi(angle.c_str())){
<a name="l00344"></a>00344             <span class="keywordflow">case</span> 0:
<a name="l00345"></a>00345                 sprintf(newx,<span class="stringliteral">&quot;%d&quot;</span>,atoi(component_x.c_str())+atoi((*i)[0].c_str()));
<a name="l00346"></a>00346                 sprintf(newy,<span class="stringliteral">&quot;%d&quot;</span>,atoi(component_y.c_str())+atoi((*i)[1].c_str()));
<a name="l00347"></a>00347                 <span class="keywordflow">break</span>;
<a name="l00348"></a>00348             <span class="keywordflow">case</span> 90:
<a name="l00349"></a>00349                 sprintf(newx,<span class="stringliteral">&quot;%d&quot;</span>,atoi(component_x.c_str())-atoi((*i)[1].c_str()));
<a name="l00350"></a>00350                 sprintf(newy,<span class="stringliteral">&quot;%d&quot;</span>,atoi(component_y.c_str())+atoi((*i)[0].c_str()));
<a name="l00351"></a>00351                 <span class="keywordflow">break</span>;
<a name="l00352"></a>00352             <span class="keywordflow">case</span> 180:
<a name="l00353"></a>00353                 sprintf(newx,<span class="stringliteral">&quot;%d&quot;</span>,atoi(component_x.c_str())-atoi((*i)[0].c_str()));
<a name="l00354"></a>00354                 sprintf(newy,<span class="stringliteral">&quot;%d&quot;</span>,atoi(component_y.c_str())-atoi((*i)[1].c_str()));
<a name="l00355"></a>00355                 <span class="keywordflow">break</span>;
<a name="l00356"></a>00356             <span class="keywordflow">case</span> 270:
<a name="l00357"></a>00357                 sprintf(newx,<span class="stringliteral">&quot;%d&quot;</span>,atoi(component_x.c_str())+atoi((*i)[1].c_str()));
<a name="l00358"></a>00358                 sprintf(newy,<span class="stringliteral">&quot;%d&quot;</span>,atoi(component_y.c_str())-atoi((*i)[0].c_str()));
<a name="l00359"></a>00359                 <span class="keywordflow">break</span>;
<a name="l00360"></a>00360             }
<a name="l00361"></a>00361         }<span class="keywordflow">else</span> <span class="keywordflow">if</span>(mirror==<span class="stringliteral">&quot;1&quot;</span>){
<a name="l00362"></a>00362             <span class="keywordflow">switch</span>(atoi(angle.c_str())){
<a name="l00363"></a>00363             <span class="keywordflow">case</span> 0:
<a name="l00364"></a>00364                 sprintf(newx,<span class="stringliteral">&quot;%d&quot;</span>,atoi(component_y.c_str())-atoi((*i)[0].c_str()));
<a name="l00365"></a>00365                 sprintf(newy,<span class="stringliteral">&quot;%d&quot;</span>,atoi(component_y.c_str())+atoi((*i)[1].c_str()));
<a name="l00366"></a>00366                 <span class="keywordflow">break</span>;
<a name="l00367"></a>00367             <span class="keywordflow">case</span> 90:
<a name="l00368"></a>00368                 sprintf(newx,<span class="stringliteral">&quot;%d&quot;</span>,atoi(component_x.c_str())-atoi((*i)[1].c_str()));
<a name="l00369"></a>00369                 sprintf(newy,<span class="stringliteral">&quot;%d&quot;</span>,atoi(component_y.c_str())-atoi((*i)[0].c_str()));
<a name="l00370"></a>00370                 <span class="keywordflow">break</span>;
<a name="l00371"></a>00371             <span class="keywordflow">case</span> 180:
<a name="l00372"></a>00372                 sprintf(newx,<span class="stringliteral">&quot;%d&quot;</span>,atoi(component_x.c_str())+atoi((*i)[0].c_str()));
<a name="l00373"></a>00373                 sprintf(newy,<span class="stringliteral">&quot;%d&quot;</span>,atoi(component_y.c_str())-atoi((*i)[1].c_str()));
<a name="l00374"></a>00374                 <span class="keywordflow">break</span>;
<a name="l00375"></a>00375             <span class="keywordflow">case</span> 270:
<a name="l00376"></a>00376                 sprintf(newx,<span class="stringliteral">&quot;%d&quot;</span>,atoi(component_x.c_str())+atoi((*i)[1].c_str()));
<a name="l00377"></a>00377                 sprintf(newy,<span class="stringliteral">&quot;%d&quot;</span>,atoi(component_x.c_str())+atoi((*i)[0].c_str()));
<a name="l00378"></a>00378                 <span class="keywordflow">break</span>;
<a name="l00379"></a>00379             }
<a name="l00380"></a>00380         }<span class="keywordflow">else</span>{
<a name="l00381"></a>00381         <span class="comment">//not correct mirror!</span>
<a name="l00382"></a>00382         }
<a name="l00383"></a>00383         <span class="comment">//delete (*i);</span>
<a name="l00384"></a>00384         <span class="comment">//setting new place devices for each node searching for .</span>
<a name="l00385"></a>00385         <span class="comment">//new__instance(cmd,NULL,Scope); //cmd : can create. Scope? how to get Scope? Yes!</span>
<a name="l00386"></a>00386         std::string _portvalue=<a class="code" href="../../da/d20/namespaceanonymous__namespace_02lang__geda_8cc_03.html#a1175c18697d4c55202d1f74f845bf9e0">findplacewithsameposition</a>(x,newx,newy);
<a name="l00387"></a>00387         <span class="keywordflow">if</span> (_portvalue==<span class="stringliteral">&quot;&quot;</span>){
<a name="l00388"></a>00388             _portvalue=<span class="stringliteral">&quot;node_&quot;</span>+<a class="code" href="../../d5/d7d/l__ftos_8cc.html#a370b5800dda92dffe5ce4b4af84fdd27">to_string</a>(rand()%10000);
<a name="l00389"></a>00389             <a class="code" href="../../da/d20/namespaceanonymous__namespace_02lang__geda_8cc_03.html#a860679d10223143189db9aeaa6c037cc">create_place</a>(<span class="stringliteral">&quot;place &quot;</span>+_portvalue+<span class="stringliteral">&quot; &quot;</span>+newx+<span class="stringliteral">&quot; &quot;</span>+newy,x);
<a name="l00390"></a>00390         }
<a name="l00391"></a>00391         x-&gt;<a class="code" href="../../d5/dce/class_c_o_m_p_o_n_e_n_t.html#a1ab95c30a66cd7a397b15c5f13861fd0">set_port_by_index</a>(index,_portvalue);
<a name="l00392"></a>00392         ++index;
<a name="l00393"></a>00393     }
<a name="l00394"></a>00394     x-&gt;<a class="code" href="../../d5/dce/class_c_o_m_p_o_n_e_n_t.html#a2fa5aafbce9679dd659e2eae0d40cf42">set_param_by_name</a>(<span class="stringliteral">&quot;basename&quot;</span>,basename);
<a name="l00395"></a>00395     <a class="code" href="../../db/d85/class_c_s.html">CS</a> new_cmd(<a class="code" href="../../db/d85/class_c_s.html#a141ea218d48b60f03ce312ffc555bb63aec0b8260a504e8d779d0186b4b10c419">CS::_STDIN</a>);
<a name="l00396"></a>00396     new_cmd.<a class="code" href="../../db/d85/class_c_s.html#adee2e1d2207260af7f8ed55df7367d41">get_line</a>(<span class="stringliteral">&quot;gnucap-gschem- &quot;</span>+basename+<span class="stringliteral">&quot;&gt;&quot;</span>);
<a name="l00397"></a>00397     std::string temp=new_cmd.<a class="code" href="../../db/d85/class_c_s.html#a189029b3d74f0ace272d353317f14c1b">fullstring</a>();
<a name="l00398"></a>00398     <span class="keywordflow">if</span>(temp!=<span class="stringliteral">&quot;{&quot;</span>){
<a name="l00399"></a>00399         <span class="keywordflow">return</span>;
<a name="l00400"></a>00400     }
<a name="l00401"></a>00401     cmd&gt;&gt;<span class="stringliteral">&quot;{&quot;</span>;
<a name="l00402"></a>00402     <span class="keywordflow">for</span> (;;) {
<a name="l00403"></a>00403         new_cmd.<a class="code" href="../../db/d85/class_c_s.html#adee2e1d2207260af7f8ed55df7367d41">get_line</a>(<span class="stringliteral">&quot;gnucap-gschem- &quot;</span>+basename+<span class="stringliteral">&quot;&gt;&quot;</span>);
<a name="l00404"></a>00404         <span class="keywordflow">if</span> (new_cmd &gt;&gt; <span class="stringliteral">&quot;}&quot;</span>) {
<a name="l00405"></a>00405             <span class="keywordflow">break</span>;
<a name="l00406"></a>00406         }<span class="keywordflow">else</span>{
<a name="l00407"></a>00407             <span class="keywordflow">if</span>(new_cmd&gt;&gt;<span class="stringliteral">&quot;T&quot;</span>){
<a name="l00408"></a>00408                 new_cmd&gt;&gt;dump;
<a name="l00409"></a>00409             }
<a name="l00410"></a>00410             <span class="keywordflow">else</span> {
<a name="l00411"></a>00411                 std::string _paramname=new_cmd.<a class="code" href="../../db/d85/class_c_s.html#a6647600f58b47a4a13ad4a7ce1f5a40e">ctos</a>(<span class="stringliteral">&quot;=&quot;</span>,<span class="stringliteral">&quot;&quot;</span>,<span class="stringliteral">&quot;&quot;</span>),_paramvalue;
<a name="l00412"></a>00412                 new_cmd&gt;&gt;<span class="stringliteral">&quot;=&quot;</span>&gt;&gt;_paramvalue;
<a name="l00413"></a>00413                 paramname.push_back (_paramname);
<a name="l00414"></a>00414                 paramvalue.push_back(_paramvalue);
<a name="l00415"></a>00415                 <span class="keywordflow">if</span>(_paramname==<span class="stringliteral">&quot;device&quot;</span>){
<a name="l00416"></a>00416                     x-&gt;<a class="code" href="../../d5/dce/class_c_o_m_p_o_n_e_n_t.html#a195b069e0458b534f4a7e1258e752332">set_dev_type</a>(_paramvalue);
<a name="l00417"></a>00417                 }<span class="keywordflow">else</span> <span class="keywordflow">if</span> (_paramname==<span class="stringliteral">&quot;refdes&quot;</span> &amp;&amp; _paramvalue!=<span class="stringliteral">&quot;?&quot;</span>){
<a name="l00418"></a>00418                     x-&gt;<a class="code" href="../../d3/d22/class_c_k_t___b_a_s_e.html#a790ef85fcd3deab6706f18636353a2c3">set_label</a>(_paramvalue);
<a name="l00419"></a>00419                 }<span class="keywordflow">else</span>{
<a name="l00420"></a>00420                     x-&gt;<a class="code" href="../../d5/dce/class_c_o_m_p_o_n_e_n_t.html#a2fa5aafbce9679dd659e2eae0d40cf42">set_param_by_name</a>(_paramname,_paramvalue);
<a name="l00421"></a>00421                 }
<a name="l00422"></a>00422             }
<a name="l00423"></a>00423         }
<a name="l00424"></a>00424     }
<a name="l00425"></a>00425     <span class="keywordflow">if</span>(x-&gt;<a class="code" href="../../d3/d22/class_c_k_t___b_a_s_e.html#a11b80145b3c19cfeb79f21dc35f90450">short_label</a>()==<span class="stringliteral">&quot;&quot;</span>){
<a name="l00426"></a>00426         x-&gt;<a class="code" href="../../d3/d22/class_c_k_t___b_a_s_e.html#a790ef85fcd3deab6706f18636353a2c3">set_label</a>(type+<a class="code" href="../../d5/d7d/l__ftos_8cc.html#a370b5800dda92dffe5ce4b4af84fdd27">to_string</a>(rand()));
<a name="l00427"></a>00427     }
<a name="l00428"></a>00428 }
<a name="l00429"></a>00429 <span class="comment">/*--------------------------------------------------------------------------*/</span>
<a name="l00430"></a>00430 <span class="comment">/*--------------------------------------------------------------------------*/</span>
<a name="l00431"></a><a class="code" href="../../d9/d3f/classanonymous__namespace_02lang__geda_8cc_03_1_1_l_a_n_g___g_s_c_h_e_m.html#adcbef8ad24fce95be77da41c9308b76f">00431</a> <a class="code" href="../../d1/db9/class_d_e_v___c_o_m_m_e_n_t.html">DEV_COMMENT</a>* LANG_GSCHEM::parse_comment(<a class="code" href="../../db/d85/class_c_s.html">CS</a>&amp; cmd, <a class="code" href="../../d1/db9/class_d_e_v___c_o_m_m_e_n_t.html">DEV_COMMENT</a>* x)
<a name="l00432"></a>00432 {
<a name="l00433"></a>00433     assert(x);
<a name="l00434"></a>00434     x-&gt;<a class="code" href="../../d1/db9/class_d_e_v___c_o_m_m_e_n_t.html#ab20286be87e4371dee72c586b295cb77">set</a>(cmd.<a class="code" href="../../db/d85/class_c_s.html#a189029b3d74f0ace272d353317f14c1b">fullstring</a>());
<a name="l00435"></a>00435     <span class="keywordflow">return</span> x;
<a name="l00436"></a>00436 }
<a name="l00437"></a>00437 <span class="comment">/*--------------------------------------------------------------------------*/</span>
<a name="l00438"></a><a class="code" href="../../d9/d3f/classanonymous__namespace_02lang__geda_8cc_03_1_1_l_a_n_g___g_s_c_h_e_m.html#aafa4024e157e898c26aaab167f16b4e2">00438</a> <a class="code" href="../../d7/d7d/class_d_e_v___d_o_t.html">DEV_DOT</a>* LANG_GSCHEM::parse_command(<a class="code" href="../../db/d85/class_c_s.html">CS</a>&amp; cmd, <a class="code" href="../../d7/d7d/class_d_e_v___d_o_t.html">DEV_DOT</a>* x)
<a name="l00439"></a>00439 {
<a name="l00440"></a>00440     assert(x);
<a name="l00441"></a>00441     x-&gt;<a class="code" href="../../d7/d7d/class_d_e_v___d_o_t.html#a283dfff6d57d2322fe52fd4ee8f216f3">set</a>(cmd.<a class="code" href="../../db/d85/class_c_s.html#a189029b3d74f0ace272d353317f14c1b">fullstring</a>());
<a name="l00442"></a>00442     <a class="code" href="../../d4/df4/class_c_a_r_d___l_i_s_t.html">CARD_LIST</a>* scope = (x-&gt;<a class="code" href="../../dc/df7/class_c_a_r_d.html#a90030b0a7d13b3625ffeceb50ea016ee">owner</a>()) ? x-&gt;<a class="code" href="../../dc/df7/class_c_a_r_d.html#a90030b0a7d13b3625ffeceb50ea016ee">owner</a>()-&gt;<a class="code" href="../../dc/df7/class_c_a_r_d.html#ab97144cf661970fe592fb73c0b104967">subckt</a>() : &amp;<a class="code" href="../../d4/df4/class_c_a_r_d___l_i_s_t.html#a0f2dd616de196fb4f933609cc41ce588">CARD_LIST::card_list</a>;
<a name="l00443"></a>00443 
<a name="l00444"></a>00444     cmd.<a class="code" href="../../db/d85/class_c_s.html#aaea6a1e13e3ab2f756db42ca8dd121cb">reset</a>();
<a name="l00445"></a>00445     <a class="code" href="../../da/d8a/class_c_m_d.html#abcc8db5129f79cf492ae6507bd25b23c">CMD::cmdproc</a>(cmd, scope);
<a name="l00446"></a>00446     <span class="keyword">delete</span> x;
<a name="l00447"></a>00447     <span class="keywordflow">return</span> NULL;
<a name="l00448"></a>00448 }
<a name="l00449"></a>00449 <span class="comment">/*--------------------------------------------------------------------------*/</span>
<a name="l00450"></a><a class="code" href="../../d9/d3f/classanonymous__namespace_02lang__geda_8cc_03_1_1_l_a_n_g___g_s_c_h_e_m.html#ac7b6166644b323f49fedf4d55f2a2824">00450</a> <a class="code" href="../../d2/d9e/class_m_o_d_e_l___c_a_r_d.html">MODEL_CARD</a>* LANG_GSCHEM::parse_paramset(<a class="code" href="../../db/d85/class_c_s.html">CS</a>&amp; cmd, <a class="code" href="../../d2/d9e/class_m_o_d_e_l___c_a_r_d.html">MODEL_CARD</a>* x)
<a name="l00451"></a>00451 {
<a name="l00452"></a>00452     assert(x);
<a name="l00453"></a>00453     <span class="keywordflow">return</span> NULL;
<a name="l00454"></a>00454 }
<a name="l00455"></a>00455 <span class="comment">/*--------------------------------------------------------------------------*/</span>
<a name="l00456"></a><a class="code" href="../../d9/d3f/classanonymous__namespace_02lang__geda_8cc_03_1_1_l_a_n_g___g_s_c_h_e_m.html#a05d87591660efef3c83774b150f237f2">00456</a> <a class="code" href="../../de/d4c/class_m_o_d_e_l___s_u_b_c_k_t.html">MODEL_SUBCKT</a>* LANG_GSCHEM::parse_module(<a class="code" href="../../db/d85/class_c_s.html">CS</a>&amp; cmd, <a class="code" href="../../de/d4c/class_m_o_d_e_l___s_u_b_c_k_t.html">MODEL_SUBCKT</a>* x)
<a name="l00457"></a>00457 {
<a name="l00458"></a>00458   <span class="comment">//To parse heirarchical schematics</span>
<a name="l00459"></a>00459   <span class="keywordflow">return</span> NULL;
<a name="l00460"></a>00460 }
<a name="l00461"></a>00461 
<a name="l00462"></a><a class="code" href="../../d9/d3f/classanonymous__namespace_02lang__geda_8cc_03_1_1_l_a_n_g___g_s_c_h_e_m.html#a609ba8356bf05244a45a86081f7ee91b">00462</a> <a class="code" href="../../de/d4c/class_m_o_d_e_l___s_u_b_c_k_t.html">MODEL_SUBCKT</a>* LANG_GSCHEM::parse_componmod(<a class="code" href="../../db/d85/class_c_s.html">CS</a>&amp; cmd, <a class="code" href="../../de/d4c/class_m_o_d_e_l___s_u_b_c_k_t.html">MODEL_SUBCKT</a>* x)
<a name="l00463"></a>00463 {
<a name="l00464"></a>00464     assert(x);
<a name="l00465"></a>00465     cmd.<a class="code" href="../../db/d85/class_c_s.html#aaea6a1e13e3ab2f756db42ca8dd121cb">reset</a>();
<a name="l00466"></a>00466     std::string type = find_type_in_string(cmd);
<a name="l00467"></a>00467     assert(type==<span class="stringliteral">&quot;C&quot;</span>);
<a name="l00468"></a>00468     std::string component_x, component_y, mirror, angle, dump,basename;
<a name="l00469"></a>00469     <span class="keywordtype">bool</span> isgraphical=<span class="keyword">false</span>;
<a name="l00470"></a>00470     cmd&gt;&gt;<span class="stringliteral">&quot;C&quot;</span>;
<a name="l00471"></a>00471     <span class="keywordtype">unsigned</span> here=cmd.<a class="code" href="../../db/d85/class_c_s.html#af9492594a774fd94b30323dab5c98716">cursor</a>();
<a name="l00472"></a>00472     cmd&gt;&gt;component_x&gt;&gt;<span class="stringliteral">&quot; &quot;</span>&gt;&gt;component_y&gt;&gt;<span class="stringliteral">&quot; &quot;</span>&gt;&gt;dump&gt;&gt;<span class="stringliteral">&quot; &quot;</span>&gt;&gt;angle&gt;&gt;<span class="stringliteral">&quot; &quot;</span>&gt;&gt;mirror&gt;&gt;<span class="stringliteral">&quot; &quot;</span>&gt;&gt;basename;
<a name="l00473"></a>00473     <span class="comment">//open the basename to get the ports and their placements</span>
<a name="l00474"></a>00474     <span class="comment">//parse_ports(newcmd,x);</span>
<a name="l00475"></a>00475     x-&gt;<a class="code" href="../../d3/d22/class_c_k_t___b_a_s_e.html#a790ef85fcd3deab6706f18636353a2c3">set_label</a>(<span class="stringliteral">&quot;!_&quot;</span>+basename);
<a name="l00476"></a>00476     <a class="code" href="../../da/d20/namespaceanonymous__namespace_02lang__geda_8cc_03.html#aba731d3f747484cebb08613fadf9cfaa">parse_symbol_file</a>(x,basename);
<a name="l00477"></a>00477 
<a name="l00478"></a>00478     <span class="keywordflow">if</span> (isgraphical==<span class="keyword">true</span>) {
<a name="l00479"></a>00479         <span class="keywordflow">return</span> NULL;
<a name="l00480"></a>00480     }
<a name="l00481"></a>00481     <span class="keywordflow">else</span>{
<a name="l00482"></a>00482         cmd.<a class="code" href="../../db/d85/class_c_s.html#aaea6a1e13e3ab2f756db42ca8dd121cb">reset</a>(here);
<a name="l00483"></a>00483     }
<a name="l00484"></a>00484     <span class="comment">/*type = &quot;graphical&quot;;</span>
<a name="l00485"></a>00485 <span class="comment">    x-&gt;set_dev_type(type);</span>
<a name="l00486"></a>00486 <span class="comment">    std::cout&lt;&lt;x-&gt;dev_type()&lt;&lt;&quot; is the dev type\n&quot;;</span>
<a name="l00487"></a>00487 <span class="comment">    */</span>
<a name="l00488"></a>00488     <span class="keywordflow">return</span> x;
<a name="l00489"></a>00489 }
<a name="l00490"></a>00490 <span class="comment">/*--------------------------------------------------------------------------*/</span>
<a name="l00491"></a><a class="code" href="../../d9/d3f/classanonymous__namespace_02lang__geda_8cc_03_1_1_l_a_n_g___g_s_c_h_e_m.html#a07d5c9f8ced5983f2fe5fe708762887a">00491</a> <a class="code" href="../../d5/dce/class_c_o_m_p_o_n_e_n_t.html">COMPONENT</a>* LANG_GSCHEM::parse_instance(<a class="code" href="../../db/d85/class_c_s.html">CS</a>&amp; cmd, <a class="code" href="../../d5/dce/class_c_o_m_p_o_n_e_n_t.html">COMPONENT</a>* x)
<a name="l00492"></a>00492 {
<a name="l00493"></a>00493     cmd.<a class="code" href="../../db/d85/class_c_s.html#aaea6a1e13e3ab2f756db42ca8dd121cb">reset</a>();
<a name="l00494"></a>00494     <a class="code" href="../../da/d20/namespaceanonymous__namespace_02lang__geda_8cc_03.html#a97455c2347820f2b807c803d50c1dea2">parse_type</a>(cmd, x); <span class="comment">//parse type will parse the component type and set_dev_type</span>
<a name="l00495"></a>00495     <span class="keywordflow">if</span> (x-&gt;<a class="code" href="../../dc/df7/class_c_a_r_d.html#a5604e0c14c4bcc8ff9fbf418b4c8d40d">dev_type</a>()==<span class="stringliteral">&quot;net&quot;</span>) {
<a name="l00496"></a>00496     <a class="code" href="../../da/d20/namespaceanonymous__namespace_02lang__geda_8cc_03.html#a26319fb1231594ccbea1b3ddaa89eb06">parse_net</a>(cmd,x);
<a name="l00497"></a>00497     }<span class="keywordflow">else</span> <span class="keywordflow">if</span>(x-&gt;<a class="code" href="../../dc/df7/class_c_a_r_d.html#a5604e0c14c4bcc8ff9fbf418b4c8d40d">dev_type</a>()==<span class="stringliteral">&quot;place&quot;</span>){
<a name="l00498"></a>00498     <a class="code" href="../../da/d20/namespaceanonymous__namespace_02lang__geda_8cc_03.html#a5d3cdb43e55f78e3c7245affc9b05786">parse_place</a>(cmd,x);
<a name="l00499"></a>00499     }<span class="keywordflow">else</span> {
<a name="l00500"></a>00500     <a class="code" href="../../da/d20/namespaceanonymous__namespace_02lang__geda_8cc_03.html#a5e603f26a6cd69ced4a25ab9f65e64cf">parse_component</a>(cmd,x);
<a name="l00501"></a>00501     }
<a name="l00502"></a>00502     cmd.<a class="code" href="../../db/d85/class_c_s.html#ac8b7441f7e4149cecb782e949ee8598a">check</a>(bWARNING, <span class="stringliteral">&quot;what&#39;s ins this?&quot;</span>);
<a name="l00503"></a>00503     <span class="keywordflow">return</span> x;
<a name="l00504"></a>00504 
<a name="l00505"></a>00505 }
<a name="l00506"></a>00506 <span class="comment">/*----------------------------------------------------------------------*/</span>
<a name="l00507"></a>00507 <span class="comment">/*----------------------------------------------------------------------*/</span>
<a name="l00508"></a>00508 <span class="comment">/* find_type_in_string : specific to each language which gives the type of the</span>
<a name="l00509"></a>00509 <span class="comment"> * cmd Eg: verilog : comment ,resistor etc</span>
<a name="l00510"></a>00510 <span class="comment"> * In Gschem the broad high level types are</span>
<a name="l00511"></a>00511 <span class="comment"> * The following don&#39;t mean anything to the electrical part of the circuit and</span>
<a name="l00512"></a>00512 <span class="comment"> * they are of type graphical</span>
<a name="l00513"></a>00513 <span class="comment"> *  version  v    * circle   V</span>
<a name="l00514"></a>00514 <span class="comment"> *  line     L    * arc      A</span>
<a name="l00515"></a>00515 <span class="comment"> *  picture  G    * path     H</span>
<a name="l00516"></a>00516 <span class="comment"> *  box      B    * text     T (not attributes)</span>
<a name="l00517"></a>00517 <span class="comment"> * The following have electrical meaning and are of type</span>
<a name="l00518"></a>00518 <span class="comment"> *  net          N</span>
<a name="l00519"></a>00519 <span class="comment"> *  bus          U</span>
<a name="l00520"></a>00520 <span class="comment"> *  pin          P</span>
<a name="l00521"></a>00521 <span class="comment"> *  component    C</span>
<a name="l00522"></a>00522 <span class="comment"> *  attributes   T (enclosed in {})  // don&#39;t include in find_type_in_string</span>
<a name="l00523"></a>00523 <span class="comment"> * Will check for type graphical (type=dev_comment) else type will be</span>
<a name="l00524"></a>00524 <span class="comment"> * net or bus or pin or component\</span>
<a name="l00525"></a>00525 <span class="comment"> */</span>
<a name="l00526"></a><a class="code" href="../../d9/d3f/classanonymous__namespace_02lang__geda_8cc_03_1_1_l_a_n_g___g_s_c_h_e_m.html#ad00531a5c1094e63577591649537046f">00526</a> std::string LANG_GSCHEM::find_type_in_string(<a class="code" href="../../db/d85/class_c_s.html">CS</a>&amp; cmd)
<a name="l00527"></a>00527 {
<a name="l00528"></a>00528     <span class="keywordtype">unsigned</span> here = cmd.<a class="code" href="../../db/d85/class_c_s.html#af9492594a774fd94b30323dab5c98716">cursor</a>(); <span class="comment">//store cursor position to reset back later</span>
<a name="l00529"></a>00529     std::string type;   <span class="comment">//stores type : should check device attribute..</span>
<a name="l00530"></a>00530     <span class="comment">//graphical=[&quot;v&quot;,&quot;L&quot;,&quot;G&quot;,&quot;B&quot;,&quot;V&quot;,&quot;A&quot;,&quot;H&quot;,&quot;T&quot;]</span>
<a name="l00531"></a>00531     <span class="keywordflow">if</span> (cmd &gt;&gt; <span class="stringliteral">&quot;v &quot;</span> || cmd &gt;&gt; <span class="stringliteral">&quot;L &quot;</span> || cmd &gt;&gt; <span class="stringliteral">&quot;G &quot;</span> || cmd &gt;&gt; <span class="stringliteral">&quot;B &quot;</span> || cmd &gt;&gt;<span class="stringliteral">&quot;V &quot;</span>
<a name="l00532"></a>00532         || cmd &gt;&gt; <span class="stringliteral">&quot;A &quot;</span> || cmd &gt;&gt; <span class="stringliteral">&quot;H &quot;</span> || cmd &gt;&gt; <span class="stringliteral">&quot;T &quot;</span>){ type=<span class="stringliteral">&quot;dev_comment&quot;</span>;}
<a name="l00533"></a>00533     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (cmd &gt;&gt; <span class="stringliteral">&quot;N &quot;</span>){ type=<span class="stringliteral">&quot;net&quot;</span>;}
<a name="l00534"></a>00534     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (cmd &gt;&gt; <span class="stringliteral">&quot;U &quot;</span>){ type=<span class="stringliteral">&quot;bus&quot;</span>;}
<a name="l00535"></a>00535     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (cmd &gt;&gt; <span class="stringliteral">&quot;P &quot;</span>){ type=<span class="stringliteral">&quot;pin&quot;</span>;}
<a name="l00536"></a>00536     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (cmd &gt;&gt; <span class="stringliteral">&quot;C &quot;</span>){ type=<span class="stringliteral">&quot;C&quot;</span>;}
<a name="l00537"></a>00537     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (cmd &gt;&gt; <span class="stringliteral">&quot;place &quot;</span>){ type=<span class="stringliteral">&quot;place&quot;</span>;}
<a name="l00538"></a>00538     <span class="keywordflow">else</span> {  cmd &gt;&gt; type; } <span class="comment">//Not matched with the type. What now?</span>
<a name="l00539"></a>00539     cmd.<a class="code" href="../../db/d85/class_c_s.html#aaea6a1e13e3ab2f756db42ca8dd121cb">reset</a>(here);<span class="comment">//Reset cursor back to the position that</span>
<a name="l00540"></a>00540                     <span class="comment">//has been started with at beginning</span>
<a name="l00541"></a>00541     <span class="keywordflow">return</span> type;    <span class="comment">// returns the type of the string</span>
<a name="l00542"></a>00542 }
<a name="l00543"></a>00543 <span class="comment">/*----------------------------------------------------------------------*/</span>
<a name="l00544"></a>00544 <span class="comment">/* parse_top_item :</span>
<a name="l00545"></a>00545 <span class="comment"> * The top default thing that is parsed. Here new__instances are</span>
<a name="l00546"></a>00546 <span class="comment"> * created and (TODO)post processing of nets is done</span>
<a name="l00547"></a>00547 <span class="comment"> */</span>
<a name="l00548"></a><a class="code" href="../../d9/d3f/classanonymous__namespace_02lang__geda_8cc_03_1_1_l_a_n_g___g_s_c_h_e_m.html#ad83321985ec0e0e7884c7644ac92fd6d">00548</a> <span class="keywordtype">void</span> LANG_GSCHEM::parse_top_item(<a class="code" href="../../db/d85/class_c_s.html">CS</a>&amp; cmd, <a class="code" href="../../d4/df4/class_c_a_r_d___l_i_s_t.html">CARD_LIST</a>* Scope)
<a name="l00549"></a>00549 {
<a name="l00550"></a>00550     cmd.<a class="code" href="../../db/d85/class_c_s.html#adee2e1d2207260af7f8ed55df7367d41">get_line</a>(<span class="stringliteral">&quot;gnucap-gschem&gt;&quot;</span>);
<a name="l00551"></a>00551     new__instance(cmd, NULL, Scope);
<a name="l00552"></a>00552 }
<a name="l00553"></a>00553 <span class="comment">/*----------------------------------------------------------------------*/</span>
<a name="l00554"></a>00554 <span class="comment">/*----------------------------------------------------------------------*/</span>
<a name="l00555"></a><a class="code" href="../../d9/d3f/classanonymous__namespace_02lang__geda_8cc_03_1_1_l_a_n_g___g_s_c_h_e_m.html#a70cf6c1b72019e2f30958fbad2bf12fe">00555</a> <span class="keywordtype">void</span> LANG_GSCHEM::print_args(<a class="code" href="../../dc/d18/class_o_m_s_t_r_e_a_m.html">OMSTREAM</a>&amp; o, <span class="keyword">const</span> <a class="code" href="../../d2/d9e/class_m_o_d_e_l___c_a_r_d.html">MODEL_CARD</a>* x)
<a name="l00556"></a>00556 {
<a name="l00557"></a>00557   assert(x);
<a name="l00558"></a>00558   <span class="keywordflow">if</span> (x-&gt;<a class="code" href="../../dc/df7/class_c_a_r_d.html#aa9f44021a50e51ad6e040a57143b5f68">use_obsolete_callback_print</a>()) {
<a name="l00559"></a>00559     x-&gt;<a class="code" href="../../dc/df7/class_c_a_r_d.html#a905eb46de44ba560ac2665026a06dd10">print_args_obsolete_callback</a>(o, <span class="keyword">this</span>);  <span class="comment">//BUG//callback//</span>
<a name="l00560"></a>00560   }<span class="keywordflow">else</span>{
<a name="l00561"></a>00561     <span class="keywordflow">for</span> (<span class="keywordtype">int</span> ii = x-&gt;<a class="code" href="../../d2/d9e/class_m_o_d_e_l___c_a_r_d.html#a087dad3e25416510571e4f98bbc1c1bc">param_count</a>() - 1;  ii &gt;= 0;  --ii) {
<a name="l00562"></a>00562       <span class="keywordflow">if</span> (x-&gt;<a class="code" href="../../d2/d9e/class_m_o_d_e_l___c_a_r_d.html#a5fd9ed17f958ae3e708f9634d8c2e8f6">param_is_printable</a>(ii)) {
<a name="l00563"></a>00563         std::string arg = <span class="stringliteral">&quot; .&quot;</span> + x-&gt;<a class="code" href="../../d2/d9e/class_m_o_d_e_l___c_a_r_d.html#a5612573f122027e09ed72b46a8e28564">param_name</a>(ii) + <span class="stringliteral">&quot;=&quot;</span> + x-&gt;<a class="code" href="../../d2/d9e/class_m_o_d_e_l___c_a_r_d.html#ad36531d8b0807c4cf0e6f9475afa2747">param_value</a>(ii) + <span class="stringliteral">&quot;;&quot;</span>;
<a name="l00564"></a>00564         o &lt;&lt; arg;
<a name="l00565"></a>00565       }<span class="keywordflow">else</span>{
<a name="l00566"></a>00566       }
<a name="l00567"></a>00567     }
<a name="l00568"></a>00568   }
<a name="l00569"></a>00569 }
<a name="l00570"></a>00570 <span class="comment">/*--------------------------------------------------------------------------*/</span>
<a name="l00571"></a><a class="code" href="../../d9/d3f/classanonymous__namespace_02lang__geda_8cc_03_1_1_l_a_n_g___g_s_c_h_e_m.html#affa970c3d0f377135277f7e1a32f533d">00571</a> <span class="keywordtype">void</span> LANG_GSCHEM::print_args(<a class="code" href="../../dc/d18/class_o_m_s_t_r_e_a_m.html">OMSTREAM</a>&amp; o, <span class="keyword">const</span> <a class="code" href="../../d5/dce/class_c_o_m_p_o_n_e_n_t.html">COMPONENT</a>* x)
<a name="l00572"></a>00572 {
<a name="l00573"></a>00573   assert(x);
<a name="l00574"></a>00574   o &lt;&lt; <span class="stringliteral">&quot; #(&quot;</span>;
<a name="l00575"></a>00575   <span class="keywordflow">if</span> (x-&gt;<a class="code" href="../../d5/dce/class_c_o_m_p_o_n_e_n_t.html#af062a92eb2973f2df732f49a287f5ecc">use_obsolete_callback_print</a>()) {
<a name="l00576"></a>00576     arg_count = 0;
<a name="l00577"></a>00577     x-&gt;<a class="code" href="../../d5/dce/class_c_o_m_p_o_n_e_n_t.html#ad25f91066942a482fd8d2aeca4454eda">print_args_obsolete_callback</a>(o, <span class="keyword">this</span>);  <span class="comment">//BUG//callback//</span>
<a name="l00578"></a>00578     arg_count = INACTIVE;
<a name="l00579"></a>00579   }<span class="keywordflow">else</span>{
<a name="l00580"></a>00580     std::string sep = <span class="stringliteral">&quot;.&quot;</span>;
<a name="l00581"></a>00581     <span class="keywordflow">for</span> (<span class="keywordtype">int</span> ii = x-&gt;<a class="code" href="../../d5/dce/class_c_o_m_p_o_n_e_n_t.html#a48cb97ddcd015de7eacc9c68e8ad4ec1">param_count</a>() - 1;  ii &gt;= 0;  --ii) {
<a name="l00582"></a>00582       <span class="keywordflow">if</span> (x-&gt;<a class="code" href="../../d5/dce/class_c_o_m_p_o_n_e_n_t.html#ae5a9662b84af4f6f90eacb179f7e892a">param_is_printable</a>(ii)) {
<a name="l00583"></a>00583         o &lt;&lt; sep &lt;&lt; x-&gt;<a class="code" href="../../d5/dce/class_c_o_m_p_o_n_e_n_t.html#ae52bdb0b0acaf64682b7c9dd1656aada">param_name</a>(ii) &lt;&lt; <span class="stringliteral">&quot;(&quot;</span> &lt;&lt; x-&gt;<a class="code" href="../../d5/dce/class_c_o_m_p_o_n_e_n_t.html#a1948b2816aae0bd182df10a627e7bdf3">param_value</a>(ii) &lt;&lt; <span class="stringliteral">&quot;)&quot;</span>;
<a name="l00584"></a>00584         sep = <span class="stringliteral">&quot;,.&quot;</span>;
<a name="l00585"></a>00585       }<span class="keywordflow">else</span>{
<a name="l00586"></a>00586       }
<a name="l00587"></a>00587     }
<a name="l00588"></a>00588   }
<a name="l00589"></a>00589   o &lt;&lt; <span class="stringliteral">&quot;) &quot;</span>;
<a name="l00590"></a>00590 }
<a name="l00591"></a>00591 <span class="comment">/*--------------------------------------------------------------------------*/</span>
<a name="l00592"></a><a class="code" href="../../da/d20/namespaceanonymous__namespace_02lang__geda_8cc_03.html#a9887be62fced11d1a88b0a6f62fc5e6d">00592</a> <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="../../da/d20/namespaceanonymous__namespace_02lang__geda_8cc_03.html#a9887be62fced11d1a88b0a6f62fc5e6d">print_type</a>(<a class="code" href="../../dc/d18/class_o_m_s_t_r_e_a_m.html">OMSTREAM</a>&amp; o, <span class="keyword">const</span> <a class="code" href="../../d5/dce/class_c_o_m_p_o_n_e_n_t.html">COMPONENT</a>* x)
<a name="l00593"></a>00593 {
<a name="l00594"></a>00594   assert(x);
<a name="l00595"></a>00595   o &lt;&lt; x-&gt;<a class="code" href="../../dc/df7/class_c_a_r_d.html#a5604e0c14c4bcc8ff9fbf418b4c8d40d">dev_type</a>();
<a name="l00596"></a>00596 }
<a name="l00597"></a>00597 <span class="comment">/*--------------------------------------------------------------------------*/</span>
<a name="l00598"></a><a class="code" href="../../da/d20/namespaceanonymous__namespace_02lang__geda_8cc_03.html#a4155adf053c7955b99557bb0ed337482">00598</a> <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="../../da/d20/namespaceanonymous__namespace_02lang__geda_8cc_03.html#a4155adf053c7955b99557bb0ed337482">print_label</a>(<a class="code" href="../../dc/d18/class_o_m_s_t_r_e_a_m.html">OMSTREAM</a>&amp; o, <span class="keyword">const</span> <a class="code" href="../../d5/dce/class_c_o_m_p_o_n_e_n_t.html">COMPONENT</a>* x)
<a name="l00599"></a>00599 {
<a name="l00600"></a>00600   assert(x);
<a name="l00601"></a>00601   o &lt;&lt; x-&gt;<a class="code" href="../../d3/d22/class_c_k_t___b_a_s_e.html#a11b80145b3c19cfeb79f21dc35f90450">short_label</a>();
<a name="l00602"></a>00602 }
<a name="l00603"></a>00603 <span class="comment">/*--------------------------------------------------------------------------*/</span>
<a name="l00604"></a><a class="code" href="../../da/d20/namespaceanonymous__namespace_02lang__geda_8cc_03.html#aabc6fabaa9a81471011a81e6207ca4bb">00604</a> <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="../../da/d20/namespaceanonymous__namespace_02lang__geda_8cc_03.html#aabc6fabaa9a81471011a81e6207ca4bb">print_ports_long</a>(<a class="code" href="../../dc/d18/class_o_m_s_t_r_e_a_m.html">OMSTREAM</a>&amp; o, <span class="keyword">const</span> <a class="code" href="../../d5/dce/class_c_o_m_p_o_n_e_n_t.html">COMPONENT</a>* x)
<a name="l00605"></a>00605 {
<a name="l00606"></a>00606   <span class="comment">// print in long form ...    .name(value)</span>
<a name="l00607"></a>00607   assert(x);
<a name="l00608"></a>00608 
<a name="l00609"></a>00609   o &lt;&lt; <span class="stringliteral">&quot; (&quot;</span>;
<a name="l00610"></a>00610   std::string sep = <span class="stringliteral">&quot;.&quot;</span>;
<a name="l00611"></a>00611   <span class="keywordflow">for</span> (<span class="keywordtype">int</span> ii = 0;  x-&gt;<a class="code" href="../../d5/dce/class_c_o_m_p_o_n_e_n_t.html#acc27655a4c1ccb5b3f87a921652ad02c">port_exists</a>(ii);  ++ii) {
<a name="l00612"></a>00612     o &lt;&lt; sep &lt;&lt; x-&gt;<a class="code" href="../../d5/dce/class_c_o_m_p_o_n_e_n_t.html#a3001da93d25364512988cb47ba2254bd">port_name</a>(ii) &lt;&lt; <span class="charliteral">&#39;(&#39;</span> &lt;&lt; x-&gt;<a class="code" href="../../d5/dce/class_c_o_m_p_o_n_e_n_t.html#a99ac0da644b8d8b33e31233fb82f12d3">port_value</a>(ii) &lt;&lt; <span class="charliteral">&#39;)&#39;</span>;
<a name="l00613"></a>00613     sep = <span class="stringliteral">&quot;,.&quot;</span>;
<a name="l00614"></a>00614   }
<a name="l00615"></a>00615   <span class="keywordflow">for</span> (<span class="keywordtype">int</span> ii = 0;  x-&gt;<a class="code" href="../../d5/dce/class_c_o_m_p_o_n_e_n_t.html#a11c9c5456d0e8f4dab0554148f0c0433">current_port_exists</a>(ii);  ++ii) {
<a name="l00616"></a>00616     o &lt;&lt; sep &lt;&lt; x-&gt;<a class="code" href="../../d5/dce/class_c_o_m_p_o_n_e_n_t.html#a6c555693d9736f8758bcc3270dc0332d">current_port_name</a>(ii) &lt;&lt; <span class="charliteral">&#39;(&#39;</span> &lt;&lt; x-&gt;<a class="code" href="../../d5/dce/class_c_o_m_p_o_n_e_n_t.html#acf3c104d04168bf4b6bb4c2bb5425966">current_port_value</a>(ii) &lt;&lt; <span class="charliteral">&#39;)&#39;</span>;
<a name="l00617"></a>00617     sep = <span class="stringliteral">&quot;,.&quot;</span>;
<a name="l00618"></a>00618   }
<a name="l00619"></a>00619   o &lt;&lt; <span class="stringliteral">&quot;)&quot;</span>;
<a name="l00620"></a>00620 }
<a name="l00621"></a>00621 <span class="comment">/*--------------------------------------------------------------------------*/</span>
<a name="l00622"></a><a class="code" href="../../da/d20/namespaceanonymous__namespace_02lang__geda_8cc_03.html#ad2093be99ebbbf209679a98a390feb9f">00622</a> <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="../../da/d20/namespaceanonymous__namespace_02lang__geda_8cc_03.html#ad2093be99ebbbf209679a98a390feb9f">print_ports_short</a>(<a class="code" href="../../dc/d18/class_o_m_s_t_r_e_a_m.html">OMSTREAM</a>&amp; o, <span class="keyword">const</span> <a class="code" href="../../d5/dce/class_c_o_m_p_o_n_e_n_t.html">COMPONENT</a>* x)
<a name="l00623"></a>00623 {
<a name="l00624"></a>00624   <span class="comment">// print in short form ...   value only</span>
<a name="l00625"></a>00625   assert(x);
<a name="l00626"></a>00626 
<a name="l00627"></a>00627   o &lt;&lt; <span class="stringliteral">&quot; (&quot;</span>;
<a name="l00628"></a>00628   std::string sep = <span class="stringliteral">&quot;&quot;</span>;
<a name="l00629"></a>00629   <span class="keywordflow">for</span> (<span class="keywordtype">int</span> ii = 0;  x-&gt;<a class="code" href="../../d5/dce/class_c_o_m_p_o_n_e_n_t.html#acc27655a4c1ccb5b3f87a921652ad02c">port_exists</a>(ii);  ++ii) {
<a name="l00630"></a>00630     o &lt;&lt; sep &lt;&lt; x-&gt;<a class="code" href="../../d5/dce/class_c_o_m_p_o_n_e_n_t.html#a99ac0da644b8d8b33e31233fb82f12d3">port_value</a>(ii);
<a name="l00631"></a>00631     sep = <span class="stringliteral">&quot;,&quot;</span>;
<a name="l00632"></a>00632   }
<a name="l00633"></a>00633   <span class="keywordflow">for</span> (<span class="keywordtype">int</span> ii = 0;  x-&gt;<a class="code" href="../../d5/dce/class_c_o_m_p_o_n_e_n_t.html#a11c9c5456d0e8f4dab0554148f0c0433">current_port_exists</a>(ii);  ++ii) {
<a name="l00634"></a>00634     o &lt;&lt; sep &lt;&lt; x-&gt;<a class="code" href="../../d5/dce/class_c_o_m_p_o_n_e_n_t.html#acf3c104d04168bf4b6bb4c2bb5425966">current_port_value</a>(ii);
<a name="l00635"></a>00635     sep = <span class="stringliteral">&quot;,&quot;</span>;
<a name="l00636"></a>00636   }
<a name="l00637"></a>00637   o &lt;&lt; <span class="stringliteral">&quot;)&quot;</span>;
<a name="l00638"></a>00638 }
<a name="l00639"></a>00639 <span class="comment">/*--------------------------------------------------------------------------*/</span>
<a name="l00640"></a>00640 <span class="comment">/*--------------------------------------------------------------------------*/</span>
<a name="l00641"></a><a class="code" href="../../d9/d3f/classanonymous__namespace_02lang__geda_8cc_03_1_1_l_a_n_g___g_s_c_h_e_m.html#a4bedce5a4969b9376d9ba6859b28e2c8">00641</a> <span class="keywordtype">void</span> LANG_GSCHEM::print_paramset(<a class="code" href="../../dc/d18/class_o_m_s_t_r_e_a_m.html">OMSTREAM</a>&amp; o, <span class="keyword">const</span> <a class="code" href="../../d2/d9e/class_m_o_d_e_l___c_a_r_d.html">MODEL_CARD</a>* x)
<a name="l00642"></a>00642 {
<a name="l00643"></a>00643   assert(x);
<a name="l00644"></a>00644   _mode = mPARAMSET;
<a name="l00645"></a>00645   o &lt;&lt; <span class="stringliteral">&quot;paramset &quot;</span> &lt;&lt; x-&gt;<a class="code" href="../../d3/d22/class_c_k_t___b_a_s_e.html#a11b80145b3c19cfeb79f21dc35f90450">short_label</a>() &lt;&lt; <span class="charliteral">&#39; &#39;</span> &lt;&lt; x-&gt;<a class="code" href="../../dc/df7/class_c_a_r_d.html#a5604e0c14c4bcc8ff9fbf418b4c8d40d">dev_type</a>() &lt;&lt; <span class="stringliteral">&quot;;\\\n&quot;</span>;
<a name="l00646"></a>00646   print_args(o, x);
<a name="l00647"></a>00647   o &lt;&lt; <span class="stringliteral">&quot;\\\n&quot;</span>
<a name="l00648"></a>00648     <span class="stringliteral">&quot;endparmset\n\n&quot;</span>;
<a name="l00649"></a>00649   _mode = mDEFAULT;
<a name="l00650"></a>00650 }
<a name="l00651"></a>00651 <span class="comment">/*--------------------------------------------------------------------------*/</span>
<a name="l00652"></a><a class="code" href="../../d9/d3f/classanonymous__namespace_02lang__geda_8cc_03_1_1_l_a_n_g___g_s_c_h_e_m.html#a6d89b881e436f7f790b88e292eedc6cd">00652</a> <span class="keywordtype">void</span> LANG_GSCHEM::print_module(<a class="code" href="../../dc/d18/class_o_m_s_t_r_e_a_m.html">OMSTREAM</a>&amp; o, <span class="keyword">const</span> <a class="code" href="../../de/d4c/class_m_o_d_e_l___s_u_b_c_k_t.html">MODEL_SUBCKT</a>* x)
<a name="l00653"></a>00653 {
<a name="l00654"></a>00654   assert(x);
<a name="l00655"></a>00655   <span class="comment">//o&lt;&lt;x-&gt;short_label();</span>
<a name="l00656"></a>00656   <span class="comment">//o&lt;&lt;&quot;\n&quot;;</span>
<a name="l00657"></a>00657   assert(x-&gt;<a class="code" href="../../dc/df7/class_c_a_r_d.html#ab97144cf661970fe592fb73c0b104967">subckt</a>());
<a name="l00658"></a>00658   <span class="keywordflow">if</span>(x-&gt;<a class="code" href="../../d3/d22/class_c_k_t___b_a_s_e.html#a11b80145b3c19cfeb79f21dc35f90450">short_label</a>().find(<span class="stringliteral">&quot;!_&quot;</span>)!=std::string::npos){
<a name="l00659"></a>00659     <span class="keywordflow">return</span>;
<a name="l00660"></a>00660   }
<a name="l00661"></a>00661   o &lt;&lt; <span class="stringliteral">&quot;module &quot;</span> &lt;&lt;  x-&gt;<a class="code" href="../../d3/d22/class_c_k_t___b_a_s_e.html#a11b80145b3c19cfeb79f21dc35f90450">short_label</a>();
<a name="l00662"></a>00662   <a class="code" href="../../da/d20/namespaceanonymous__namespace_02lang__geda_8cc_03.html#ad2093be99ebbbf209679a98a390feb9f">print_ports_short</a>(o, x);
<a name="l00663"></a>00663   o &lt;&lt; <span class="stringliteral">&quot;;\n&quot;</span>;
<a name="l00664"></a>00664 
<a name="l00665"></a>00665   <span class="keywordflow">for</span> (<a class="code" href="../../d4/df4/class_c_a_r_d___l_i_s_t.html#a09cb5fe86d7450c3afe61d31558516eb">CARD_LIST::const_iterator</a>
<a name="l00666"></a>00666          ci = x-&gt;<a class="code" href="../../dc/df7/class_c_a_r_d.html#ab97144cf661970fe592fb73c0b104967">subckt</a>()-&gt;<a class="code" href="../../d4/df4/class_c_a_r_d___l_i_s_t.html#a215ac8c5830719ceff1ad3b25ad2864a">begin</a>(); ci != x-&gt;<a class="code" href="../../dc/df7/class_c_a_r_d.html#ab97144cf661970fe592fb73c0b104967">subckt</a>()-&gt;<a class="code" href="../../d4/df4/class_c_a_r_d___l_i_s_t.html#a62d2e7c41c19b588ed74b4247600c875">end</a>(); ++ci) {
<a name="l00667"></a>00667     print_item(o, *ci);
<a name="l00668"></a>00668   }
<a name="l00669"></a>00669 
<a name="l00670"></a>00670   o &lt;&lt; <span class="stringliteral">&quot;endmodule // &quot;</span> &lt;&lt; x-&gt;<a class="code" href="../../d3/d22/class_c_k_t___b_a_s_e.html#a11b80145b3c19cfeb79f21dc35f90450">short_label</a>() &lt;&lt; <span class="stringliteral">&quot;\n\n&quot;</span>;
<a name="l00671"></a>00671 }
<a name="l00672"></a>00672 <span class="comment">/*--------------------------------------------------------------------------*/</span>
<a name="l00673"></a><a class="code" href="../../d9/d3f/classanonymous__namespace_02lang__geda_8cc_03_1_1_l_a_n_g___g_s_c_h_e_m.html#ac5a20d758f322096e7e480ab3b426ec6">00673</a> <span class="keywordtype">void</span> LANG_GSCHEM::print_instance(<a class="code" href="../../dc/d18/class_o_m_s_t_r_e_a_m.html">OMSTREAM</a>&amp; o, <span class="keyword">const</span> <a class="code" href="../../d5/dce/class_c_o_m_p_o_n_e_n_t.html">COMPONENT</a>* x)
<a name="l00674"></a>00674 {
<a name="l00675"></a>00675   <a class="code" href="../../da/d20/namespaceanonymous__namespace_02lang__geda_8cc_03.html#a9887be62fced11d1a88b0a6f62fc5e6d">print_type</a>(o, x);
<a name="l00676"></a>00676   print_args(o, x);
<a name="l00677"></a>00677   <a class="code" href="../../da/d20/namespaceanonymous__namespace_02lang__geda_8cc_03.html#a4155adf053c7955b99557bb0ed337482">print_label</a>(o, x);
<a name="l00678"></a>00678   <a class="code" href="../../da/d20/namespaceanonymous__namespace_02lang__geda_8cc_03.html#aabc6fabaa9a81471011a81e6207ca4bb">print_ports_long</a>(o, x);
<a name="l00679"></a>00679   o &lt;&lt; <span class="stringliteral">&quot;;\n&quot;</span>;
<a name="l00680"></a>00680 }
<a name="l00681"></a>00681 <span class="comment">/*--------------------------------------------------------------------------*/</span>
<a name="l00682"></a><a class="code" href="../../d9/d3f/classanonymous__namespace_02lang__geda_8cc_03_1_1_l_a_n_g___g_s_c_h_e_m.html#a8c057b6240d4583cf993a2a0b8bf67c3">00682</a> <span class="keywordtype">void</span> LANG_GSCHEM::print_comment(<a class="code" href="../../dc/d18/class_o_m_s_t_r_e_a_m.html">OMSTREAM</a>&amp; o, <span class="keyword">const</span> <a class="code" href="../../d1/db9/class_d_e_v___c_o_m_m_e_n_t.html">DEV_COMMENT</a>* x)
<a name="l00683"></a>00683 {
<a name="l00684"></a>00684   assert(x);
<a name="l00685"></a>00685   o &lt;&lt; x-&gt;<a class="code" href="../../d1/db9/class_d_e_v___c_o_m_m_e_n_t.html#af540770552c49fa3f2afa30956bc7c5d">comment</a>() &lt;&lt; <span class="charliteral">&#39;\n&#39;</span>;
<a name="l00686"></a>00686 }
<a name="l00687"></a>00687 <span class="comment">/*--------------------------------------------------------------------------*/</span>
<a name="l00688"></a><a class="code" href="../../d9/d3f/classanonymous__namespace_02lang__geda_8cc_03_1_1_l_a_n_g___g_s_c_h_e_m.html#a18382377af80309c5e9f71b2b4eb49f5">00688</a> <span class="keywordtype">void</span> LANG_GSCHEM::print_command(<a class="code" href="../../dc/d18/class_o_m_s_t_r_e_a_m.html">OMSTREAM</a>&amp; o, <span class="keyword">const</span> <a class="code" href="../../d7/d7d/class_d_e_v___d_o_t.html">DEV_DOT</a>* x)
<a name="l00689"></a>00689 {
<a name="l00690"></a>00690   assert(x);
<a name="l00691"></a>00691   o &lt;&lt; x-&gt;<a class="code" href="../../d7/d7d/class_d_e_v___d_o_t.html#a48ab313a394658e33f463865dac0fdc6">s</a>() &lt;&lt; <span class="charliteral">&#39;\n&#39;</span>;
<a name="l00692"></a>00692 }
<a name="l00693"></a>00693 <span class="comment">/*----------------------------------------------------------------------*/</span>
<a name="l00694"></a>00694 <span class="comment">/*----------------------------------------------------------------------*/</span>
<a name="l00695"></a><a class="code" href="../../d0/d46/classanonymous__namespace_02lang__geda_8cc_03_1_1_c_m_d___g_s_c_h_e_m.html">00695</a> <span class="keyword">class </span><a class="code" href="../../d0/d46/classanonymous__namespace_02lang__geda_8cc_03_1_1_c_m_d___g_s_c_h_e_m.html">CMD_GSCHEM</a> : <span class="keyword">public</span> <a class="code" href="../../da/d8a/class_c_m_d.html">CMD</a> {
<a name="l00696"></a>00696 <span class="keyword">public</span>:
<a name="l00697"></a><a class="code" href="../../d0/d46/classanonymous__namespace_02lang__geda_8cc_03_1_1_c_m_d___g_s_c_h_e_m.html#a3a2cad7bedd3a820604937467e020369">00697</a>     <span class="keywordtype">void</span> do_it(<a class="code" href="../../db/d85/class_c_s.html">CS</a>&amp; cmd, <a class="code" href="../../d4/df4/class_c_a_r_d___l_i_s_t.html">CARD_LIST</a>* Scope)
<a name="l00698"></a>00698     {
<a name="l00699"></a>00699       command(<span class="stringliteral">&quot;options lang=gschem&quot;</span>, Scope);
<a name="l00700"></a>00700     }
<a name="l00701"></a>00701 } <a class="code" href="../../da/d20/namespaceanonymous__namespace_02lang__geda_8cc_03.html#a8cafa2b1bd6896c0dffe7b8945c817fa">p8</a>;
<a name="l00702"></a>00702 <a class="code" href="../../da/dc7/class_d_i_s_p_a_t_c_h_e_r_1_1_i_n_s_t_a_l_l.html">DISPATCHER&lt;CMD&gt;::INSTALL</a>
<a name="l00703"></a><a class="code" href="../../da/d20/namespaceanonymous__namespace_02lang__geda_8cc_03.html#a75400c461208c27f2dfc335299720d69">00703</a>     d8(&amp;<a class="code" href="../../d1/d6e/namespaceanonymous__namespace_02c__attach_8cc_03.html#a2a87baa1b67f589819d37db5faca6f1b">command_dispatcher</a>, <span class="stringliteral">&quot;gschem&quot;</span>, &amp;<a class="code" href="../../da/d20/namespaceanonymous__namespace_02lang__geda_8cc_03.html#a8cafa2b1bd6896c0dffe7b8945c817fa">p8</a>);
<a name="l00704"></a>00704 <span class="comment">/*----------------------------------------------------------------------*/</span>
<a name="l00705"></a>00705 <span class="comment">/*----------------------------------------------------------------------*/</span>
<a name="l00706"></a><a class="code" href="../../d2/d22/classanonymous__namespace_02lang__geda_8cc_03_1_1_c_m_d___c.html">00706</a> <span class="keyword">class </span><a class="code" href="../../d2/d22/classanonymous__namespace_02lang__geda_8cc_03_1_1_c_m_d___c.html">CMD_C</a> : <span class="keyword">public</span> <a class="code" href="../../da/d8a/class_c_m_d.html">CMD</a> {
<a name="l00707"></a><a class="code" href="../../d2/d22/classanonymous__namespace_02lang__geda_8cc_03_1_1_c_m_d___c.html#a7c6d49a0e81fde05d6f402ac895596f5">00707</a>     <span class="keywordtype">void</span> do_it(<a class="code" href="../../db/d85/class_c_s.html">CS</a>&amp; cmd, <a class="code" href="../../d4/df4/class_c_a_r_d___l_i_s_t.html">CARD_LIST</a>* Scope)
<a name="l00708"></a>00708     {
<a name="l00709"></a>00709       <a class="code" href="../../de/d4c/class_m_o_d_e_l___s_u_b_c_k_t.html">MODEL_SUBCKT</a>* new_compon = <span class="keyword">new</span> <a class="code" href="../../de/d4c/class_m_o_d_e_l___s_u_b_c_k_t.html">MODEL_SUBCKT</a>;
<a name="l00710"></a>00710       assert(new_compon);
<a name="l00711"></a>00711       assert(!new_compon-&gt;<a class="code" href="../../dc/df7/class_c_a_r_d.html#a90030b0a7d13b3625ffeceb50ea016ee">owner</a>());
<a name="l00712"></a>00712       assert(new_compon-&gt;<a class="code" href="../../dc/df7/class_c_a_r_d.html#ab97144cf661970fe592fb73c0b104967">subckt</a>());
<a name="l00713"></a>00713       assert(new_compon-&gt;<a class="code" href="../../dc/df7/class_c_a_r_d.html#ab97144cf661970fe592fb73c0b104967">subckt</a>()-&gt;<a class="code" href="../../d4/df4/class_c_a_r_d___l_i_s_t.html#a01ed91f5d95ef493261cea826b4208ab">is_empty</a>());
<a name="l00714"></a>00714       <a class="code" href="../../da/d20/namespaceanonymous__namespace_02lang__geda_8cc_03.html#ad2a8db98e0433b42e74d1681792ff328">lang_gschem</a>.<a class="code" href="../../d9/d3f/classanonymous__namespace_02lang__geda_8cc_03_1_1_l_a_n_g___g_s_c_h_e_m.html#a609ba8356bf05244a45a86081f7ee91b">parse_componmod</a>(cmd, new_compon);
<a name="l00715"></a>00715       <span class="keywordflow">if</span>(new_compon){
<a name="l00716"></a>00716         Scope-&gt;<a class="code" href="../../d4/df4/class_c_a_r_d___l_i_s_t.html#add6a3ae42cffeb4bca306777cecc0046">push_back</a>(new_compon);
<a name="l00717"></a>00717         std::string s=new_compon-&gt;<a class="code" href="../../d3/d22/class_c_k_t___b_a_s_e.html#a11b80145b3c19cfeb79f21dc35f90450">short_label</a>()+<span class="stringliteral">&quot; &quot;</span>+cmd.<a class="code" href="../../db/d85/class_c_s.html#a3ba39092141d4b3377a155f17f5cc500">tail</a>();
<a name="l00718"></a>00718         <a class="code" href="../../db/d85/class_c_s.html">CS</a> cmd(<a class="code" href="../../db/d85/class_c_s.html#a76dbe76fb5837e42a38301a0feeb6d2dadea8dbbb049377b6bf40384c47996738">CS::_STRING</a>,s);
<a name="l00719"></a>00719         <a class="code" href="../../da/d20/namespaceanonymous__namespace_02lang__geda_8cc_03.html#ad2a8db98e0433b42e74d1681792ff328">lang_gschem</a>.<a class="code" href="../../d8/d92/class_l_a_n_g_u_a_g_e.html#a1ecab49c51a0f6d914170c04edb420a8">new__instance</a>(cmd,NULL,Scope);
<a name="l00720"></a>00720       }
<a name="l00721"></a>00721     }
<a name="l00722"></a>00722 } <a class="code" href="../../d5/d51/bmm__semi_8cc.html#ac33228ac9a9afdf3d0e113821e4f96b4">p2</a>;
<a name="l00723"></a>00723 <a class="code" href="../../da/dc7/class_d_i_s_p_a_t_c_h_e_r_1_1_i_n_s_t_a_l_l.html">DISPATCHER&lt;CMD&gt;::INSTALL</a>
<a name="l00724"></a>00724     d2(&amp;<a class="code" href="../../d1/d6e/namespaceanonymous__namespace_02c__attach_8cc_03.html#a2a87baa1b67f589819d37db5faca6f1b">command_dispatcher</a>, <span class="stringliteral">&quot;C&quot;</span>, &amp;<a class="code" href="../../d5/d51/bmm__semi_8cc.html#ac33228ac9a9afdf3d0e113821e4f96b4">p2</a>);
<a name="l00725"></a>00725 
<a name="l00726"></a>00726 <span class="comment">/*----------------------------------------------------------------------*/</span>
<a name="l00727"></a>00727 }
<a name="l00728"></a>00728 <span class="comment">/*----------------------------------------------------------------------*/</span>
<a name="l00729"></a>00729 <span class="comment">/*----------------------------------------------------------------------*/</span>
</pre></div></div><!-- contents -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Defines</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>



<hr class="footer"/><address class="footer"><small>
Generated on Tue Aug 7 2012 17:59:30 for gnucap by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="../../doxygen.png" alt="doxygen"/>
</a> 1.7.6.1
</small></address>

</body>
</html>
