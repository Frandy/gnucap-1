<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>gnucap: savant/gnucap/src/d_coil.cc Source File</title>

<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />



</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">gnucap
   
   </div>
   
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.6.1 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="../../index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="../../namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="../../annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="../../files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="../../files.html"><span>File&#160;List</span></a></li>
      <li><a href="../../globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="headertitle">
<div class="title">savant/gnucap/src/d_coil.cc</div>  </div>
</div><!--header-->
<div class="contents">
<a href="../../d5/df6/d__coil_8cc.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="comment">/*$Id: d_coil.cc,v 26.134 2009/11/29 03:47:06 al Exp $ -*- C++ -*-</span>
<a name="l00002"></a>00002 <span class="comment"> * Copyright (C) 2001 Albert Davis</span>
<a name="l00003"></a>00003 <span class="comment"> * Author: Albert Davis &lt;aldavis@gnu.org&gt;</span>
<a name="l00004"></a>00004 <span class="comment"> *</span>
<a name="l00005"></a>00005 <span class="comment"> * This file is part of &quot;Gnucap&quot;, the Gnu Circuit Analysis Package</span>
<a name="l00006"></a>00006 <span class="comment"> *</span>
<a name="l00007"></a>00007 <span class="comment"> * This program is free software; you can redistribute it and/or modify</span>
<a name="l00008"></a>00008 <span class="comment"> * it under the terms of the GNU General Public License as published by</span>
<a name="l00009"></a>00009 <span class="comment"> * the Free Software Foundation; either version 3, or (at your option)</span>
<a name="l00010"></a>00010 <span class="comment"> * any later version.</span>
<a name="l00011"></a>00011 <span class="comment"> *</span>
<a name="l00012"></a>00012 <span class="comment"> * This program is distributed in the hope that it will be useful,</span>
<a name="l00013"></a>00013 <span class="comment"> * but WITHOUT ANY WARRANTY; without even the implied warranty of</span>
<a name="l00014"></a>00014 <span class="comment"> * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</span>
<a name="l00015"></a>00015 <span class="comment"> * GNU General Public License for more details.</span>
<a name="l00016"></a>00016 <span class="comment"> *</span>
<a name="l00017"></a>00017 <span class="comment"> * You should have received a copy of the GNU General Public License</span>
<a name="l00018"></a>00018 <span class="comment"> * along with this program; if not, write to the Free Software</span>
<a name="l00019"></a>00019 <span class="comment"> * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA</span>
<a name="l00020"></a>00020 <span class="comment"> * 02110-1301, USA.</span>
<a name="l00021"></a>00021 <span class="comment"> *------------------------------------------------------------------</span>
<a name="l00022"></a>00022 <span class="comment"> * inductors</span>
<a name="l00023"></a>00023 <span class="comment"> * y.x = amps,  y.f0 = flux,  ev = y.f1 = henrys</span>
<a name="l00024"></a>00024 <span class="comment"> * q = y history in time</span>
<a name="l00025"></a>00025 <span class="comment"> * i.x = amps,  i.f0 = volts,      i.f1 = ohms</span>
<a name="l00026"></a>00026 <span class="comment"> * m.x = volts, m.c0 = amps, acg = m.c1 = mhos</span>
<a name="l00027"></a>00027 <span class="comment"> */</span>
<a name="l00028"></a>00028 <span class="comment">//testing=script 2008.10.09</span>
<a name="l00029"></a>00029 <span class="preprocessor">#include &quot;<a class="code" href="../../d8/dd9/e__subckt_8h.html">e_subckt.h</a>&quot;</span>
<a name="l00030"></a>00030 <span class="preprocessor">#include &quot;<a class="code" href="../../d1/d8f/e__ccsrc_8h.html">e_ccsrc.h</a>&quot;</span>
<a name="l00031"></a>00031 <span class="preprocessor">#include &quot;<a class="code" href="../../da/da5/e__storag_8h.html">e_storag.h</a>&quot;</span>
<a name="l00032"></a>00032 <span class="comment">/*--------------------------------------------------------------------------*/</span>
<a name="l00033"></a><a class="code" href="../../d8/d92/namespaceanonymous__namespace_02d__coil_8cc_03.html">00033</a> <span class="keyword">namespace </span>{
<a name="l00034"></a>00034 <span class="comment">/*--------------------------------------------------------------------------*/</span>
<a name="l00035"></a><a class="code" href="../../db/d59/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___i_n_d_u_c_t_a_n_c_e.html">00035</a> <span class="keyword">class </span><a class="code" href="../../db/d59/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___i_n_d_u_c_t_a_n_c_e.html">DEV_INDUCTANCE</a> : <span class="keyword">public</span> <a class="code" href="../../d7/dd0/class_s_t_o_r_a_g_e.html">STORAGE</a> {
<a name="l00036"></a>00036 <span class="keyword">protected</span>:
<a name="l00037"></a><a class="code" href="../../db/d59/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___i_n_d_u_c_t_a_n_c_e.html#aa016218c1ac41dfb2c7fa04c5e47e3f1">00037</a>   <span class="keyword">explicit</span> <a class="code" href="../../db/d59/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___i_n_d_u_c_t_a_n_c_e.html">DEV_INDUCTANCE</a>(<span class="keyword">const</span> <a class="code" href="../../db/d59/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___i_n_d_u_c_t_a_n_c_e.html">DEV_INDUCTANCE</a>&amp; <a class="code" href="../../d5/d1c/namespaceanonymous__namespace_02c__genrat_8cc_03.html#a4efa6c9b62361333533768663f0ae0a1">p</a>) 
<a name="l00038"></a>00038     :<a class="code" href="../../d7/dd0/class_s_t_o_r_a_g_e.html">STORAGE</a>(p), _c_model(p._c_model) {}
<a name="l00039"></a>00039 <span class="keyword">public</span>:
<a name="l00040"></a><a class="code" href="../../db/d59/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___i_n_d_u_c_t_a_n_c_e.html#a6640057ffc462195d374d5d627343774">00040</a>   <span class="keyword">explicit</span> <a class="code" href="../../db/d59/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___i_n_d_u_c_t_a_n_c_e.html">DEV_INDUCTANCE</a>()
<a name="l00041"></a>00041     :<a class="code" href="../../d7/dd0/class_s_t_o_r_a_g_e.html">STORAGE</a>(), _c_model(false) {}
<a name="l00042"></a>00042 <span class="keyword">public</span>: <span class="comment">// override virtual</span>
<a name="l00043"></a><a class="code" href="../../db/d59/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___i_n_d_u_c_t_a_n_c_e.html#a7967803688ca658eefa69a6f6ed9933f">00043</a>   <span class="keywordtype">char</span>     <a class="code" href="../../db/d59/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___i_n_d_u_c_t_a_n_c_e.html#a7967803688ca658eefa69a6f6ed9933f">id_letter</a>()<span class="keyword">const     </span>{<span class="keywordflow">return</span> <span class="charliteral">&#39;L&#39;</span>;}
<a name="l00044"></a><a class="code" href="../../db/d59/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___i_n_d_u_c_t_a_n_c_e.html#a18e2d3f1456a861951ed381ded646458">00044</a>   std::string <a class="code" href="../../db/d59/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___i_n_d_u_c_t_a_n_c_e.html#a18e2d3f1456a861951ed381ded646458">value_name</a>()<span class="keyword">const </span>{<span class="keywordflow">return</span> <span class="stringliteral">&quot;l&quot;</span>;}
<a name="l00045"></a><a class="code" href="../../db/d59/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___i_n_d_u_c_t_a_n_c_e.html#a18999bb35c277d6c8459d3410af519d0">00045</a>   std::string <a class="code" href="../../db/d59/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___i_n_d_u_c_t_a_n_c_e.html#a18999bb35c277d6c8459d3410af519d0">dev_type</a>()<span class="keyword">const   </span>{<span class="keywordflow">return</span> <span class="stringliteral">&quot;inductor&quot;</span>;}
<a name="l00046"></a><a class="code" href="../../db/d59/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___i_n_d_u_c_t_a_n_c_e.html#af41fc204a2be002c635d0de191a2ebc3">00046</a>   <span class="keywordtype">int</span>      <a class="code" href="../../db/d59/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___i_n_d_u_c_t_a_n_c_e.html#af41fc204a2be002c635d0de191a2ebc3">max_nodes</a>()<span class="keyword">const     </span>{<span class="keywordflow">return</span> 2;}
<a name="l00047"></a><a class="code" href="../../db/d59/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___i_n_d_u_c_t_a_n_c_e.html#a2e7d2668c9fea1bfad123a34d9319ba5">00047</a>   <span class="keywordtype">int</span>      <a class="code" href="../../db/d59/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___i_n_d_u_c_t_a_n_c_e.html#a2e7d2668c9fea1bfad123a34d9319ba5">min_nodes</a>()<span class="keyword">const     </span>{<span class="keywordflow">return</span> 2;}
<a name="l00048"></a><a class="code" href="../../db/d59/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___i_n_d_u_c_t_a_n_c_e.html#ac54e943ccf70c59e43bf4f87da3411b2">00048</a>   <span class="keywordtype">int</span>      <a class="code" href="../../db/d59/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___i_n_d_u_c_t_a_n_c_e.html#ac54e943ccf70c59e43bf4f87da3411b2">net_nodes</a>()<span class="keyword">const     </span>{<span class="keywordflow">return</span> 2;}
<a name="l00049"></a><a class="code" href="../../db/d59/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___i_n_d_u_c_t_a_n_c_e.html#ace6b290298fa0d6f27d895ecb73e0837">00049</a>   <span class="keywordtype">int</span>      <a class="code" href="../../db/d59/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___i_n_d_u_c_t_a_n_c_e.html#ace6b290298fa0d6f27d895ecb73e0837">int_nodes</a>()<span class="keyword">const     </span>{<span class="keywordflow">return</span> (!_c_model) ? 0 : 1;}
<a name="l00050"></a><a class="code" href="../../db/d59/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___i_n_d_u_c_t_a_n_c_e.html#adb5e74243b094a35c500a3c776dbce62">00050</a>   <span class="keywordtype">int</span>      <a class="code" href="../../db/d59/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___i_n_d_u_c_t_a_n_c_e.html#adb5e74243b094a35c500a3c776dbce62">matrix_nodes</a>()<span class="keyword">const  </span>{<span class="keywordflow">return</span> net_nodes() + int_nodes();}
<a name="l00051"></a>00051 
<a name="l00052"></a><a class="code" href="../../db/d59/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___i_n_d_u_c_t_a_n_c_e.html#a6954feffd230d458479c50dd55aa66d0">00052</a>   <span class="keywordtype">bool</span>     <a class="code" href="../../db/d59/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___i_n_d_u_c_t_a_n_c_e.html#a6954feffd230d458479c50dd55aa66d0">has_inode</a>()<span class="keyword">const     </span>{<span class="keywordflow">return</span> _c_model;}
<a name="l00053"></a><a class="code" href="../../db/d59/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___i_n_d_u_c_t_a_n_c_e.html#a1591eafdecd473f1ec6b9a4a62fb0849">00053</a>   <span class="keywordtype">bool</span>     <a class="code" href="../../db/d59/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___i_n_d_u_c_t_a_n_c_e.html#a1591eafdecd473f1ec6b9a4a62fb0849">has_iv_probe</a>()<span class="keyword">const  </span>{<span class="keywordflow">return</span> <span class="keyword">true</span>;}
<a name="l00054"></a><a class="code" href="../../db/d59/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___i_n_d_u_c_t_a_n_c_e.html#a0696a2b08cdd744715c67be2d8433930">00054</a>   <span class="keywordtype">bool</span>     <a class="code" href="../../db/d59/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___i_n_d_u_c_t_a_n_c_e.html#a0696a2b08cdd744715c67be2d8433930">use_obsolete_callback_parse</a>()<span class="keyword">const </span>{<span class="keywordflow">return</span> <span class="keyword">true</span>;}
<a name="l00055"></a><a class="code" href="../../db/d59/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___i_n_d_u_c_t_a_n_c_e.html#a45ec66f04e3c95fec79371ff744fcf0d">00055</a>   <a class="code" href="../../dc/df7/class_c_a_r_d.html">CARD</a>*    <a class="code" href="../../db/d59/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___i_n_d_u_c_t_a_n_c_e.html#a45ec66f04e3c95fec79371ff744fcf0d">clone</a>()<span class="keyword">const         </span>{<span class="keywordflow">return</span> <span class="keyword">new</span> <a class="code" href="../../db/d59/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___i_n_d_u_c_t_a_n_c_e.html">DEV_INDUCTANCE</a>(*<span class="keyword">this</span>);}
<a name="l00056"></a>00056   <span class="keywordtype">void</span>     expand();
<a name="l00057"></a>00057   <span class="keywordtype">void</span>     tr_iwant_matrix();
<a name="l00058"></a>00058   <span class="keywordtype">void</span>     tr_begin();
<a name="l00059"></a>00059   <span class="keywordtype">bool</span>     do_tr();
<a name="l00060"></a>00060   <span class="keywordtype">void</span>     tr_load();
<a name="l00061"></a>00061   <span class="keywordtype">void</span>     tr_unload();
<a name="l00062"></a><a class="code" href="../../db/d59/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___i_n_d_u_c_t_a_n_c_e.html#ab86e7733a5886461bc4da02c61985374">00062</a>   <span class="keywordtype">double</span>   <a class="code" href="../../db/d59/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___i_n_d_u_c_t_a_n_c_e.html#ab86e7733a5886461bc4da02c61985374">tr_involts</a>()<span class="keyword">const    </span>{<span class="keywordflow">return</span> tr_outvolts();}
<a name="l00063"></a>00063   <span class="keywordtype">double</span>   tr_input()<span class="keyword">const</span>;
<a name="l00064"></a><a class="code" href="../../db/d59/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___i_n_d_u_c_t_a_n_c_e.html#a8c9a3a43423b011cc31d785f6747a453">00064</a>   <span class="keywordtype">double</span>   <a class="code" href="../../db/d59/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___i_n_d_u_c_t_a_n_c_e.html#a8c9a3a43423b011cc31d785f6747a453">tr_involts_limited</a>()<span class="keyword">const </span>{<span class="keywordflow">return</span> tr_outvolts_limited();}
<a name="l00065"></a>00065   <span class="keywordtype">double</span>   tr_input_limited()<span class="keyword">const</span>;
<a name="l00066"></a>00066   <span class="keywordtype">double</span>   tr_amps()<span class="keyword">const</span>;
<a name="l00067"></a>00067   <span class="keywordtype">double</span>   tr_probe_num(<span class="keyword">const</span> std::string&amp;)<span class="keyword">const</span>;
<a name="l00068"></a>00068   <span class="keywordtype">void</span>     ac_iwant_matrix();
<a name="l00069"></a><a class="code" href="../../db/d59/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___i_n_d_u_c_t_a_n_c_e.html#ad8274d9408ca3b31b23486a53cc4d607">00069</a>   <span class="keywordtype">void</span>     <a class="code" href="../../db/d59/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___i_n_d_u_c_t_a_n_c_e.html#ad8274d9408ca3b31b23486a53cc4d607">ac_begin</a>()           {_loss1 = _loss0 = ((!_c_model) ? 0. : 1.); _ev = _y[0].f1;}
<a name="l00070"></a>00070   <span class="keywordtype">void</span>     do_ac();
<a name="l00071"></a>00071   <span class="keywordtype">void</span>     ac_load();
<a name="l00072"></a><a class="code" href="../../db/d59/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___i_n_d_u_c_t_a_n_c_e.html#aff76325ee8a83747f385d526963b1601">00072</a>   <a class="code" href="../../d8/dbf/md_8h.html#aeb7a51d53eae6b506572efff8dc8204d">COMPLEX</a>  <a class="code" href="../../db/d59/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___i_n_d_u_c_t_a_n_c_e.html#aff76325ee8a83747f385d526963b1601">ac_involts</a>()<span class="keyword">const    </span>{<span class="keywordflow">return</span> ac_outvolts();}
<a name="l00073"></a>00073   <a class="code" href="../../d8/dbf/md_8h.html#aeb7a51d53eae6b506572efff8dc8204d">COMPLEX</a>  ac_amps()<span class="keyword">const</span>;
<a name="l00074"></a>00074 
<a name="l00075"></a><a class="code" href="../../db/d59/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___i_n_d_u_c_t_a_n_c_e.html#ada42b7fd57dd327b275cb0eb0c14feb3">00075</a>   std::string <a class="code" href="../../db/d59/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___i_n_d_u_c_t_a_n_c_e.html#ada42b7fd57dd327b275cb0eb0c14feb3">port_name</a>(<span class="keywordtype">int</span> i)<span class="keyword">const </span>{<a class="code" href="../../d6/dda/io__trace_8h.html#ace44a3497980f17b256317ed0d54708f">itested</a>();
<a name="l00076"></a>00076     assert(i &gt;= 0);
<a name="l00077"></a>00077     assert(i &lt; 2);
<a name="l00078"></a>00078     <span class="keyword">static</span> std::string names[] = {<span class="stringliteral">&quot;p&quot;</span>, <span class="stringliteral">&quot;n&quot;</span>};
<a name="l00079"></a>00079     <span class="keywordflow">return</span> names[i];
<a name="l00080"></a>00080   }
<a name="l00081"></a>00081 
<a name="l00082"></a><a class="code" href="../../db/d59/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___i_n_d_u_c_t_a_n_c_e.html#af5951650c2f637149b8131028e3c02b3">00082</a>   <span class="keywordtype">bool</span> <a class="code" href="../../db/d59/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___i_n_d_u_c_t_a_n_c_e.html#af5951650c2f637149b8131028e3c02b3">_c_model</a>;
<a name="l00083"></a>00083 };
<a name="l00084"></a>00084 <span class="comment">/*--------------------------------------------------------------------------*/</span>
<a name="l00085"></a><a class="code" href="../../da/d89/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___m_u_t_u_a_l___l.html">00085</a> <span class="keyword">class </span><a class="code" href="../../da/d89/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___m_u_t_u_a_l___l.html">DEV_MUTUAL_L</a> : <span class="keyword">public</span> <a class="code" href="../../db/d59/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___i_n_d_u_c_t_a_n_c_e.html">DEV_INDUCTANCE</a> {
<a name="l00086"></a>00086 <span class="keyword">private</span>:
<a name="l00087"></a><a class="code" href="../../da/d89/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___m_u_t_u_a_l___l.html#aab690ebaeda5409b8dcc3d4416598f23">00087</a>   std::string     <a class="code" href="../../da/d89/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___m_u_t_u_a_l___l.html#aab690ebaeda5409b8dcc3d4416598f23">_output_label</a>;
<a name="l00088"></a><a class="code" href="../../da/d89/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___m_u_t_u_a_l___l.html#addf8b4475c2161b95f7bb2ec85a72616">00088</a>   <a class="code" href="../../db/d59/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___i_n_d_u_c_t_a_n_c_e.html">DEV_INDUCTANCE</a>* <a class="code" href="../../da/d89/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___m_u_t_u_a_l___l.html#addf8b4475c2161b95f7bb2ec85a72616">_output</a>;
<a name="l00089"></a><a class="code" href="../../da/d89/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___m_u_t_u_a_l___l.html#a0c00c3c0b5dc410b8dfe7dd22a628e63">00089</a>   std::string     <a class="code" href="../../da/d89/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___m_u_t_u_a_l___l.html#a0c00c3c0b5dc410b8dfe7dd22a628e63">_input_label</a>;
<a name="l00090"></a><a class="code" href="../../da/d89/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___m_u_t_u_a_l___l.html#a65ef817340da7460382005b9adde02b6">00090</a>   <a class="code" href="../../db/d59/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___i_n_d_u_c_t_a_n_c_e.html">DEV_INDUCTANCE</a>* <a class="code" href="../../da/d89/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___m_u_t_u_a_l___l.html#a65ef817340da7460382005b9adde02b6">_input</a>;
<a name="l00091"></a><a class="code" href="../../da/d89/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___m_u_t_u_a_l___l.html#ad4c700503c8e6c6021ccebd66cce0c4c">00091</a>   <span class="keywordtype">double</span> <a class="code" href="../../da/d89/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___m_u_t_u_a_l___l.html#ad4c700503c8e6c6021ccebd66cce0c4c">_lm</a>;
<a name="l00092"></a><a class="code" href="../../da/d89/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___m_u_t_u_a_l___l.html#add3f84fdbdcd71805bdb9ec2e219ea31">00092</a>   <span class="keywordtype">double</span> <a class="code" href="../../da/d89/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___m_u_t_u_a_l___l.html#add3f84fdbdcd71805bdb9ec2e219ea31">_mf0_c0</a>;       <span class="comment">// matrix parameters, new</span>
<a name="l00093"></a><a class="code" href="../../da/d89/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___m_u_t_u_a_l___l.html#a9abd6a8bee19e56ef28ac2507f3efc3d">00093</a>   <span class="keywordtype">double</span> <a class="code" href="../../da/d89/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___m_u_t_u_a_l___l.html#a9abd6a8bee19e56ef28ac2507f3efc3d">_mf1_c0</a>;       <span class="comment">// matrix parameters, 1 fill ago</span>
<a name="l00094"></a><a class="code" href="../../da/d89/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___m_u_t_u_a_l___l.html#a19e741438bd04a10210596a45123aaba">00094</a>   <span class="keywordtype">double</span> <a class="code" href="../../da/d89/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___m_u_t_u_a_l___l.html#a19e741438bd04a10210596a45123aaba">_mr0_c0</a>;       <span class="comment">// matrix parameters, new</span>
<a name="l00095"></a><a class="code" href="../../da/d89/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___m_u_t_u_a_l___l.html#aa2242a3e4e39f60aafa8c4085537df8a">00095</a>   <span class="keywordtype">double</span> <a class="code" href="../../da/d89/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___m_u_t_u_a_l___l.html#aa2242a3e4e39f60aafa8c4085537df8a">_mr1_c0</a>;       <span class="comment">// matrix parameters, 1 fill ago</span>
<a name="l00096"></a><a class="code" href="../../da/d89/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___m_u_t_u_a_l___l.html#a344d8dcf7b1f2a58b464cdf3e8647201">00096</a>   <a class="code" href="../../db/d1c/struct_f_p_o_l_y1.html">FPOLY1</a> <a class="code" href="../../da/d89/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___m_u_t_u_a_l___l.html#a344d8dcf7b1f2a58b464cdf3e8647201">_yf1</a>;          <span class="comment">// iteration parameters, 1 iter ago</span>
<a name="l00097"></a><a class="code" href="../../da/d89/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___m_u_t_u_a_l___l.html#ac5d05a58039dd18f20a4abb174c6ba58">00097</a>   <a class="code" href="../../db/d1c/struct_f_p_o_l_y1.html">FPOLY1</a> _yf[<a class="code" href="../../de/d5e/class_o_p_t.html#a82b127c34339cc2dd6791e70110bbcc5aa35927b332a024d8e0667592044528d3">OPT::_keep_time_steps</a>];
<a name="l00098"></a><a class="code" href="../../da/d89/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___m_u_t_u_a_l___l.html#ab8e369d40a0ff46b449ed930150183d9">00098</a>   <a class="code" href="../../db/d1c/struct_f_p_o_l_y1.html">FPOLY1</a> _if[<a class="code" href="../../de/d5e/class_o_p_t.html#a82b127c34339cc2dd6791e70110bbcc5aa35927b332a024d8e0667592044528d3">OPT::_keep_time_steps</a>];
<a name="l00099"></a><a class="code" href="../../da/d89/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___m_u_t_u_a_l___l.html#ae46c17157bd2f3b7a029d59b3f9e20f9">00099</a>   <a class="code" href="../../db/d1c/struct_f_p_o_l_y1.html">FPOLY1</a> <a class="code" href="../../da/d89/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___m_u_t_u_a_l___l.html#ae46c17157bd2f3b7a029d59b3f9e20f9">_yr1</a>;          <span class="comment">// iteration parameters, 1 iter ago</span>
<a name="l00100"></a><a class="code" href="../../da/d89/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___m_u_t_u_a_l___l.html#a4ef699b1d99c06565e9c66b5595dcb37">00100</a>   <a class="code" href="../../db/d1c/struct_f_p_o_l_y1.html">FPOLY1</a> _yr[<a class="code" href="../../de/d5e/class_o_p_t.html#a82b127c34339cc2dd6791e70110bbcc5aa35927b332a024d8e0667592044528d3">OPT::_keep_time_steps</a>];
<a name="l00101"></a><a class="code" href="../../da/d89/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___m_u_t_u_a_l___l.html#ae01fc326c0d3eb4b6f25cc56a406f1f8">00101</a>   <a class="code" href="../../db/d1c/struct_f_p_o_l_y1.html">FPOLY1</a> _ir[<a class="code" href="../../de/d5e/class_o_p_t.html#a82b127c34339cc2dd6791e70110bbcc5aa35927b332a024d8e0667592044528d3">OPT::_keep_time_steps</a>];
<a name="l00102"></a>00102 <span class="keyword">private</span>:
<a name="l00103"></a>00103   <span class="keyword">explicit</span>      <a class="code" href="../../da/d89/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___m_u_t_u_a_l___l.html">DEV_MUTUAL_L</a>(<span class="keyword">const</span> <a class="code" href="../../da/d89/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___m_u_t_u_a_l___l.html">DEV_MUTUAL_L</a>&amp; <a class="code" href="../../d5/d1c/namespaceanonymous__namespace_02c__genrat_8cc_03.html#a4efa6c9b62361333533768663f0ae0a1">p</a>);
<a name="l00104"></a>00104 <span class="keyword">public</span>:
<a name="l00105"></a>00105   <span class="keyword">explicit</span>      <a class="code" href="../../da/d89/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___m_u_t_u_a_l___l.html">DEV_MUTUAL_L</a>();
<a name="l00106"></a>00106 <span class="keyword">private</span>: <span class="comment">// override virtual</span>
<a name="l00107"></a><a class="code" href="../../da/d89/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___m_u_t_u_a_l___l.html#aebdd84fb7a2c4fba65d2044835692e14">00107</a>   <span class="keywordtype">char</span>     <a class="code" href="../../da/d89/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___m_u_t_u_a_l___l.html#aebdd84fb7a2c4fba65d2044835692e14">id_letter</a>()<span class="keyword">const     </span>{<span class="keywordflow">return</span> <span class="charliteral">&#39;K&#39;</span>;}
<a name="l00108"></a><a class="code" href="../../da/d89/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___m_u_t_u_a_l___l.html#a8560fad62e98086fff22ca807e265055">00108</a>   <span class="keywordtype">bool</span>     <a class="code" href="../../da/d89/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___m_u_t_u_a_l___l.html#a8560fad62e98086fff22ca807e265055">print_type_in_spice</a>()<span class="keyword">const </span>{<span class="keywordflow">return</span> <span class="keyword">false</span>;}
<a name="l00109"></a><a class="code" href="../../da/d89/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___m_u_t_u_a_l___l.html#a850363a2cd093c06a6334d1a02cc5683">00109</a>   std::string <a class="code" href="../../da/d89/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___m_u_t_u_a_l___l.html#a850363a2cd093c06a6334d1a02cc5683">value_name</a>()<span class="keyword">const </span>{<span class="keywordflow">return</span> <span class="stringliteral">&quot;k&quot;</span>;}
<a name="l00110"></a><a class="code" href="../../da/d89/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___m_u_t_u_a_l___l.html#ad87fbdb217c89fec81862ac870950e47">00110</a>   std::string <a class="code" href="../../da/d89/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___m_u_t_u_a_l___l.html#ad87fbdb217c89fec81862ac870950e47">dev_type</a>()<span class="keyword">const   </span>{<a class="code" href="../../d6/dda/io__trace_8h.html#aa6032a13c5f0621c16055ada1b7f47ad">untested</a>(); <span class="keywordflow">return</span> <span class="stringliteral">&quot;mutual_inductor&quot;</span>;}
<a name="l00111"></a><a class="code" href="../../da/d89/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___m_u_t_u_a_l___l.html#a896680352e3277d7409dd075b8157eeb">00111</a>   <span class="keywordtype">int</span>      <a class="code" href="../../da/d89/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___m_u_t_u_a_l___l.html#a896680352e3277d7409dd075b8157eeb">max_nodes</a>()<span class="keyword">const     </span>{<span class="keywordflow">return</span> 2;}
<a name="l00112"></a><a class="code" href="../../da/d89/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___m_u_t_u_a_l___l.html#a4d26a8c5df946bb2b0aab17cb108f6c0">00112</a>   <span class="keywordtype">int</span>      <a class="code" href="../../da/d89/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___m_u_t_u_a_l___l.html#a4d26a8c5df946bb2b0aab17cb108f6c0">min_nodes</a>()<span class="keyword">const     </span>{<span class="keywordflow">return</span> 2;}
<a name="l00113"></a><a class="code" href="../../da/d89/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___m_u_t_u_a_l___l.html#aa95cefa9f206254bf3dd56c2b9d4418e">00113</a>   <span class="keywordtype">int</span>      <a class="code" href="../../da/d89/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___m_u_t_u_a_l___l.html#aa95cefa9f206254bf3dd56c2b9d4418e">matrix_nodes</a>()<span class="keyword">const  </span>{<span class="keywordflow">return</span> 2;}
<a name="l00114"></a><a class="code" href="../../da/d89/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___m_u_t_u_a_l___l.html#ab703f328a1ba005072b4253c08b1733c">00114</a>   <span class="keywordtype">int</span>      <a class="code" href="../../da/d89/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___m_u_t_u_a_l___l.html#ab703f328a1ba005072b4253c08b1733c">net_nodes</a>()<span class="keyword">const     </span>{<span class="keywordflow">return</span> 0;}
<a name="l00115"></a><a class="code" href="../../da/d89/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___m_u_t_u_a_l___l.html#a49915d4e618809af00ee6897892f419e">00115</a>   <span class="keywordtype">int</span>      <a class="code" href="../../da/d89/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___m_u_t_u_a_l___l.html#a49915d4e618809af00ee6897892f419e">num_current_ports</a>()<span class="keyword">const </span>{<span class="keywordflow">return</span> 2;}
<a name="l00116"></a><a class="code" href="../../da/d89/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___m_u_t_u_a_l___l.html#a9ce67c42e1f667bf88fb714bb1b00323">00116</a>   <span class="keywordtype">bool</span>     <a class="code" href="../../da/d89/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___m_u_t_u_a_l___l.html#a9ce67c42e1f667bf88fb714bb1b00323">has_iv_probe</a>()<span class="keyword">const  </span>{<a class="code" href="../../d6/dda/io__trace_8h.html#aa6032a13c5f0621c16055ada1b7f47ad">untested</a>(); <span class="keywordflow">return</span> <span class="keyword">false</span>;}
<a name="l00117"></a><a class="code" href="../../da/d89/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___m_u_t_u_a_l___l.html#a87ec8296c725bd87e723285c4d662346">00117</a>   <span class="keywordtype">bool</span>     <a class="code" href="../../da/d89/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___m_u_t_u_a_l___l.html#a87ec8296c725bd87e723285c4d662346">use_obsolete_callback_parse</a>()<span class="keyword">const </span>{<span class="keywordflow">return</span> <span class="keyword">false</span>;}
<a name="l00118"></a><a class="code" href="../../da/d89/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___m_u_t_u_a_l___l.html#a707f2ddbd4081b2562e8258e43f16614">00118</a>   <a class="code" href="../../dc/df7/class_c_a_r_d.html">CARD</a>*    <a class="code" href="../../da/d89/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___m_u_t_u_a_l___l.html#a707f2ddbd4081b2562e8258e43f16614">clone</a>()<span class="keyword">const         </span>{<span class="keywordflow">return</span> <span class="keyword">new</span> <a class="code" href="../../da/d89/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___m_u_t_u_a_l___l.html">DEV_MUTUAL_L</a>(*<span class="keyword">this</span>);}
<a name="l00119"></a>00119   <span class="keywordtype">void</span>     expand_first();
<a name="l00120"></a>00120   <span class="keywordtype">void</span>     expand_last();
<a name="l00121"></a>00121   <span class="keywordtype">void</span>     precalc_last();
<a name="l00122"></a><a class="code" href="../../da/d89/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___m_u_t_u_a_l___l.html#a95fef0bed2e8305e8df2fd7df2db593f">00122</a>   <span class="keywordtype">void</span>     <a class="code" href="../../da/d89/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___m_u_t_u_a_l___l.html#a95fef0bed2e8305e8df2fd7df2db593f">tr_iwant_matrix</a>()    {tr_iwant_matrix_passive();}
<a name="l00123"></a>00123   <span class="keywordtype">void</span>     tr_begin();
<a name="l00124"></a>00124   <span class="keywordtype">void</span>     dc_advance();
<a name="l00125"></a>00125   <span class="keywordtype">void</span>     tr_advance();
<a name="l00126"></a><a class="code" href="../../da/d89/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___m_u_t_u_a_l___l.html#a867d59c58c867ee428db8ba1e20d3286">00126</a>   <span class="keywordtype">bool</span>     <a class="code" href="../../da/d89/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___m_u_t_u_a_l___l.html#a867d59c58c867ee428db8ba1e20d3286">do_tr</a>()              {_sim-&gt;_late_evalq.push_back(<span class="keyword">this</span>); <span class="keywordflow">return</span> <span class="keyword">true</span>;}
<a name="l00127"></a>00127   <span class="keywordtype">bool</span>     do_tr_last();
<a name="l00128"></a>00128   <span class="keywordtype">void</span>     tr_load();
<a name="l00129"></a><a class="code" href="../../da/d89/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___m_u_t_u_a_l___l.html#a11ab4d627d9bc5a849ff1a85fc191ced">00129</a>   <a class="code" href="../../d4/d78/struct_t_i_m_e___p_a_i_r.html">TIME_PAIR</a> <a class="code" href="../../da/d89/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___m_u_t_u_a_l___l.html#a11ab4d627d9bc5a849ff1a85fc191ced">tr_review</a>()         {<span class="keywordflow">return</span> <a class="code" href="../../d4/d78/struct_t_i_m_e___p_a_i_r.html">TIME_PAIR</a>(<a class="code" href="../../dd/d17/constant_8h.html#ab4878a59db1ba93c064aae818b9e51ae">NEVER</a>,<a class="code" href="../../dd/d17/constant_8h.html#ab4878a59db1ba93c064aae818b9e51ae">NEVER</a>);}
<a name="l00130"></a>00130   <span class="keywordtype">void</span>     tr_unload();
<a name="l00131"></a><a class="code" href="../../da/d89/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___m_u_t_u_a_l___l.html#ae233f2ef8476b151ac41762bf2a1d198">00131</a>   <span class="keywordtype">double</span>   <a class="code" href="../../da/d89/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___m_u_t_u_a_l___l.html#ae233f2ef8476b151ac41762bf2a1d198">tr_input</a>()<span class="keyword">const              </span>{<span class="keywordflow">return</span> tr_involts();}
<a name="l00132"></a><a class="code" href="../../da/d89/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___m_u_t_u_a_l___l.html#aa82affb1f18fd2a3c0ee2a38c84ddc65">00132</a>   <span class="keywordtype">double</span>   <a class="code" href="../../da/d89/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___m_u_t_u_a_l___l.html#aa82affb1f18fd2a3c0ee2a38c84ddc65">tr_input_limited</a>()<span class="keyword">const      </span>{<a class="code" href="../../d6/dda/io__trace_8h.html#aa6032a13c5f0621c16055ada1b7f47ad">untested</a>(); <span class="keywordflow">return</span> tr_involts_limited();}
<a name="l00133"></a><a class="code" href="../../da/d89/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___m_u_t_u_a_l___l.html#a90b2f97f415c4128ffc32379d1897386">00133</a>   <span class="keywordtype">double</span>   <a class="code" href="../../da/d89/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___m_u_t_u_a_l___l.html#a90b2f97f415c4128ffc32379d1897386">tr_amps</a>()<span class="keyword">const               </span>{<a class="code" href="../../d6/dda/io__trace_8h.html#aa6032a13c5f0621c16055ada1b7f47ad">untested</a>(); <span class="keywordflow">return</span> _loss0 * tr_outvolts();}
<a name="l00134"></a>00134   <span class="keywordtype">double</span>   tr_probe_num(<span class="keyword">const</span> std::string&amp;)<span class="keyword">const</span>;
<a name="l00135"></a>00135 
<a name="l00136"></a><a class="code" href="../../da/d89/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___m_u_t_u_a_l___l.html#a448e4d94322e9c4b82f1507739bdde9a">00136</a>   <span class="keywordtype">void</span>     <a class="code" href="../../da/d89/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___m_u_t_u_a_l___l.html#a448e4d94322e9c4b82f1507739bdde9a">ac_iwant_matrix</a>()    {ac_iwant_matrix_passive();}
<a name="l00137"></a>00137   <span class="keywordtype">void</span>     ac_load();
<a name="l00138"></a><a class="code" href="../../da/d89/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___m_u_t_u_a_l___l.html#adc88c85bd6b8d2da23a963ccaff250fd">00138</a>   <a class="code" href="../../d8/dbf/md_8h.html#aeb7a51d53eae6b506572efff8dc8204d">COMPLEX</a>  <a class="code" href="../../da/d89/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___m_u_t_u_a_l___l.html#adc88c85bd6b8d2da23a963ccaff250fd">ac_amps</a>()<span class="keyword">const       </span>{<a class="code" href="../../d6/dda/io__trace_8h.html#aa6032a13c5f0621c16055ada1b7f47ad">untested</a>(); <span class="keywordflow">return</span> _loss0 * ac_outvolts();}
<a name="l00139"></a>00139 
<a name="l00140"></a><a class="code" href="../../da/d89/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___m_u_t_u_a_l___l.html#ac672ce0babb52727024a8ea1acac7e39">00140</a>   <span class="keywordtype">void</span>     set_port_by_name(std::string&amp; Name, std::string&amp; Value)
<a name="l00141"></a>00141                 {<a class="code" href="../../d6/dda/io__trace_8h.html#aa6032a13c5f0621c16055ada1b7f47ad">untested</a>(); <a class="code" href="../../d5/dce/class_c_o_m_p_o_n_e_n_t.html#aee56d4d52d94838f6f82f887439a971c">COMPONENT::set_port_by_name</a>(Name,Value);}
<a name="l00142"></a><a class="code" href="../../da/d89/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___m_u_t_u_a_l___l.html#a33bbcb360f14b3d61becc535f1aab517">00142</a>   <span class="keywordtype">void</span>     set_port_by_index(<span class="keywordtype">int</span> Index, std::string&amp; Value)
<a name="l00143"></a>00143                 {set_current_port_by_index(Index, Value);}
<a name="l00144"></a><a class="code" href="../../da/d89/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___m_u_t_u_a_l___l.html#ac925013dacb2bdeab7b0b457ee2c2de8">00144</a>   <span class="keywordtype">bool</span>     <a class="code" href="../../da/d89/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___m_u_t_u_a_l___l.html#ac925013dacb2bdeab7b0b457ee2c2de8">node_is_connected</a>(<span class="keywordtype">int</span> i)<span class="keyword">const </span>{
<a name="l00145"></a>00145     <span class="keywordflow">switch</span> (i) {
<a name="l00146"></a>00146     <span class="keywordflow">case</span> 0:  <span class="keywordflow">return</span> _output_label != <span class="stringliteral">&quot;&quot;</span>;
<a name="l00147"></a>00147     <span class="keywordflow">case</span> 1:  <span class="keywordflow">return</span> _input_label != <span class="stringliteral">&quot;&quot;</span>;
<a name="l00148"></a>00148     <span class="keywordflow">default</span>: <a class="code" href="../../d6/dda/io__trace_8h.html#a86d08c1b23d67eca942da0ac012d89f3">unreachable</a>(); <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00149"></a>00149     }
<a name="l00150"></a>00150   }
<a name="l00151"></a>00151 
<a name="l00152"></a><a class="code" href="../../da/d89/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___m_u_t_u_a_l___l.html#a585ff98e6196f1fa7193b777e9a6eb40">00152</a>   std::string <a class="code" href="../../da/d89/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___m_u_t_u_a_l___l.html#a585ff98e6196f1fa7193b777e9a6eb40">port_name</a>(<span class="keywordtype">int</span>)<span class="keyword">const </span>{<a class="code" href="../../d6/dda/io__trace_8h.html#aa6032a13c5f0621c16055ada1b7f47ad">untested</a>();
<a name="l00153"></a>00153     <span class="keywordflow">return</span> <span class="stringliteral">&quot;&quot;</span>;
<a name="l00154"></a>00154   }
<a name="l00155"></a><a class="code" href="../../da/d89/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___m_u_t_u_a_l___l.html#a0ebcfcdf0a038dfd9d35d1a6a7d7980a">00155</a>   std::string <a class="code" href="../../da/d89/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___m_u_t_u_a_l___l.html#a0ebcfcdf0a038dfd9d35d1a6a7d7980a">current_port_name</a>(<span class="keywordtype">int</span> i)<span class="keyword">const </span>{<a class="code" href="../../d6/dda/io__trace_8h.html#aa6032a13c5f0621c16055ada1b7f47ad">untested</a>();
<a name="l00156"></a>00156     assert(i &gt;= 0);
<a name="l00157"></a>00157     assert(i &lt; 2);
<a name="l00158"></a>00158     <span class="keyword">static</span> std::string names[] = {<span class="stringliteral">&quot;l1&quot;</span>, <span class="stringliteral">&quot;l2&quot;</span>};
<a name="l00159"></a>00159     <span class="keywordflow">return</span> names[i];
<a name="l00160"></a>00160   }
<a name="l00161"></a><a class="code" href="../../da/d89/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___m_u_t_u_a_l___l.html#a7c4085721f03e58dca24adcd8464fd0f">00161</a>   <span class="keyword">const</span> std::string <a class="code" href="../../da/d89/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___m_u_t_u_a_l___l.html#a7c4085721f03e58dca24adcd8464fd0f">current_port_value</a>(<span class="keywordtype">int</span> i)<span class="keyword">const </span>{
<a name="l00162"></a>00162     <span class="keywordflow">switch</span> (i) {
<a name="l00163"></a>00163     <span class="keywordflow">case</span> 0:  <span class="keywordflow">return</span> _output_label;
<a name="l00164"></a>00164     <span class="keywordflow">case</span> 1:  <span class="keywordflow">return</span> _input_label;
<a name="l00165"></a>00165     <span class="keywordflow">default</span>: <a class="code" href="../../d6/dda/io__trace_8h.html#a86d08c1b23d67eca942da0ac012d89f3">unreachable</a>(); <span class="keywordflow">return</span> <a class="code" href="../../d5/dce/class_c_o_m_p_o_n_e_n_t.html#acf3c104d04168bf4b6bb4c2bb5425966">COMPONENT::current_port_value</a>(i);
<a name="l00166"></a>00166     }
<a name="l00167"></a>00167   }
<a name="l00168"></a><a class="code" href="../../da/d89/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___m_u_t_u_a_l___l.html#a0f0e093375ca12f9c64b079125a4b6eb">00168</a>   <span class="keywordtype">void</span> <a class="code" href="../../da/d89/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___m_u_t_u_a_l___l.html#a0f0e093375ca12f9c64b079125a4b6eb">set_current_port_by_index</a>(<span class="keywordtype">int</span> i, <span class="keyword">const</span> std::string&amp; s) {
<a name="l00169"></a>00169     <span class="keywordflow">switch</span> (i) {
<a name="l00170"></a>00170     <span class="keywordflow">case</span> 0:  _output_label = s; <span class="keywordflow">break</span>;
<a name="l00171"></a>00171     <span class="keywordflow">case</span> 1:  _input_label = s;  <span class="keywordflow">break</span>;
<a name="l00172"></a>00172     <span class="keywordflow">default</span>: <a class="code" href="../../d6/dda/io__trace_8h.html#a86d08c1b23d67eca942da0ac012d89f3">unreachable</a>();     <span class="keywordflow">break</span>;
<a name="l00173"></a>00173     }
<a name="l00174"></a>00174   }
<a name="l00175"></a>00175 };
<a name="l00176"></a>00176 <span class="comment">/*--------------------------------------------------------------------------*/</span>
<a name="l00177"></a>00177 <span class="comment">/*--------------------------------------------------------------------------*/</span>
<a name="l00178"></a><a class="code" href="../../da/d89/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___m_u_t_u_a_l___l.html#a1c95424ed2a151251e1f29a2ef9e74bc">00178</a> DEV_MUTUAL_L::DEV_MUTUAL_L()
<a name="l00179"></a>00179   :<a class="code" href="../../db/d59/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___i_n_d_u_c_t_a_n_c_e.html">DEV_INDUCTANCE</a>(),
<a name="l00180"></a>00180    _output_label(),
<a name="l00181"></a>00181    _output(0),
<a name="l00182"></a>00182    _input_label(),
<a name="l00183"></a>00183    _input(0),
<a name="l00184"></a>00184    _lm(<a class="code" href="../../dd/d17/constant_8h.html#abb39563dc0a27391e9e1df95cf4da216">NOT_INPUT</a>),
<a name="l00185"></a>00185    _mf0_c0(0.),
<a name="l00186"></a>00186    _mf1_c0(0.),
<a name="l00187"></a>00187    _mr0_c0(0.),
<a name="l00188"></a>00188    _mr1_c0(0.)
<a name="l00189"></a>00189 {
<a name="l00190"></a>00190   <a class="code" href="../../db/d59/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___i_n_d_u_c_t_a_n_c_e.html#af5951650c2f637149b8131028e3c02b3">_c_model</a> = <span class="keyword">true</span>;
<a name="l00191"></a>00191   assert(<a class="code" href="../../da/d89/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___m_u_t_u_a_l___l.html#ac5d05a58039dd18f20a4abb174c6ba58">_yf</a>[0].x == 0. &amp;&amp; <a class="code" href="../../da/d89/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___m_u_t_u_a_l___l.html#ac5d05a58039dd18f20a4abb174c6ba58">_yf</a>[0].f0 == 0. &amp;&amp; <a class="code" href="../../da/d89/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___m_u_t_u_a_l___l.html#ac5d05a58039dd18f20a4abb174c6ba58">_yf</a>[0].f1 == 0.);
<a name="l00192"></a>00192   assert(<a class="code" href="../../da/d89/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___m_u_t_u_a_l___l.html#a344d8dcf7b1f2a58b464cdf3e8647201">_yf1</a> == <a class="code" href="../../da/d89/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___m_u_t_u_a_l___l.html#ac5d05a58039dd18f20a4abb174c6ba58">_yf</a>[0]);
<a name="l00193"></a>00193   assert(<a class="code" href="../../da/d89/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___m_u_t_u_a_l___l.html#a4ef699b1d99c06565e9c66b5595dcb37">_yr</a>[0].x == 0. &amp;&amp; <a class="code" href="../../da/d89/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___m_u_t_u_a_l___l.html#a4ef699b1d99c06565e9c66b5595dcb37">_yr</a>[0].f0 == 0. &amp;&amp; <a class="code" href="../../da/d89/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___m_u_t_u_a_l___l.html#a4ef699b1d99c06565e9c66b5595dcb37">_yr</a>[0].f1 == 0.);
<a name="l00194"></a>00194   assert(<a class="code" href="../../da/d89/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___m_u_t_u_a_l___l.html#ae46c17157bd2f3b7a029d59b3f9e20f9">_yr1</a> == <a class="code" href="../../da/d89/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___m_u_t_u_a_l___l.html#a4ef699b1d99c06565e9c66b5595dcb37">_yr</a>[0]);
<a name="l00195"></a>00195 }
<a name="l00196"></a>00196 <span class="comment">/*--------------------------------------------------------------------------*/</span>
<a name="l00197"></a><a class="code" href="../../da/d89/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___m_u_t_u_a_l___l.html#a9763c07cd7b17dc4d01689535bf4bdb8">00197</a> <a class="code" href="../../da/d89/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___m_u_t_u_a_l___l.html#a1c95424ed2a151251e1f29a2ef9e74bc">DEV_MUTUAL_L::DEV_MUTUAL_L</a>(<span class="keyword">const</span> <a class="code" href="../../da/d89/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___m_u_t_u_a_l___l.html">DEV_MUTUAL_L</a>&amp; <a class="code" href="../../d5/d1c/namespaceanonymous__namespace_02c__genrat_8cc_03.html#a4efa6c9b62361333533768663f0ae0a1">p</a>)
<a name="l00198"></a>00198   :<a class="code" href="../../db/d59/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___i_n_d_u_c_t_a_n_c_e.html">DEV_INDUCTANCE</a>(p),
<a name="l00199"></a>00199    _output_label(p._output_label),
<a name="l00200"></a>00200    _output(p._output),
<a name="l00201"></a>00201    _input_label(p._input_label),
<a name="l00202"></a>00202    _input(p._input),
<a name="l00203"></a>00203    _lm(p._lm),
<a name="l00204"></a>00204    _mf0_c0(0.),
<a name="l00205"></a>00205    _mf1_c0(0.),
<a name="l00206"></a>00206    _mr0_c0(0.),
<a name="l00207"></a>00207    _mr1_c0(0.)
<a name="l00208"></a>00208 {
<a name="l00209"></a>00209   <a class="code" href="../../db/d59/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___i_n_d_u_c_t_a_n_c_e.html#af5951650c2f637149b8131028e3c02b3">_c_model</a> = <span class="keyword">true</span>;
<a name="l00210"></a>00210   assert(<a class="code" href="../../da/d89/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___m_u_t_u_a_l___l.html#ac5d05a58039dd18f20a4abb174c6ba58">_yf</a>[0].x == 0. &amp;&amp; <a class="code" href="../../da/d89/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___m_u_t_u_a_l___l.html#ac5d05a58039dd18f20a4abb174c6ba58">_yf</a>[0].f0 == 0. &amp;&amp; <a class="code" href="../../da/d89/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___m_u_t_u_a_l___l.html#ac5d05a58039dd18f20a4abb174c6ba58">_yf</a>[0].f1 == 0.);
<a name="l00211"></a>00211   assert(<a class="code" href="../../da/d89/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___m_u_t_u_a_l___l.html#a344d8dcf7b1f2a58b464cdf3e8647201">_yf1</a> == <a class="code" href="../../da/d89/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___m_u_t_u_a_l___l.html#ac5d05a58039dd18f20a4abb174c6ba58">_yf</a>[0]);
<a name="l00212"></a>00212   assert(<a class="code" href="../../da/d89/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___m_u_t_u_a_l___l.html#a4ef699b1d99c06565e9c66b5595dcb37">_yr</a>[0].x == 0. &amp;&amp; <a class="code" href="../../da/d89/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___m_u_t_u_a_l___l.html#a4ef699b1d99c06565e9c66b5595dcb37">_yr</a>[0].f0 == 0. &amp;&amp; <a class="code" href="../../da/d89/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___m_u_t_u_a_l___l.html#a4ef699b1d99c06565e9c66b5595dcb37">_yr</a>[0].f1 == 0.);
<a name="l00213"></a>00213   assert(<a class="code" href="../../da/d89/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___m_u_t_u_a_l___l.html#ae46c17157bd2f3b7a029d59b3f9e20f9">_yr1</a> == <a class="code" href="../../da/d89/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___m_u_t_u_a_l___l.html#a4ef699b1d99c06565e9c66b5595dcb37">_yr</a>[0]);
<a name="l00214"></a>00214 }
<a name="l00215"></a>00215 <span class="comment">/*--------------------------------------------------------------------------*/</span>
<a name="l00216"></a><a class="code" href="../../db/d59/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___i_n_d_u_c_t_a_n_c_e.html#a7b81f059b45959aae6902c2b0e98852b">00216</a> <span class="keywordtype">void</span> <a class="code" href="../../db/d59/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___i_n_d_u_c_t_a_n_c_e.html#a7b81f059b45959aae6902c2b0e98852b">DEV_INDUCTANCE::expand</a>()
<a name="l00217"></a>00217 {
<a name="l00218"></a>00218   <a class="code" href="../../db/d59/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___i_n_d_u_c_t_a_n_c_e.html#a7b81f059b45959aae6902c2b0e98852b">STORAGE::expand</a>();
<a name="l00219"></a>00219   <span class="keywordflow">if</span> (<a class="code" href="../../d3/d22/class_c_k_t___b_a_s_e.html#aee1030ed5a99aecd285c8af3aa2b37ef">_sim</a>-&gt;<a class="code" href="../../d7/db5/struct_s_i_m___d_a_t_a.html#ac003d9d38204e021acf219751163675a">is_first_expand</a>()) {
<a name="l00220"></a>00220     <span class="keywordflow">if</span> (!<a class="code" href="../../db/d59/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___i_n_d_u_c_t_a_n_c_e.html#af5951650c2f637149b8131028e3c02b3">_c_model</a>) {
<a name="l00221"></a>00221       <a class="code" href="../../dc/df7/class_c_a_r_d.html#ac72d62d7197e7aa9e9554e05d422cb56">_n</a>[<a class="code" href="../../dc/db5/e__node_8h.html#a61dadd085c1777f559549e05962b2c9eaec3dec5acc8382e7fd1f6ea791599e9b">IN1</a>].<a class="code" href="../../d7/ded/classnode__t.html#a84bb233a40232d370fedcd3f0fd7e001">set_to_ground</a>(<span class="keyword">this</span>);
<a name="l00222"></a>00222     }<span class="keywordflow">else</span>{
<a name="l00223"></a>00223       <a class="code" href="../../dc/df7/class_c_a_r_d.html#ac72d62d7197e7aa9e9554e05d422cb56">_n</a>[<a class="code" href="../../dc/db5/e__node_8h.html#a61dadd085c1777f559549e05962b2c9eaec3dec5acc8382e7fd1f6ea791599e9b">IN1</a>].<a class="code" href="../../d7/ded/classnode__t.html#a7a8d057adcf9de571a8f08b47af98022">new_model_node</a>(<a class="code" href="../../dc/df7/class_c_a_r_d.html#a2b81b4c28056adc678b21ff34a756913">long_label</a>() + <span class="stringliteral">&quot;.i&quot;</span>, <span class="keyword">this</span>);
<a name="l00224"></a>00224     }
<a name="l00225"></a>00225   }<span class="keywordflow">else</span>{<a class="code" href="../../d6/dda/io__trace_8h.html#aa6032a13c5f0621c16055ada1b7f47ad">untested</a>();
<a name="l00226"></a>00226   }
<a name="l00227"></a>00227 }
<a name="l00228"></a>00228 <span class="comment">/*--------------------------------------------------------------------------*/</span>
<a name="l00229"></a><a class="code" href="../../da/d89/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___m_u_t_u_a_l___l.html#a81181c933a0b87c3e2c827fcb420f894">00229</a> <span class="keywordtype">void</span> <a class="code" href="../../da/d89/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___m_u_t_u_a_l___l.html#a81181c933a0b87c3e2c827fcb420f894">DEV_MUTUAL_L::expand_first</a>()
<a name="l00230"></a>00230 {
<a name="l00231"></a>00231   <a class="code" href="../../da/d89/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___m_u_t_u_a_l___l.html#addf8b4475c2161b95f7bb2ec85a72616">_output</a> = <span class="keyword">dynamic_cast&lt;</span><a class="code" href="../../db/d59/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___i_n_d_u_c_t_a_n_c_e.html">DEV_INDUCTANCE</a>*<span class="keyword">&gt;</span>(<a class="code" href="../../dc/df7/class_c_a_r_d.html#ae5595d5aba88baf27759a622517af069">find_in_my_scope</a>(<a class="code" href="../../da/d89/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___m_u_t_u_a_l___l.html#aab690ebaeda5409b8dcc3d4416598f23">_output_label</a>));
<a name="l00232"></a>00232   <span class="keywordflow">if</span> (!<a class="code" href="../../da/d89/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___m_u_t_u_a_l___l.html#addf8b4475c2161b95f7bb2ec85a72616">_output</a>) {
<a name="l00233"></a>00233     <span class="keywordflow">throw</span> Exception_Type_Mismatch(<a class="code" href="../../dc/df7/class_c_a_r_d.html#a2b81b4c28056adc678b21ff34a756913">long_label</a>(), <a class="code" href="../../da/d89/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___m_u_t_u_a_l___l.html#aab690ebaeda5409b8dcc3d4416598f23">_output_label</a>, <span class="stringliteral">&quot;inductor&quot;</span>);
<a name="l00234"></a>00234   }<span class="keywordflow">else</span>{
<a name="l00235"></a>00235     <a class="code" href="../../da/d89/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___m_u_t_u_a_l___l.html#addf8b4475c2161b95f7bb2ec85a72616">_output</a>-&gt;<a class="code" href="../../db/d59/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___i_n_d_u_c_t_a_n_c_e.html#af5951650c2f637149b8131028e3c02b3">_c_model</a> = <span class="keyword">true</span>;
<a name="l00236"></a>00236   }
<a name="l00237"></a>00237 
<a name="l00238"></a>00238   <a class="code" href="../../da/d89/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___m_u_t_u_a_l___l.html#a65ef817340da7460382005b9adde02b6">_input</a> = <span class="keyword">dynamic_cast&lt;</span><a class="code" href="../../db/d59/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___i_n_d_u_c_t_a_n_c_e.html">DEV_INDUCTANCE</a>*<span class="keyword">&gt;</span>(<a class="code" href="../../dc/df7/class_c_a_r_d.html#ae5595d5aba88baf27759a622517af069">find_in_my_scope</a>(<a class="code" href="../../da/d89/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___m_u_t_u_a_l___l.html#a0c00c3c0b5dc410b8dfe7dd22a628e63">_input_label</a>));
<a name="l00239"></a>00239   <span class="keywordflow">if</span> (!<a class="code" href="../../da/d89/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___m_u_t_u_a_l___l.html#a65ef817340da7460382005b9adde02b6">_input</a>) {
<a name="l00240"></a>00240     <span class="keywordflow">throw</span> Exception_Type_Mismatch(<a class="code" href="../../dc/df7/class_c_a_r_d.html#a2b81b4c28056adc678b21ff34a756913">long_label</a>(), <a class="code" href="../../da/d89/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___m_u_t_u_a_l___l.html#a0c00c3c0b5dc410b8dfe7dd22a628e63">_input_label</a>, <span class="stringliteral">&quot;inductor&quot;</span>);
<a name="l00241"></a>00241   }<span class="keywordflow">else</span>{
<a name="l00242"></a>00242     <a class="code" href="../../da/d89/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___m_u_t_u_a_l___l.html#a65ef817340da7460382005b9adde02b6">_input</a>-&gt;<a class="code" href="../../db/d59/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___i_n_d_u_c_t_a_n_c_e.html#af5951650c2f637149b8131028e3c02b3">_c_model</a> = <span class="keyword">true</span>;
<a name="l00243"></a>00243   }
<a name="l00244"></a>00244 }
<a name="l00245"></a>00245 <span class="comment">/*--------------------------------------------------------------------------*/</span>
<a name="l00246"></a><a class="code" href="../../da/d89/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___m_u_t_u_a_l___l.html#aa0de7f7ed200b6ed231d7dc33e80d54d">00246</a> <span class="keywordtype">void</span> <a class="code" href="../../da/d89/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___m_u_t_u_a_l___l.html#aa0de7f7ed200b6ed231d7dc33e80d54d">DEV_MUTUAL_L::expand_last</a>()
<a name="l00247"></a>00247 {
<a name="l00248"></a>00248   <a class="code" href="../../db/d59/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___i_n_d_u_c_t_a_n_c_e.html#a7b81f059b45959aae6902c2b0e98852b">STORAGE::expand</a>(); <span class="comment">// skip DEV_INDUCTANCE</span>
<a name="l00249"></a>00249   <span class="keywordflow">if</span> (<a class="code" href="../../d3/d22/class_c_k_t___b_a_s_e.html#aee1030ed5a99aecd285c8af3aa2b37ef">_sim</a>-&gt;<a class="code" href="../../d7/db5/struct_s_i_m___d_a_t_a.html#ac003d9d38204e021acf219751163675a">is_first_expand</a>()) {
<a name="l00250"></a>00250     <a class="code" href="../../dc/df7/class_c_a_r_d.html#ac72d62d7197e7aa9e9554e05d422cb56">_n</a>[<a class="code" href="../../dc/db5/e__node_8h.html#a61dadd085c1777f559549e05962b2c9ea9d9779ee4b40afd700152873c283020e">OUT2</a>] = <a class="code" href="../../da/d89/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___m_u_t_u_a_l___l.html#a65ef817340da7460382005b9adde02b6">_input</a>-&gt;<a class="code" href="../../dc/df7/class_c_a_r_d.html#ae787c8be7881320e1ea5475d2ffaea29">n_</a>(<a class="code" href="../../dc/db5/e__node_8h.html#a61dadd085c1777f559549e05962b2c9eaec3dec5acc8382e7fd1f6ea791599e9b">IN1</a>);
<a name="l00251"></a>00251     <a class="code" href="../../dc/df7/class_c_a_r_d.html#ac72d62d7197e7aa9e9554e05d422cb56">_n</a>[<a class="code" href="../../dc/db5/e__node_8h.html#a61dadd085c1777f559549e05962b2c9ea65d5fdb550fca1555a39bc4ac486852b">OUT1</a>] = <a class="code" href="../../da/d89/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___m_u_t_u_a_l___l.html#addf8b4475c2161b95f7bb2ec85a72616">_output</a>-&gt;<a class="code" href="../../dc/df7/class_c_a_r_d.html#ae787c8be7881320e1ea5475d2ffaea29">n_</a>(<a class="code" href="../../dc/db5/e__node_8h.html#a61dadd085c1777f559549e05962b2c9eaec3dec5acc8382e7fd1f6ea791599e9b">IN1</a>);
<a name="l00252"></a>00252   }<span class="keywordflow">else</span>{<a class="code" href="../../d6/dda/io__trace_8h.html#aa6032a13c5f0621c16055ada1b7f47ad">untested</a>();
<a name="l00253"></a>00253   }
<a name="l00254"></a>00254 }
<a name="l00255"></a>00255 <span class="comment">/*--------------------------------------------------------------------------*/</span>
<a name="l00256"></a><a class="code" href="../../da/d89/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___m_u_t_u_a_l___l.html#abe70dfe5cd4e1900aa4296d6f5316298">00256</a> <span class="keywordtype">void</span> <a class="code" href="../../da/d89/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___m_u_t_u_a_l___l.html#abe70dfe5cd4e1900aa4296d6f5316298">DEV_MUTUAL_L::precalc_last</a>()
<a name="l00257"></a>00257 {
<a name="l00258"></a>00258   <a class="code" href="../../da/d89/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___m_u_t_u_a_l___l.html#addf8b4475c2161b95f7bb2ec85a72616">_output</a>-&gt;<a class="code" href="../../d7/dd0/class_s_t_o_r_a_g_e.html#a4b2c38ed9a3396b8dbbbea709abcbbc2">precalc_last</a>();
<a name="l00259"></a>00259   <a class="code" href="../../da/d89/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___m_u_t_u_a_l___l.html#a65ef817340da7460382005b9adde02b6">_input</a>-&gt;<a class="code" href="../../d7/dd0/class_s_t_o_r_a_g_e.html#a4b2c38ed9a3396b8dbbbea709abcbbc2">precalc_last</a>();
<a name="l00260"></a>00260 
<a name="l00261"></a>00261   <a class="code" href="../../da/d89/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___m_u_t_u_a_l___l.html#abe70dfe5cd4e1900aa4296d6f5316298">DEV_INDUCTANCE::precalc_last</a>();
<a name="l00262"></a>00262 
<a name="l00263"></a>00263   <span class="keywordtype">double</span> l1 = <a class="code" href="../../da/d89/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___m_u_t_u_a_l___l.html#addf8b4475c2161b95f7bb2ec85a72616">_output</a>-&gt;<a class="code" href="../../d5/dce/class_c_o_m_p_o_n_e_n_t.html#a47920ef7bbfaa40456af85808eb760b7">value</a>();
<a name="l00264"></a>00264   <span class="keywordtype">double</span> l2 = <a class="code" href="../../da/d89/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___m_u_t_u_a_l___l.html#a65ef817340da7460382005b9adde02b6">_input</a>-&gt;<a class="code" href="../../d5/dce/class_c_o_m_p_o_n_e_n_t.html#a47920ef7bbfaa40456af85808eb760b7">value</a>();
<a name="l00265"></a>00265   <a class="code" href="../../da/d89/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___m_u_t_u_a_l___l.html#ad4c700503c8e6c6021ccebd66cce0c4c">_lm</a> = <a class="code" href="../../d5/dce/class_c_o_m_p_o_n_e_n_t.html#a47920ef7bbfaa40456af85808eb760b7">value</a>() * sqrt(l1 * l2);
<a name="l00266"></a>00266   <a class="code" href="../../d6/dda/io__trace_8h.html#a5e32551bf830489adee8befd40ed304d">trace3</a>(<a class="code" href="../../dc/df7/class_c_a_r_d.html#a2b81b4c28056adc678b21ff34a756913">long_label</a>().c_str(), l1, l2, <a class="code" href="../../da/d89/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___m_u_t_u_a_l___l.html#ad4c700503c8e6c6021ccebd66cce0c4c">_lm</a>);
<a name="l00267"></a>00267 
<a name="l00268"></a>00268   <span class="keywordflow">if</span> (<a class="code" href="../../d3/d22/class_c_k_t___b_a_s_e.html#aee1030ed5a99aecd285c8af3aa2b37ef">_sim</a>-&gt;<a class="code" href="../../d7/db5/struct_s_i_m___d_a_t_a.html#ac003d9d38204e021acf219751163675a">is_first_expand</a>()) {
<a name="l00269"></a>00269     assert(<a class="code" href="../../da/da7/class_e_l_e_m_e_n_t.html#a16e865ecb0b2b7ebda5fc18ddaf8f039">_y</a>[0].x  == 0.);
<a name="l00270"></a>00270     assert(<a class="code" href="../../da/da7/class_e_l_e_m_e_n_t.html#a16e865ecb0b2b7ebda5fc18ddaf8f039">_y</a>[0].f0 == <a class="code" href="../../dd/d17/constant_8h.html#ab1e03f8f0815028332897234e33a3bcf">LINEAR</a>);
<a name="l00271"></a>00271     <a class="code" href="../../da/da7/class_e_l_e_m_e_n_t.html#a16e865ecb0b2b7ebda5fc18ddaf8f039">_y</a>[0].<a class="code" href="../../db/d1c/struct_f_p_o_l_y1.html#a52909d5a5ec11f5cedb065da80786871">f1</a> = -<a class="code" href="../../da/d89/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___m_u_t_u_a_l___l.html#ad4c700503c8e6c6021ccebd66cce0c4c">_lm</a>; <span class="comment">// override</span>
<a name="l00272"></a>00272     <a class="code" href="../../da/d89/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___m_u_t_u_a_l___l.html#ac5d05a58039dd18f20a4abb174c6ba58">_yf</a>[0] = <a class="code" href="../../da/d89/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___m_u_t_u_a_l___l.html#a4ef699b1d99c06565e9c66b5595dcb37">_yr</a>[0] = <a class="code" href="../../da/da7/class_e_l_e_m_e_n_t.html#a16e865ecb0b2b7ebda5fc18ddaf8f039">_y</a>[0];
<a name="l00273"></a>00273   }<span class="keywordflow">else</span>{
<a name="l00274"></a>00274   }
<a name="l00275"></a>00275 }
<a name="l00276"></a>00276 <span class="comment">/*--------------------------------------------------------------------------*/</span>
<a name="l00277"></a><a class="code" href="../../db/d59/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___i_n_d_u_c_t_a_n_c_e.html#a73f45468d9f79c420265d91accac06f1">00277</a> <span class="keywordtype">void</span> <a class="code" href="../../db/d59/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___i_n_d_u_c_t_a_n_c_e.html#a73f45468d9f79c420265d91accac06f1">DEV_INDUCTANCE::tr_iwant_matrix</a>()
<a name="l00278"></a>00278 {
<a name="l00279"></a>00279   <span class="keywordflow">if</span> (!<a class="code" href="../../db/d59/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___i_n_d_u_c_t_a_n_c_e.html#af5951650c2f637149b8131028e3c02b3">_c_model</a>) {
<a name="l00280"></a>00280     <a class="code" href="../../da/da7/class_e_l_e_m_e_n_t.html#a7f83fe3849ed7d43bca432100e4ac997">tr_iwant_matrix_passive</a>();
<a name="l00281"></a>00281   }<span class="keywordflow">else</span>{
<a name="l00282"></a>00282     assert(<a class="code" href="../../db/d59/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___i_n_d_u_c_t_a_n_c_e.html#adb5e74243b094a35c500a3c776dbce62">matrix_nodes</a>() == 3);
<a name="l00283"></a>00283     
<a name="l00284"></a>00284     assert(<a class="code" href="../../dc/df7/class_c_a_r_d.html#ac72d62d7197e7aa9e9554e05d422cb56">_n</a>[<a class="code" href="../../dc/db5/e__node_8h.html#a61dadd085c1777f559549e05962b2c9ea65d5fdb550fca1555a39bc4ac486852b">OUT1</a>].m_() != <a class="code" href="../../dc/db5/e__node_8h.html#a61dadd085c1777f559549e05962b2c9ead64622f3076488654cd2253010c76c5c">INVALID_NODE</a>);
<a name="l00285"></a>00285     assert(<a class="code" href="../../dc/df7/class_c_a_r_d.html#ac72d62d7197e7aa9e9554e05d422cb56">_n</a>[<a class="code" href="../../dc/db5/e__node_8h.html#a61dadd085c1777f559549e05962b2c9ea9d9779ee4b40afd700152873c283020e">OUT2</a>].m_() != <a class="code" href="../../dc/db5/e__node_8h.html#a61dadd085c1777f559549e05962b2c9ead64622f3076488654cd2253010c76c5c">INVALID_NODE</a>);
<a name="l00286"></a>00286     assert(<a class="code" href="../../dc/df7/class_c_a_r_d.html#ac72d62d7197e7aa9e9554e05d422cb56">_n</a>[<a class="code" href="../../dc/db5/e__node_8h.html#a61dadd085c1777f559549e05962b2c9eaec3dec5acc8382e7fd1f6ea791599e9b">IN1</a>].m_() != <a class="code" href="../../dc/db5/e__node_8h.html#a61dadd085c1777f559549e05962b2c9ead64622f3076488654cd2253010c76c5c">INVALID_NODE</a>);
<a name="l00287"></a>00287     
<a name="l00288"></a>00288     <a class="code" href="../../d3/d22/class_c_k_t___b_a_s_e.html#aee1030ed5a99aecd285c8af3aa2b37ef">_sim</a>-&gt;<a class="code" href="../../d7/db5/struct_s_i_m___d_a_t_a.html#a10938d22ebf35192d869e533bbc0ea14">_aa</a>.<a class="code" href="../../da/dd1/class_b_s_m_a_t_r_i_x.html#a70fd98e2e723914cccf9765881e1783d">iwant</a>(<a class="code" href="../../dc/df7/class_c_a_r_d.html#ac72d62d7197e7aa9e9554e05d422cb56">_n</a>[<a class="code" href="../../dc/db5/e__node_8h.html#a61dadd085c1777f559549e05962b2c9ea65d5fdb550fca1555a39bc4ac486852b">OUT1</a>].m_(),<a class="code" href="../../dc/df7/class_c_a_r_d.html#ac72d62d7197e7aa9e9554e05d422cb56">_n</a>[<a class="code" href="../../dc/db5/e__node_8h.html#a61dadd085c1777f559549e05962b2c9eaec3dec5acc8382e7fd1f6ea791599e9b">IN1</a>].m_());
<a name="l00289"></a>00289     <a class="code" href="../../d3/d22/class_c_k_t___b_a_s_e.html#aee1030ed5a99aecd285c8af3aa2b37ef">_sim</a>-&gt;<a class="code" href="../../d7/db5/struct_s_i_m___d_a_t_a.html#a10938d22ebf35192d869e533bbc0ea14">_aa</a>.<a class="code" href="../../da/dd1/class_b_s_m_a_t_r_i_x.html#a70fd98e2e723914cccf9765881e1783d">iwant</a>(<a class="code" href="../../dc/df7/class_c_a_r_d.html#ac72d62d7197e7aa9e9554e05d422cb56">_n</a>[<a class="code" href="../../dc/db5/e__node_8h.html#a61dadd085c1777f559549e05962b2c9ea9d9779ee4b40afd700152873c283020e">OUT2</a>].m_(),<a class="code" href="../../dc/df7/class_c_a_r_d.html#ac72d62d7197e7aa9e9554e05d422cb56">_n</a>[<a class="code" href="../../dc/db5/e__node_8h.html#a61dadd085c1777f559549e05962b2c9eaec3dec5acc8382e7fd1f6ea791599e9b">IN1</a>].m_());
<a name="l00290"></a>00290     
<a name="l00291"></a>00291     <a class="code" href="../../d3/d22/class_c_k_t___b_a_s_e.html#aee1030ed5a99aecd285c8af3aa2b37ef">_sim</a>-&gt;<a class="code" href="../../d7/db5/struct_s_i_m___d_a_t_a.html#affc3f013a123ffa55c6ece63a044578b">_lu</a>.<a class="code" href="../../da/dd1/class_b_s_m_a_t_r_i_x.html#a70fd98e2e723914cccf9765881e1783d">iwant</a>(<a class="code" href="../../dc/df7/class_c_a_r_d.html#ac72d62d7197e7aa9e9554e05d422cb56">_n</a>[<a class="code" href="../../dc/db5/e__node_8h.html#a61dadd085c1777f559549e05962b2c9ea65d5fdb550fca1555a39bc4ac486852b">OUT1</a>].m_(),<a class="code" href="../../dc/df7/class_c_a_r_d.html#ac72d62d7197e7aa9e9554e05d422cb56">_n</a>[<a class="code" href="../../dc/db5/e__node_8h.html#a61dadd085c1777f559549e05962b2c9eaec3dec5acc8382e7fd1f6ea791599e9b">IN1</a>].m_());
<a name="l00292"></a>00292     <a class="code" href="../../d3/d22/class_c_k_t___b_a_s_e.html#aee1030ed5a99aecd285c8af3aa2b37ef">_sim</a>-&gt;<a class="code" href="../../d7/db5/struct_s_i_m___d_a_t_a.html#affc3f013a123ffa55c6ece63a044578b">_lu</a>.<a class="code" href="../../da/dd1/class_b_s_m_a_t_r_i_x.html#a70fd98e2e723914cccf9765881e1783d">iwant</a>(<a class="code" href="../../dc/df7/class_c_a_r_d.html#ac72d62d7197e7aa9e9554e05d422cb56">_n</a>[<a class="code" href="../../dc/db5/e__node_8h.html#a61dadd085c1777f559549e05962b2c9ea9d9779ee4b40afd700152873c283020e">OUT2</a>].m_(),<a class="code" href="../../dc/df7/class_c_a_r_d.html#ac72d62d7197e7aa9e9554e05d422cb56">_n</a>[<a class="code" href="../../dc/db5/e__node_8h.html#a61dadd085c1777f559549e05962b2c9eaec3dec5acc8382e7fd1f6ea791599e9b">IN1</a>].m_());
<a name="l00293"></a>00293   }
<a name="l00294"></a>00294 }
<a name="l00295"></a>00295 <span class="comment">/*--------------------------------------------------------------------------*/</span>
<a name="l00296"></a><a class="code" href="../../db/d59/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___i_n_d_u_c_t_a_n_c_e.html#a4f72cbad60bf2ef76e5fbceb0efec1eb">00296</a> <span class="keywordtype">void</span> <a class="code" href="../../db/d59/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___i_n_d_u_c_t_a_n_c_e.html#a4f72cbad60bf2ef76e5fbceb0efec1eb">DEV_INDUCTANCE::tr_begin</a>()
<a name="l00297"></a>00297 {
<a name="l00298"></a>00298   <a class="code" href="../../db/d59/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___i_n_d_u_c_t_a_n_c_e.html#a4f72cbad60bf2ef76e5fbceb0efec1eb">STORAGE::tr_begin</a>();
<a name="l00299"></a>00299   <a class="code" href="../../da/da7/class_e_l_e_m_e_n_t.html#a88a13f0461014a03e1c9b86ab97c5e05">_loss1</a> = <a class="code" href="../../da/da7/class_e_l_e_m_e_n_t.html#a52302ff3af3e0cdbe8b042930619f0f7">_loss0</a> = ((!<a class="code" href="../../db/d59/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___i_n_d_u_c_t_a_n_c_e.html#af5951650c2f637149b8131028e3c02b3">_c_model</a>) ? 0. : 1.);
<a name="l00300"></a>00300 }
<a name="l00301"></a>00301 <span class="comment">/*--------------------------------------------------------------------------*/</span>
<a name="l00302"></a><a class="code" href="../../da/d89/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___m_u_t_u_a_l___l.html#a091b71d56c7c3e6408c45f57ccbc187c">00302</a> <span class="keywordtype">void</span> <a class="code" href="../../da/d89/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___m_u_t_u_a_l___l.html#a091b71d56c7c3e6408c45f57ccbc187c">DEV_MUTUAL_L::tr_begin</a>()
<a name="l00303"></a>00303 {
<a name="l00304"></a>00304   <a class="code" href="../../da/d89/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___m_u_t_u_a_l___l.html#a091b71d56c7c3e6408c45f57ccbc187c">DEV_INDUCTANCE::tr_begin</a>();
<a name="l00305"></a>00305   assert(<a class="code" href="../../da/da7/class_e_l_e_m_e_n_t.html#a16e865ecb0b2b7ebda5fc18ddaf8f039">_y</a>[0].x  == 0.);
<a name="l00306"></a>00306   assert(<a class="code" href="../../da/da7/class_e_l_e_m_e_n_t.html#a16e865ecb0b2b7ebda5fc18ddaf8f039">_y</a>[0].f0 == <a class="code" href="../../dd/d17/constant_8h.html#ab1e03f8f0815028332897234e33a3bcf">LINEAR</a>);
<a name="l00307"></a>00307   <a class="code" href="../../da/da7/class_e_l_e_m_e_n_t.html#a16e865ecb0b2b7ebda5fc18ddaf8f039">_y</a>[0].<a class="code" href="../../db/d1c/struct_f_p_o_l_y1.html#a52909d5a5ec11f5cedb065da80786871">f1</a> = -<a class="code" href="../../da/d89/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___m_u_t_u_a_l___l.html#ad4c700503c8e6c6021ccebd66cce0c4c">_lm</a>; <span class="comment">// override</span>
<a name="l00308"></a>00308   <a class="code" href="../../da/da7/class_e_l_e_m_e_n_t.html#a1a4dc104692f5d925c8b5dc4d453e8c5">_y1</a> = <a class="code" href="../../da/da7/class_e_l_e_m_e_n_t.html#a16e865ecb0b2b7ebda5fc18ddaf8f039">_y</a>[0];
<a name="l00309"></a>00309 
<a name="l00310"></a>00310   <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0;  i &lt; <a class="code" href="../../de/d5e/class_o_p_t.html#a82b127c34339cc2dd6791e70110bbcc5aa35927b332a024d8e0667592044528d3">OPT::_keep_time_steps</a>;  ++i) {
<a name="l00311"></a>00311     <a class="code" href="../../da/d89/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___m_u_t_u_a_l___l.html#ab8e369d40a0ff46b449ed930150183d9">_if</a>[i] = <a class="code" href="../../da/d89/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___m_u_t_u_a_l___l.html#ae01fc326c0d3eb4b6f25cc56a406f1f8">_ir</a>[i] = <a class="code" href="../../db/d1c/struct_f_p_o_l_y1.html">FPOLY1</a>(0., 0., 0.);
<a name="l00312"></a>00312   }
<a name="l00313"></a>00313   <a class="code" href="../../da/d89/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___m_u_t_u_a_l___l.html#a9abd6a8bee19e56ef28ac2507f3efc3d">_mf1_c0</a> = <a class="code" href="../../da/d89/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___m_u_t_u_a_l___l.html#add3f84fdbdcd71805bdb9ec2e219ea31">_mf0_c0</a> = <a class="code" href="../../da/d89/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___m_u_t_u_a_l___l.html#aa2242a3e4e39f60aafa8c4085537df8a">_mr1_c0</a> = <a class="code" href="../../da/d89/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___m_u_t_u_a_l___l.html#a19e741438bd04a10210596a45123aaba">_mr0_c0</a> = 0.;
<a name="l00314"></a>00314 }
<a name="l00315"></a>00315 <span class="comment">/*--------------------------------------------------------------------------*/</span>
<a name="l00316"></a><a class="code" href="../../da/d89/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___m_u_t_u_a_l___l.html#a22e3de97785e07c57ae988ee6a18a9cd">00316</a> <span class="keywordtype">void</span> <a class="code" href="../../da/d89/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___m_u_t_u_a_l___l.html#a22e3de97785e07c57ae988ee6a18a9cd">DEV_MUTUAL_L::dc_advance</a>()
<a name="l00317"></a>00317 {
<a name="l00318"></a>00318   <a class="code" href="../../da/d89/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___m_u_t_u_a_l___l.html#a22e3de97785e07c57ae988ee6a18a9cd">STORAGE::dc_advance</a>();
<a name="l00319"></a>00319 
<a name="l00320"></a>00320   <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 1;  i &lt; <a class="code" href="../../de/d5e/class_o_p_t.html#a82b127c34339cc2dd6791e70110bbcc5aa35927b332a024d8e0667592044528d3">OPT::_keep_time_steps</a>;  ++i) {
<a name="l00321"></a>00321     <a class="code" href="../../da/d89/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___m_u_t_u_a_l___l.html#ab8e369d40a0ff46b449ed930150183d9">_if</a>[i] = <a class="code" href="../../da/d89/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___m_u_t_u_a_l___l.html#ab8e369d40a0ff46b449ed930150183d9">_if</a>[0];
<a name="l00322"></a>00322     <a class="code" href="../../da/d89/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___m_u_t_u_a_l___l.html#ae01fc326c0d3eb4b6f25cc56a406f1f8">_ir</a>[i] = <a class="code" href="../../da/d89/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___m_u_t_u_a_l___l.html#ae01fc326c0d3eb4b6f25cc56a406f1f8">_ir</a>[0];
<a name="l00323"></a>00323   }
<a name="l00324"></a>00324 }
<a name="l00325"></a>00325 <span class="comment">/*--------------------------------------------------------------------------*/</span>
<a name="l00326"></a><a class="code" href="../../da/d89/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___m_u_t_u_a_l___l.html#ab927ca1dbfde412c84d8d5cc5839c4e3">00326</a> <span class="keywordtype">void</span> <a class="code" href="../../da/d89/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___m_u_t_u_a_l___l.html#ab927ca1dbfde412c84d8d5cc5839c4e3">DEV_MUTUAL_L::tr_advance</a>()
<a name="l00327"></a>00327 {
<a name="l00328"></a>00328   <a class="code" href="../../da/d89/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___m_u_t_u_a_l___l.html#ab927ca1dbfde412c84d8d5cc5839c4e3">STORAGE::tr_advance</a>();
<a name="l00329"></a>00329   
<a name="l00330"></a>00330   <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=<a class="code" href="../../de/d5e/class_o_p_t.html#a82b127c34339cc2dd6791e70110bbcc5aa35927b332a024d8e0667592044528d3">OPT::_keep_time_steps</a>-1; i&gt;0; --i) {
<a name="l00331"></a>00331     <a class="code" href="../../da/d89/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___m_u_t_u_a_l___l.html#ac5d05a58039dd18f20a4abb174c6ba58">_yf</a>[i] = <a class="code" href="../../da/d89/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___m_u_t_u_a_l___l.html#ac5d05a58039dd18f20a4abb174c6ba58">_yf</a>[i-1];
<a name="l00332"></a>00332     <a class="code" href="../../da/d89/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___m_u_t_u_a_l___l.html#a4ef699b1d99c06565e9c66b5595dcb37">_yr</a>[i] = <a class="code" href="../../da/d89/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___m_u_t_u_a_l___l.html#a4ef699b1d99c06565e9c66b5595dcb37">_yr</a>[i-1];
<a name="l00333"></a>00333     <a class="code" href="../../da/d89/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___m_u_t_u_a_l___l.html#ab8e369d40a0ff46b449ed930150183d9">_if</a>[i] = <a class="code" href="../../da/d89/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___m_u_t_u_a_l___l.html#ab8e369d40a0ff46b449ed930150183d9">_if</a>[i-1];
<a name="l00334"></a>00334     <a class="code" href="../../da/d89/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___m_u_t_u_a_l___l.html#ae01fc326c0d3eb4b6f25cc56a406f1f8">_ir</a>[i] = <a class="code" href="../../da/d89/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___m_u_t_u_a_l___l.html#ae01fc326c0d3eb4b6f25cc56a406f1f8">_ir</a>[i-1];
<a name="l00335"></a>00335   }
<a name="l00336"></a>00336 }
<a name="l00337"></a>00337 <span class="comment">/*--------------------------------------------------------------------------*/</span>
<a name="l00338"></a><a class="code" href="../../db/d59/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___i_n_d_u_c_t_a_n_c_e.html#af3ef84e80be205a661ff9e896c50d1d1">00338</a> <span class="keywordtype">bool</span> <a class="code" href="../../db/d59/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___i_n_d_u_c_t_a_n_c_e.html#af3ef84e80be205a661ff9e896c50d1d1">DEV_INDUCTANCE::do_tr</a>()
<a name="l00339"></a>00339 {
<a name="l00340"></a>00340   <span class="keywordflow">if</span> (<a class="code" href="../../da/da7/class_e_l_e_m_e_n_t.html#af2c24b9d3b2ec24d8fb503c08ad27c22">using_tr_eval</a>()) {
<a name="l00341"></a>00341     <a class="code" href="../../da/da7/class_e_l_e_m_e_n_t.html#a16e865ecb0b2b7ebda5fc18ddaf8f039">_y</a>[0].<a class="code" href="../../db/d1c/struct_f_p_o_l_y1.html#a3d137efdec2eaddccfe7ae521a07e207">x</a> = <a class="code" href="../../db/d59/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___i_n_d_u_c_t_a_n_c_e.html#a27e26b36eb71b0b0affa5268322078cc">tr_input_limited</a>(); <span class="comment">// _m0.c0 + _m0.c1 * x;</span>
<a name="l00342"></a>00342     <a class="code" href="../../da/da7/class_e_l_e_m_e_n_t.html#a861b0c964e7a8a0b394e862d2df5f09f">tr_eval</a>();
<a name="l00343"></a>00343     <span class="keywordflow">if</span> ((!<a class="code" href="../../db/d59/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___i_n_d_u_c_t_a_n_c_e.html#af5951650c2f637149b8131028e3c02b3">_c_model</a>) &amp;&amp; (<a class="code" href="../../da/da7/class_e_l_e_m_e_n_t.html#a16e865ecb0b2b7ebda5fc18ddaf8f039">_y</a>[0].f1 == 0.)) {<a class="code" href="../../d6/dda/io__trace_8h.html#aa6032a13c5f0621c16055ada1b7f47ad">untested</a>();
<a name="l00344"></a>00344       <a class="code" href="../../d6/de9/io__error_8cc.html#a153585440ba2fdf0696b0085d19a4a7f">error</a>(bDANGER, <a class="code" href="../../dc/df7/class_c_a_r_d.html#a2b81b4c28056adc678b21ff34a756913">long_label</a>() + <span class="stringliteral">&quot;: short circuit,  L = 0\n&quot;</span>);
<a name="l00345"></a>00345       <a class="code" href="../../da/da7/class_e_l_e_m_e_n_t.html#a16e865ecb0b2b7ebda5fc18ddaf8f039">_y</a>[0].<a class="code" href="../../db/d1c/struct_f_p_o_l_y1.html#a52909d5a5ec11f5cedb065da80786871">f1</a> = <a class="code" href="../../de/d5e/class_o_p_t.html#a047b48d62cfb43ee0401cfe756c3f286">OPT::shortckt</a>;
<a name="l00346"></a>00346       <a class="code" href="../../d5/dce/class_c_o_m_p_o_n_e_n_t.html#a3c542d625e3ea40c3bfcc33fa30ae399">set_converged</a>(<a class="code" href="../../da/da7/class_e_l_e_m_e_n_t.html#a645b24d8766122ee58a4166749939ddb">conv_check</a>());
<a name="l00347"></a>00347     }<span class="keywordflow">else</span>{
<a name="l00348"></a>00348     }
<a name="l00349"></a>00349   }<span class="keywordflow">else</span>{
<a name="l00350"></a>00350     <a class="code" href="../../da/da7/class_e_l_e_m_e_n_t.html#a16e865ecb0b2b7ebda5fc18ddaf8f039">_y</a>[0].<a class="code" href="../../db/d1c/struct_f_p_o_l_y1.html#a3d137efdec2eaddccfe7ae521a07e207">x</a> = <a class="code" href="../../db/d59/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___i_n_d_u_c_t_a_n_c_e.html#a57cf25a1beeea95ade4dfd0c6faf486c">tr_input</a>(); <span class="comment">// _m0.c0 + _m0.c1 * x;</span>
<a name="l00351"></a>00351     assert(<a class="code" href="../../da/da7/class_e_l_e_m_e_n_t.html#a16e865ecb0b2b7ebda5fc18ddaf8f039">_y</a>[0].f1 == <a class="code" href="../../d5/dce/class_c_o_m_p_o_n_e_n_t.html#a47920ef7bbfaa40456af85808eb760b7">value</a>());
<a name="l00352"></a>00352     <a class="code" href="../../da/da7/class_e_l_e_m_e_n_t.html#a16e865ecb0b2b7ebda5fc18ddaf8f039">_y</a>[0].<a class="code" href="../../db/d1c/struct_f_p_o_l_y1.html#a13ac35bcce586ada10d600c4059c2eb0">f0</a> = <a class="code" href="../../da/da7/class_e_l_e_m_e_n_t.html#a16e865ecb0b2b7ebda5fc18ddaf8f039">_y</a>[0].<a class="code" href="../../db/d1c/struct_f_p_o_l_y1.html#a3d137efdec2eaddccfe7ae521a07e207">x</a> * <a class="code" href="../../da/da7/class_e_l_e_m_e_n_t.html#a16e865ecb0b2b7ebda5fc18ddaf8f039">_y</a>[0].<a class="code" href="../../db/d1c/struct_f_p_o_l_y1.html#a52909d5a5ec11f5cedb065da80786871">f1</a>;
<a name="l00353"></a>00353     assert(<a class="code" href="../../d5/dce/class_c_o_m_p_o_n_e_n_t.html#af859be575cd1949f32483d04399ab151">converged</a>());
<a name="l00354"></a>00354   }
<a name="l00355"></a>00355   <a class="code" href="../../da/da7/class_e_l_e_m_e_n_t.html#a9f2432c2428eaa4b7096b6e030fa3208">store_values</a>();
<a name="l00356"></a>00356   <a class="code" href="../../d5/dce/class_c_o_m_p_o_n_e_n_t.html#a50801460ff065351abb1412f4fb6490f">q_load</a>();
<a name="l00357"></a>00357   
<a name="l00358"></a>00358   <span class="comment">// i is really voltage ..</span>
<a name="l00359"></a>00359   <span class="comment">// _i[0].x = current, _i[0].f0 = voltage, _i[0].f1 = ohms</span>
<a name="l00360"></a>00360   <a class="code" href="../../d7/dd0/class_s_t_o_r_a_g_e.html#a3df0f01a63c6262cdfcc9b99654c9a43">_i</a>[0] = <a class="code" href="../../d0/dea/e__storag_8cc.html#a19c1c2ee101ca44ad951a943981b24ed">differentiate</a>(<a class="code" href="../../da/da7/class_e_l_e_m_e_n_t.html#a16e865ecb0b2b7ebda5fc18ddaf8f039">_y</a>, <a class="code" href="../../d7/dd0/class_s_t_o_r_a_g_e.html#a3df0f01a63c6262cdfcc9b99654c9a43">_i</a>, <a class="code" href="../../da/da7/class_e_l_e_m_e_n_t.html#a0509c6ec6bf384fbbeec3e0486158367">_time</a>, <a class="code" href="../../d7/dd0/class_s_t_o_r_a_g_e.html#ac5daaa521e6df93d51f54ade8744e61f">_method_a</a>);
<a name="l00361"></a>00361   
<a name="l00362"></a>00362   <span class="keywordflow">if</span> (!<a class="code" href="../../db/d59/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___i_n_d_u_c_t_a_n_c_e.html#af5951650c2f637149b8131028e3c02b3">_c_model</a>) {
<a name="l00363"></a>00363     <a class="code" href="../../da/da7/class_e_l_e_m_e_n_t.html#a99fee23b26db9b6689aecd1f8a92a536">_m0</a>.<a class="code" href="../../d8/d92/struct_c_p_o_l_y1.html#ad36eca567e82dd65f51a26895d797ed9">x</a> = <a class="code" href="../../dd/d17/constant_8h.html#a35c964936a92f1fbb6e91ccd7da5c4ae">NOT_VALID</a>;
<a name="l00364"></a>00364     <a class="code" href="../../da/da7/class_e_l_e_m_e_n_t.html#a99fee23b26db9b6689aecd1f8a92a536">_m0</a>.<a class="code" href="../../d8/d92/struct_c_p_o_l_y1.html#a60a093433e2791239d4c7b5294b3f560">c1</a> = 1 / ((<a class="code" href="../../d7/dd0/class_s_t_o_r_a_g_e.html#a3df0f01a63c6262cdfcc9b99654c9a43">_i</a>[0].<a class="code" href="../../db/d1c/struct_f_p_o_l_y1.html#a59a240634e78e1b8057d7662c2f1f68d">c1</a>()==0) ? <a class="code" href="../../de/d5e/class_o_p_t.html#a047b48d62cfb43ee0401cfe756c3f286">OPT::shortckt</a> : <a class="code" href="../../d7/dd0/class_s_t_o_r_a_g_e.html#a3df0f01a63c6262cdfcc9b99654c9a43">_i</a>[0].c1());
<a name="l00365"></a>00365     <a class="code" href="../../da/da7/class_e_l_e_m_e_n_t.html#a99fee23b26db9b6689aecd1f8a92a536">_m0</a>.<a class="code" href="../../d8/d92/struct_c_p_o_l_y1.html#a98d21a8be3372b27eb5f4b67718971c7">c0</a> = -<a class="code" href="../../d7/dd0/class_s_t_o_r_a_g_e.html#a3df0f01a63c6262cdfcc9b99654c9a43">_i</a>[0].<a class="code" href="../../db/d1c/struct_f_p_o_l_y1.html#a419b7582ad2fc248ac21bffc495410f5">c0</a>() * <a class="code" href="../../da/da7/class_e_l_e_m_e_n_t.html#a99fee23b26db9b6689aecd1f8a92a536">_m0</a>.<a class="code" href="../../d8/d92/struct_c_p_o_l_y1.html#a60a093433e2791239d4c7b5294b3f560">c1</a>;
<a name="l00366"></a>00366   }<span class="keywordflow">else</span>{
<a name="l00367"></a>00367     <span class="comment">//_m0 = -CPOLY1(_i[0]);</span>
<a name="l00368"></a>00368     <a class="code" href="../../da/da7/class_e_l_e_m_e_n_t.html#a99fee23b26db9b6689aecd1f8a92a536">_m0</a>.<a class="code" href="../../d8/d92/struct_c_p_o_l_y1.html#ad36eca567e82dd65f51a26895d797ed9">x</a> = <a class="code" href="../../dd/d17/constant_8h.html#a35c964936a92f1fbb6e91ccd7da5c4ae">NOT_VALID</a>;
<a name="l00369"></a>00369     <a class="code" href="../../da/da7/class_e_l_e_m_e_n_t.html#a99fee23b26db9b6689aecd1f8a92a536">_m0</a>.<a class="code" href="../../d8/d92/struct_c_p_o_l_y1.html#a60a093433e2791239d4c7b5294b3f560">c1</a> = -<a class="code" href="../../da/da7/class_e_l_e_m_e_n_t.html#a52302ff3af3e0cdbe8b042930619f0f7">_loss0</a> * <a class="code" href="../../da/da7/class_e_l_e_m_e_n_t.html#a52302ff3af3e0cdbe8b042930619f0f7">_loss0</a> * <a class="code" href="../../d7/dd0/class_s_t_o_r_a_g_e.html#a3df0f01a63c6262cdfcc9b99654c9a43">_i</a>[0].<a class="code" href="../../db/d1c/struct_f_p_o_l_y1.html#a59a240634e78e1b8057d7662c2f1f68d">c1</a>();
<a name="l00370"></a>00370     <a class="code" href="../../da/da7/class_e_l_e_m_e_n_t.html#a99fee23b26db9b6689aecd1f8a92a536">_m0</a>.<a class="code" href="../../d8/d92/struct_c_p_o_l_y1.html#a98d21a8be3372b27eb5f4b67718971c7">c0</a> =  <a class="code" href="../../da/da7/class_e_l_e_m_e_n_t.html#a52302ff3af3e0cdbe8b042930619f0f7">_loss0</a> * <a class="code" href="../../da/da7/class_e_l_e_m_e_n_t.html#a52302ff3af3e0cdbe8b042930619f0f7">_loss0</a> * <a class="code" href="../../d7/dd0/class_s_t_o_r_a_g_e.html#a3df0f01a63c6262cdfcc9b99654c9a43">_i</a>[0].<a class="code" href="../../db/d1c/struct_f_p_o_l_y1.html#a419b7582ad2fc248ac21bffc495410f5">c0</a>();
<a name="l00371"></a>00371   }
<a name="l00372"></a>00372 
<a name="l00373"></a>00373   <span class="keywordflow">return</span> <a class="code" href="../../d5/dce/class_c_o_m_p_o_n_e_n_t.html#af859be575cd1949f32483d04399ab151">converged</a>();
<a name="l00374"></a>00374 }
<a name="l00375"></a>00375 <span class="comment">/*--------------------------------------------------------------------------*/</span>
<a name="l00376"></a><a class="code" href="../../da/d89/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___m_u_t_u_a_l___l.html#a738987693a5dbe186cdd512f2dee9796">00376</a> <span class="keywordtype">bool</span> <a class="code" href="../../da/d89/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___m_u_t_u_a_l___l.html#a738987693a5dbe186cdd512f2dee9796">DEV_MUTUAL_L::do_tr_last</a>()
<a name="l00377"></a>00377 {
<a name="l00378"></a>00378   <span class="keywordtype">double</span> l1 = <a class="code" href="../../da/d89/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___m_u_t_u_a_l___l.html#addf8b4475c2161b95f7bb2ec85a72616">_output</a>-&gt;<a class="code" href="../../da/da7/class_e_l_e_m_e_n_t.html#a16e865ecb0b2b7ebda5fc18ddaf8f039">_y</a>[0].<a class="code" href="../../db/d1c/struct_f_p_o_l_y1.html#a52909d5a5ec11f5cedb065da80786871">f1</a>;
<a name="l00379"></a>00379   <span class="keywordtype">double</span> l2 = <a class="code" href="../../da/d89/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___m_u_t_u_a_l___l.html#a65ef817340da7460382005b9adde02b6">_input</a>-&gt;<a class="code" href="../../da/da7/class_e_l_e_m_e_n_t.html#a16e865ecb0b2b7ebda5fc18ddaf8f039">_y</a>[0].<a class="code" href="../../db/d1c/struct_f_p_o_l_y1.html#a52909d5a5ec11f5cedb065da80786871">f1</a>;
<a name="l00380"></a>00380   <a class="code" href="../../da/d89/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___m_u_t_u_a_l___l.html#ad4c700503c8e6c6021ccebd66cce0c4c">_lm</a> = <a class="code" href="../../d5/dce/class_c_o_m_p_o_n_e_n_t.html#a47920ef7bbfaa40456af85808eb760b7">value</a>() * sqrt(l1 * l2);
<a name="l00381"></a>00381 
<a name="l00382"></a>00382   <a class="code" href="../../da/da7/class_e_l_e_m_e_n_t.html#a16e865ecb0b2b7ebda5fc18ddaf8f039">_y</a>[0].<a class="code" href="../../db/d1c/struct_f_p_o_l_y1.html#a3d137efdec2eaddccfe7ae521a07e207">x</a> = <a class="code" href="../../dc/df7/class_c_a_r_d.html#ac72d62d7197e7aa9e9554e05d422cb56">_n</a>[<a class="code" href="../../dc/db5/e__node_8h.html#a61dadd085c1777f559549e05962b2c9ea65d5fdb550fca1555a39bc4ac486852b">OUT1</a>].<a class="code" href="../../d7/ded/classnode__t.html#a2af0828c33aaaf60bb76aed24a8431ff">v0</a>() - <a class="code" href="../../dc/df7/class_c_a_r_d.html#ac72d62d7197e7aa9e9554e05d422cb56">_n</a>[<a class="code" href="../../dc/db5/e__node_8h.html#a61dadd085c1777f559549e05962b2c9ea9d9779ee4b40afd700152873c283020e">OUT2</a>].<a class="code" href="../../d7/ded/classnode__t.html#a2af0828c33aaaf60bb76aed24a8431ff">v0</a>(); <span class="comment">// really current</span>
<a name="l00383"></a>00383   <a class="code" href="../../da/da7/class_e_l_e_m_e_n_t.html#a16e865ecb0b2b7ebda5fc18ddaf8f039">_y</a>[0].<a class="code" href="../../db/d1c/struct_f_p_o_l_y1.html#a52909d5a5ec11f5cedb065da80786871">f1</a> = -<a class="code" href="../../da/d89/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___m_u_t_u_a_l___l.html#ad4c700503c8e6c6021ccebd66cce0c4c">_lm</a>;
<a name="l00384"></a>00384   <a class="code" href="../../da/da7/class_e_l_e_m_e_n_t.html#a16e865ecb0b2b7ebda5fc18ddaf8f039">_y</a>[0].<a class="code" href="../../db/d1c/struct_f_p_o_l_y1.html#a13ac35bcce586ada10d600c4059c2eb0">f0</a> = <a class="code" href="../../da/da7/class_e_l_e_m_e_n_t.html#a16e865ecb0b2b7ebda5fc18ddaf8f039">_y</a>[0].<a class="code" href="../../db/d1c/struct_f_p_o_l_y1.html#a3d137efdec2eaddccfe7ae521a07e207">x</a> * <a class="code" href="../../da/da7/class_e_l_e_m_e_n_t.html#a16e865ecb0b2b7ebda5fc18ddaf8f039">_y</a>[0].<a class="code" href="../../db/d1c/struct_f_p_o_l_y1.html#a52909d5a5ec11f5cedb065da80786871">f1</a>;           <span class="comment">// flux = I * L</span>
<a name="l00385"></a>00385   <a class="code" href="../../d6/dda/io__trace_8h.html#a5e32551bf830489adee8befd40ed304d">trace3</a>(<span class="stringliteral">&quot;&quot;</span>, <a class="code" href="../../da/da7/class_e_l_e_m_e_n_t.html#a16e865ecb0b2b7ebda5fc18ddaf8f039">_y</a>[0].x, <a class="code" href="../../da/da7/class_e_l_e_m_e_n_t.html#a16e865ecb0b2b7ebda5fc18ddaf8f039">_y</a>[0].f0, <a class="code" href="../../da/da7/class_e_l_e_m_e_n_t.html#a16e865ecb0b2b7ebda5fc18ddaf8f039">_y</a>[0].f1);
<a name="l00386"></a>00386   <a class="code" href="../../da/da7/class_e_l_e_m_e_n_t.html#a9f2432c2428eaa4b7096b6e030fa3208">store_values</a>();
<a name="l00387"></a>00387   <a class="code" href="../../d7/dd0/class_s_t_o_r_a_g_e.html#a3df0f01a63c6262cdfcc9b99654c9a43">_i</a>[0] = <a class="code" href="../../d0/dea/e__storag_8cc.html#a19c1c2ee101ca44ad951a943981b24ed">differentiate</a>(<a class="code" href="../../da/da7/class_e_l_e_m_e_n_t.html#a16e865ecb0b2b7ebda5fc18ddaf8f039">_y</a>, <a class="code" href="../../d7/dd0/class_s_t_o_r_a_g_e.html#a3df0f01a63c6262cdfcc9b99654c9a43">_i</a>, <a class="code" href="../../da/da7/class_e_l_e_m_e_n_t.html#a0509c6ec6bf384fbbeec3e0486158367">_time</a>, <a class="code" href="../../d7/dd0/class_s_t_o_r_a_g_e.html#ac5daaa521e6df93d51f54ade8744e61f">_method_a</a>);  <span class="comment">// really voltage, v = df/dt</span>
<a name="l00388"></a>00388   <a class="code" href="../../d6/dda/io__trace_8h.html#a5e32551bf830489adee8befd40ed304d">trace3</a>(<span class="stringliteral">&quot;&quot;</span>, <a class="code" href="../../d7/dd0/class_s_t_o_r_a_g_e.html#a3df0f01a63c6262cdfcc9b99654c9a43">_i</a>[0].x, <a class="code" href="../../d7/dd0/class_s_t_o_r_a_g_e.html#a3df0f01a63c6262cdfcc9b99654c9a43">_i</a>[0].f0, <a class="code" href="../../d7/dd0/class_s_t_o_r_a_g_e.html#a3df0f01a63c6262cdfcc9b99654c9a43">_i</a>[0].f1);
<a name="l00389"></a>00389   <a class="code" href="../../da/da7/class_e_l_e_m_e_n_t.html#a99fee23b26db9b6689aecd1f8a92a536">_m0</a>.<a class="code" href="../../d8/d92/struct_c_p_o_l_y1.html#ad36eca567e82dd65f51a26895d797ed9">x</a> = <a class="code" href="../../dd/d17/constant_8h.html#a35c964936a92f1fbb6e91ccd7da5c4ae">NOT_VALID</a>;
<a name="l00390"></a>00390   <a class="code" href="../../da/da7/class_e_l_e_m_e_n_t.html#a99fee23b26db9b6689aecd1f8a92a536">_m0</a>.<a class="code" href="../../d8/d92/struct_c_p_o_l_y1.html#a60a093433e2791239d4c7b5294b3f560">c1</a> = -<a class="code" href="../../da/da7/class_e_l_e_m_e_n_t.html#a52302ff3af3e0cdbe8b042930619f0f7">_loss0</a> * <a class="code" href="../../da/da7/class_e_l_e_m_e_n_t.html#a52302ff3af3e0cdbe8b042930619f0f7">_loss0</a> * <a class="code" href="../../d7/dd0/class_s_t_o_r_a_g_e.html#a3df0f01a63c6262cdfcc9b99654c9a43">_i</a>[0].<a class="code" href="../../db/d1c/struct_f_p_o_l_y1.html#a59a240634e78e1b8057d7662c2f1f68d">c1</a>();
<a name="l00391"></a>00391   <a class="code" href="../../da/da7/class_e_l_e_m_e_n_t.html#a99fee23b26db9b6689aecd1f8a92a536">_m0</a>.<a class="code" href="../../d8/d92/struct_c_p_o_l_y1.html#a98d21a8be3372b27eb5f4b67718971c7">c0</a> = -<a class="code" href="../../da/da7/class_e_l_e_m_e_n_t.html#a52302ff3af3e0cdbe8b042930619f0f7">_loss0</a> * <a class="code" href="../../da/da7/class_e_l_e_m_e_n_t.html#a52302ff3af3e0cdbe8b042930619f0f7">_loss0</a> * <a class="code" href="../../d7/dd0/class_s_t_o_r_a_g_e.html#a3df0f01a63c6262cdfcc9b99654c9a43">_i</a>[0].<a class="code" href="../../db/d1c/struct_f_p_o_l_y1.html#a419b7582ad2fc248ac21bffc495410f5">c0</a>();
<a name="l00392"></a>00392   <a class="code" href="../../d6/dda/io__trace_8h.html#a5e32551bf830489adee8befd40ed304d">trace3</a>(<span class="stringliteral">&quot;&quot;</span>, <a class="code" href="../../da/da7/class_e_l_e_m_e_n_t.html#a99fee23b26db9b6689aecd1f8a92a536">_m0</a>.<a class="code" href="../../d8/d92/struct_c_p_o_l_y1.html#ad36eca567e82dd65f51a26895d797ed9">x</a>, <a class="code" href="../../da/da7/class_e_l_e_m_e_n_t.html#a99fee23b26db9b6689aecd1f8a92a536">_m0</a>.<a class="code" href="../../d8/d92/struct_c_p_o_l_y1.html#a98d21a8be3372b27eb5f4b67718971c7">c0</a>, <a class="code" href="../../da/da7/class_e_l_e_m_e_n_t.html#a99fee23b26db9b6689aecd1f8a92a536">_m0</a>.<a class="code" href="../../d8/d92/struct_c_p_o_l_y1.html#a60a093433e2791239d4c7b5294b3f560">c1</a>);
<a name="l00393"></a>00393 
<a name="l00394"></a>00394   <a class="code" href="../../da/d89/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___m_u_t_u_a_l___l.html#ac5d05a58039dd18f20a4abb174c6ba58">_yf</a>[0].<a class="code" href="../../db/d1c/struct_f_p_o_l_y1.html#a3d137efdec2eaddccfe7ae521a07e207">x</a> = <a class="code" href="../../dc/df7/class_c_a_r_d.html#ac72d62d7197e7aa9e9554e05d422cb56">_n</a>[<a class="code" href="../../dc/db5/e__node_8h.html#a61dadd085c1777f559549e05962b2c9ea65d5fdb550fca1555a39bc4ac486852b">OUT1</a>].<a class="code" href="../../d7/ded/classnode__t.html#a2af0828c33aaaf60bb76aed24a8431ff">v0</a>();
<a name="l00395"></a>00395   <a class="code" href="../../da/d89/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___m_u_t_u_a_l___l.html#ac5d05a58039dd18f20a4abb174c6ba58">_yf</a>[0].<a class="code" href="../../db/d1c/struct_f_p_o_l_y1.html#a52909d5a5ec11f5cedb065da80786871">f1</a> = -<a class="code" href="../../da/d89/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___m_u_t_u_a_l___l.html#ad4c700503c8e6c6021ccebd66cce0c4c">_lm</a>;
<a name="l00396"></a>00396   <a class="code" href="../../da/d89/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___m_u_t_u_a_l___l.html#ac5d05a58039dd18f20a4abb174c6ba58">_yf</a>[0].<a class="code" href="../../db/d1c/struct_f_p_o_l_y1.html#a13ac35bcce586ada10d600c4059c2eb0">f0</a> = <a class="code" href="../../da/d89/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___m_u_t_u_a_l___l.html#ac5d05a58039dd18f20a4abb174c6ba58">_yf</a>[0].<a class="code" href="../../db/d1c/struct_f_p_o_l_y1.html#a3d137efdec2eaddccfe7ae521a07e207">x</a> * <a class="code" href="../../da/d89/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___m_u_t_u_a_l___l.html#ac5d05a58039dd18f20a4abb174c6ba58">_yf</a>[0].<a class="code" href="../../db/d1c/struct_f_p_o_l_y1.html#a52909d5a5ec11f5cedb065da80786871">f1</a>;
<a name="l00397"></a>00397   <a class="code" href="../../d6/dda/io__trace_8h.html#a5e32551bf830489adee8befd40ed304d">trace3</a>(<span class="stringliteral">&quot;&quot;</span>, <a class="code" href="../../da/d89/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___m_u_t_u_a_l___l.html#ac5d05a58039dd18f20a4abb174c6ba58">_yf</a>[0].x, <a class="code" href="../../da/d89/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___m_u_t_u_a_l___l.html#ac5d05a58039dd18f20a4abb174c6ba58">_yf</a>[0].f0, <a class="code" href="../../da/d89/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___m_u_t_u_a_l___l.html#ac5d05a58039dd18f20a4abb174c6ba58">_yf</a>[0].f1);
<a name="l00398"></a>00398   assert(<a class="code" href="../../da/d89/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___m_u_t_u_a_l___l.html#ac5d05a58039dd18f20a4abb174c6ba58">_yf</a>[0]==<a class="code" href="../../da/d89/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___m_u_t_u_a_l___l.html#ac5d05a58039dd18f20a4abb174c6ba58">_yf</a>[0]); <span class="comment">// store_values();</span>
<a name="l00399"></a>00399   <a class="code" href="../../da/d89/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___m_u_t_u_a_l___l.html#a344d8dcf7b1f2a58b464cdf3e8647201">_yf1</a>=<a class="code" href="../../da/d89/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___m_u_t_u_a_l___l.html#ac5d05a58039dd18f20a4abb174c6ba58">_yf</a>[0];            <span class="comment">// store_values();</span>
<a name="l00400"></a>00400   <a class="code" href="../../da/d89/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___m_u_t_u_a_l___l.html#ab8e369d40a0ff46b449ed930150183d9">_if</a>[0] = <a class="code" href="../../d0/dea/e__storag_8cc.html#a19c1c2ee101ca44ad951a943981b24ed">differentiate</a>(<a class="code" href="../../da/d89/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___m_u_t_u_a_l___l.html#ac5d05a58039dd18f20a4abb174c6ba58">_yf</a>, <a class="code" href="../../da/d89/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___m_u_t_u_a_l___l.html#ab8e369d40a0ff46b449ed930150183d9">_if</a>, <a class="code" href="../../da/da7/class_e_l_e_m_e_n_t.html#a0509c6ec6bf384fbbeec3e0486158367">_time</a>, <a class="code" href="../../d7/dd0/class_s_t_o_r_a_g_e.html#ac5daaa521e6df93d51f54ade8744e61f">_method_a</a>);
<a name="l00401"></a>00401   <a class="code" href="../../d6/dda/io__trace_8h.html#a5e32551bf830489adee8befd40ed304d">trace3</a>(<span class="stringliteral">&quot;&quot;</span>, <a class="code" href="../../da/d89/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___m_u_t_u_a_l___l.html#ab8e369d40a0ff46b449ed930150183d9">_if</a>[0].x, <a class="code" href="../../da/d89/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___m_u_t_u_a_l___l.html#ab8e369d40a0ff46b449ed930150183d9">_if</a>[0].f0, <a class="code" href="../../da/d89/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___m_u_t_u_a_l___l.html#ab8e369d40a0ff46b449ed930150183d9">_if</a>[0].f1);
<a name="l00402"></a>00402   <a class="code" href="../../da/d89/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___m_u_t_u_a_l___l.html#add3f84fdbdcd71805bdb9ec2e219ea31">_mf0_c0</a> = -<a class="code" href="../../da/da7/class_e_l_e_m_e_n_t.html#a52302ff3af3e0cdbe8b042930619f0f7">_loss0</a> * <a class="code" href="../../da/da7/class_e_l_e_m_e_n_t.html#a52302ff3af3e0cdbe8b042930619f0f7">_loss0</a> * <a class="code" href="../../da/d89/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___m_u_t_u_a_l___l.html#ab8e369d40a0ff46b449ed930150183d9">_if</a>[0].<a class="code" href="../../db/d1c/struct_f_p_o_l_y1.html#a419b7582ad2fc248ac21bffc495410f5">c0</a>();
<a name="l00403"></a>00403   
<a name="l00404"></a>00404   <a class="code" href="../../da/d89/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___m_u_t_u_a_l___l.html#a4ef699b1d99c06565e9c66b5595dcb37">_yr</a>[0].<a class="code" href="../../db/d1c/struct_f_p_o_l_y1.html#a3d137efdec2eaddccfe7ae521a07e207">x</a> = <a class="code" href="../../dc/df7/class_c_a_r_d.html#ac72d62d7197e7aa9e9554e05d422cb56">_n</a>[<a class="code" href="../../dc/db5/e__node_8h.html#a61dadd085c1777f559549e05962b2c9ea9d9779ee4b40afd700152873c283020e">OUT2</a>].<a class="code" href="../../d7/ded/classnode__t.html#a2af0828c33aaaf60bb76aed24a8431ff">v0</a>();
<a name="l00405"></a>00405   <a class="code" href="../../da/d89/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___m_u_t_u_a_l___l.html#a4ef699b1d99c06565e9c66b5595dcb37">_yr</a>[0].<a class="code" href="../../db/d1c/struct_f_p_o_l_y1.html#a52909d5a5ec11f5cedb065da80786871">f1</a> = -<a class="code" href="../../da/d89/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___m_u_t_u_a_l___l.html#ad4c700503c8e6c6021ccebd66cce0c4c">_lm</a>;
<a name="l00406"></a>00406   <a class="code" href="../../da/d89/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___m_u_t_u_a_l___l.html#a4ef699b1d99c06565e9c66b5595dcb37">_yr</a>[0].<a class="code" href="../../db/d1c/struct_f_p_o_l_y1.html#a13ac35bcce586ada10d600c4059c2eb0">f0</a> = <a class="code" href="../../da/d89/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___m_u_t_u_a_l___l.html#a4ef699b1d99c06565e9c66b5595dcb37">_yr</a>[0].<a class="code" href="../../db/d1c/struct_f_p_o_l_y1.html#a3d137efdec2eaddccfe7ae521a07e207">x</a> * <a class="code" href="../../da/d89/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___m_u_t_u_a_l___l.html#a4ef699b1d99c06565e9c66b5595dcb37">_yr</a>[0].<a class="code" href="../../db/d1c/struct_f_p_o_l_y1.html#a52909d5a5ec11f5cedb065da80786871">f1</a>;
<a name="l00407"></a>00407   <a class="code" href="../../d6/dda/io__trace_8h.html#a5e32551bf830489adee8befd40ed304d">trace3</a>(<span class="stringliteral">&quot;&quot;</span>, <a class="code" href="../../da/d89/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___m_u_t_u_a_l___l.html#a4ef699b1d99c06565e9c66b5595dcb37">_yr</a>[0].x, <a class="code" href="../../da/d89/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___m_u_t_u_a_l___l.html#a4ef699b1d99c06565e9c66b5595dcb37">_yr</a>[0].f0, <a class="code" href="../../da/d89/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___m_u_t_u_a_l___l.html#a4ef699b1d99c06565e9c66b5595dcb37">_yr</a>[0].f1);
<a name="l00408"></a>00408   assert(<a class="code" href="../../da/d89/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___m_u_t_u_a_l___l.html#a4ef699b1d99c06565e9c66b5595dcb37">_yr</a>[0]==<a class="code" href="../../da/d89/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___m_u_t_u_a_l___l.html#a4ef699b1d99c06565e9c66b5595dcb37">_yr</a>[0]); <span class="comment">// store_values();</span>
<a name="l00409"></a>00409   <a class="code" href="../../da/d89/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___m_u_t_u_a_l___l.html#ae46c17157bd2f3b7a029d59b3f9e20f9">_yr1</a>=<a class="code" href="../../da/d89/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___m_u_t_u_a_l___l.html#a4ef699b1d99c06565e9c66b5595dcb37">_yr</a>[0];            <span class="comment">// store_values();</span>
<a name="l00410"></a>00410   <a class="code" href="../../da/d89/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___m_u_t_u_a_l___l.html#ae01fc326c0d3eb4b6f25cc56a406f1f8">_ir</a>[0] = <a class="code" href="../../d0/dea/e__storag_8cc.html#a19c1c2ee101ca44ad951a943981b24ed">differentiate</a>(<a class="code" href="../../da/d89/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___m_u_t_u_a_l___l.html#a4ef699b1d99c06565e9c66b5595dcb37">_yr</a>, <a class="code" href="../../da/d89/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___m_u_t_u_a_l___l.html#ae01fc326c0d3eb4b6f25cc56a406f1f8">_ir</a>, <a class="code" href="../../da/da7/class_e_l_e_m_e_n_t.html#a0509c6ec6bf384fbbeec3e0486158367">_time</a>, <a class="code" href="../../d7/dd0/class_s_t_o_r_a_g_e.html#ac5daaa521e6df93d51f54ade8744e61f">_method_a</a>);
<a name="l00411"></a>00411   <a class="code" href="../../d6/dda/io__trace_8h.html#a5e32551bf830489adee8befd40ed304d">trace3</a>(<span class="stringliteral">&quot;&quot;</span>, <a class="code" href="../../da/d89/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___m_u_t_u_a_l___l.html#ae01fc326c0d3eb4b6f25cc56a406f1f8">_ir</a>[0].x, <a class="code" href="../../da/d89/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___m_u_t_u_a_l___l.html#ae01fc326c0d3eb4b6f25cc56a406f1f8">_ir</a>[0].f0, <a class="code" href="../../da/d89/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___m_u_t_u_a_l___l.html#ae01fc326c0d3eb4b6f25cc56a406f1f8">_ir</a>[0].f1);
<a name="l00412"></a>00412   <a class="code" href="../../da/d89/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___m_u_t_u_a_l___l.html#a19e741438bd04a10210596a45123aaba">_mr0_c0</a> = -<a class="code" href="../../da/da7/class_e_l_e_m_e_n_t.html#a52302ff3af3e0cdbe8b042930619f0f7">_loss0</a> * <a class="code" href="../../da/da7/class_e_l_e_m_e_n_t.html#a52302ff3af3e0cdbe8b042930619f0f7">_loss0</a> * <a class="code" href="../../da/d89/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___m_u_t_u_a_l___l.html#ae01fc326c0d3eb4b6f25cc56a406f1f8">_ir</a>[0].<a class="code" href="../../db/d1c/struct_f_p_o_l_y1.html#a419b7582ad2fc248ac21bffc495410f5">c0</a>();
<a name="l00413"></a>00413 
<a name="l00414"></a>00414   <a class="code" href="../../d5/dce/class_c_o_m_p_o_n_e_n_t.html#a50801460ff065351abb1412f4fb6490f">q_load</a>();
<a name="l00415"></a>00415   <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l00416"></a>00416 }
<a name="l00417"></a>00417 <span class="comment">/*--------------------------------------------------------------------------*/</span>
<a name="l00418"></a><a class="code" href="../../db/d59/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___i_n_d_u_c_t_a_n_c_e.html#a22534162284f4d167f4b3067b76bf13c">00418</a> <span class="keywordtype">void</span> <a class="code" href="../../db/d59/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___i_n_d_u_c_t_a_n_c_e.html#a22534162284f4d167f4b3067b76bf13c">DEV_INDUCTANCE::tr_load</a>()
<a name="l00419"></a>00419 {
<a name="l00420"></a>00420   <span class="keywordflow">if</span> (!<a class="code" href="../../db/d59/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___i_n_d_u_c_t_a_n_c_e.html#af5951650c2f637149b8131028e3c02b3">_c_model</a>) {
<a name="l00421"></a>00421     <a class="code" href="../../da/da7/class_e_l_e_m_e_n_t.html#a95f5b8175803560382f732086d20dd68">tr_load_passive</a>();
<a name="l00422"></a>00422   }<span class="keywordflow">else</span>{
<a name="l00423"></a>00423     <a class="code" href="../../da/da7/class_e_l_e_m_e_n_t.html#a9f86a3f8d5d174a95c7ad33547f6d04c">tr_load_inode</a>();
<a name="l00424"></a>00424     <a class="code" href="../../da/da7/class_e_l_e_m_e_n_t.html#a4e3d50178da179a353cc44ca9a05b503">tr_load_diagonal_point</a>(<a class="code" href="../../dc/df7/class_c_a_r_d.html#ac72d62d7197e7aa9e9554e05d422cb56">_n</a>[<a class="code" href="../../dc/db5/e__node_8h.html#a61dadd085c1777f559549e05962b2c9eaec3dec5acc8382e7fd1f6ea791599e9b">IN1</a>], &amp;<a class="code" href="../../da/da7/class_e_l_e_m_e_n_t.html#a99fee23b26db9b6689aecd1f8a92a536">_m0</a>.<a class="code" href="../../d8/d92/struct_c_p_o_l_y1.html#a60a093433e2791239d4c7b5294b3f560">c1</a>, &amp;<a class="code" href="../../da/da7/class_e_l_e_m_e_n_t.html#a8d4e9d758cd2fbe12228caba628ab9e8">_m1</a>.<a class="code" href="../../d8/d92/struct_c_p_o_l_y1.html#a60a093433e2791239d4c7b5294b3f560">c1</a>);
<a name="l00425"></a>00425     <a class="code" href="../../da/da7/class_e_l_e_m_e_n_t.html#a5586fa3206fc7a6de22b7c775173d25c">tr_load_source_point</a>(<a class="code" href="../../dc/df7/class_c_a_r_d.html#ac72d62d7197e7aa9e9554e05d422cb56">_n</a>[IN1], &amp;<a class="code" href="../../da/da7/class_e_l_e_m_e_n_t.html#a99fee23b26db9b6689aecd1f8a92a536">_m0</a>.<a class="code" href="../../d8/d92/struct_c_p_o_l_y1.html#a98d21a8be3372b27eb5f4b67718971c7">c0</a>, &amp;<a class="code" href="../../da/da7/class_e_l_e_m_e_n_t.html#a8d4e9d758cd2fbe12228caba628ab9e8">_m1</a>.<a class="code" href="../../d8/d92/struct_c_p_o_l_y1.html#a98d21a8be3372b27eb5f4b67718971c7">c0</a>);
<a name="l00426"></a>00426   }
<a name="l00427"></a>00427 }
<a name="l00428"></a>00428 <span class="comment">/*--------------------------------------------------------------------------*/</span>
<a name="l00429"></a><a class="code" href="../../da/d89/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___m_u_t_u_a_l___l.html#a1e33dc6c04cca0fc36fece1536e969c0">00429</a> <span class="keywordtype">void</span> <a class="code" href="../../da/d89/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___m_u_t_u_a_l___l.html#a1e33dc6c04cca0fc36fece1536e969c0">DEV_MUTUAL_L::tr_load</a>()
<a name="l00430"></a>00430 {
<a name="l00431"></a>00431   <a class="code" href="../../da/da7/class_e_l_e_m_e_n_t.html#a8d3f5e9f34db86cf4c2e536a01d73df3">tr_load_couple</a>();
<a name="l00432"></a>00432   <a class="code" href="../../da/da7/class_e_l_e_m_e_n_t.html#add30a2a76b2cbd5b434ba534bbcc7538">tr_load_source</a>();
<a name="l00433"></a>00433   <a class="code" href="../../da/da7/class_e_l_e_m_e_n_t.html#a5586fa3206fc7a6de22b7c775173d25c">tr_load_source_point</a>(<a class="code" href="../../dc/df7/class_c_a_r_d.html#ac72d62d7197e7aa9e9554e05d422cb56">_n</a>[<a class="code" href="../../dc/db5/e__node_8h.html#a61dadd085c1777f559549e05962b2c9ea9d9779ee4b40afd700152873c283020e">OUT2</a>], &amp;<a class="code" href="../../da/d89/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___m_u_t_u_a_l___l.html#a19e741438bd04a10210596a45123aaba">_mr0_c0</a>, &amp;<a class="code" href="../../da/d89/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___m_u_t_u_a_l___l.html#aa2242a3e4e39f60aafa8c4085537df8a">_mr1_c0</a>);
<a name="l00434"></a>00434   <a class="code" href="../../da/da7/class_e_l_e_m_e_n_t.html#a5586fa3206fc7a6de22b7c775173d25c">tr_load_source_point</a>(<a class="code" href="../../dc/df7/class_c_a_r_d.html#ac72d62d7197e7aa9e9554e05d422cb56">_n</a>[<a class="code" href="../../dc/db5/e__node_8h.html#a61dadd085c1777f559549e05962b2c9ea65d5fdb550fca1555a39bc4ac486852b">OUT1</a>], &amp;<a class="code" href="../../da/d89/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___m_u_t_u_a_l___l.html#add3f84fdbdcd71805bdb9ec2e219ea31">_mf0_c0</a>, &amp;<a class="code" href="../../da/d89/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___m_u_t_u_a_l___l.html#a9abd6a8bee19e56ef28ac2507f3efc3d">_mf1_c0</a>);
<a name="l00435"></a>00435 }
<a name="l00436"></a>00436 <span class="comment">/*--------------------------------------------------------------------------*/</span>
<a name="l00437"></a><a class="code" href="../../db/d59/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___i_n_d_u_c_t_a_n_c_e.html#a8b05e54bdc20a98089928da75a3d1228">00437</a> <span class="keywordtype">void</span> <a class="code" href="../../db/d59/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___i_n_d_u_c_t_a_n_c_e.html#a8b05e54bdc20a98089928da75a3d1228">DEV_INDUCTANCE::tr_unload</a>()
<a name="l00438"></a>00438 {<a class="code" href="../../d6/dda/io__trace_8h.html#aa6032a13c5f0621c16055ada1b7f47ad">untested</a>();
<a name="l00439"></a>00439   <a class="code" href="../../da/da7/class_e_l_e_m_e_n_t.html#a52302ff3af3e0cdbe8b042930619f0f7">_loss0</a> = <a class="code" href="../../da/da7/class_e_l_e_m_e_n_t.html#a99fee23b26db9b6689aecd1f8a92a536">_m0</a>.<a class="code" href="../../d8/d92/struct_c_p_o_l_y1.html#a98d21a8be3372b27eb5f4b67718971c7">c0</a> = <a class="code" href="../../da/da7/class_e_l_e_m_e_n_t.html#a99fee23b26db9b6689aecd1f8a92a536">_m0</a>.<a class="code" href="../../d8/d92/struct_c_p_o_l_y1.html#a60a093433e2791239d4c7b5294b3f560">c1</a> = 0.;
<a name="l00440"></a>00440   <a class="code" href="../../d3/d22/class_c_k_t___b_a_s_e.html#aee1030ed5a99aecd285c8af3aa2b37ef">_sim</a>-&gt;<a class="code" href="../../d7/db5/struct_s_i_m___d_a_t_a.html#ab81d5d0de022e91e416567b6641757a5">mark_inc_mode_bad</a>();
<a name="l00441"></a>00441   <a class="code" href="../../db/d59/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___i_n_d_u_c_t_a_n_c_e.html#a22534162284f4d167f4b3067b76bf13c">tr_load</a>();
<a name="l00442"></a>00442 }
<a name="l00443"></a>00443 <span class="comment">/*--------------------------------------------------------------------------*/</span>
<a name="l00444"></a><a class="code" href="../../da/d89/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___m_u_t_u_a_l___l.html#a08cdac62cc974dbdc18d2bb9db61ce3a">00444</a> <span class="keywordtype">void</span> <a class="code" href="../../da/d89/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___m_u_t_u_a_l___l.html#a08cdac62cc974dbdc18d2bb9db61ce3a">DEV_MUTUAL_L::tr_unload</a>()
<a name="l00445"></a>00445 {<a class="code" href="../../d6/dda/io__trace_8h.html#aa6032a13c5f0621c16055ada1b7f47ad">untested</a>();
<a name="l00446"></a>00446   <a class="code" href="../../da/da7/class_e_l_e_m_e_n_t.html#abc0a104bd36c901dd86a51ef3f915389">tr_unload_couple</a>();
<a name="l00447"></a>00447 }
<a name="l00448"></a>00448 <span class="comment">/*--------------------------------------------------------------------------*/</span>
<a name="l00449"></a><a class="code" href="../../db/d59/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___i_n_d_u_c_t_a_n_c_e.html#a57cf25a1beeea95ade4dfd0c6faf486c">00449</a> <span class="keywordtype">double</span> <a class="code" href="../../db/d59/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___i_n_d_u_c_t_a_n_c_e.html#a57cf25a1beeea95ade4dfd0c6faf486c">DEV_INDUCTANCE::tr_input</a>()<span class="keyword">const</span>
<a name="l00450"></a>00450 <span class="keyword"></span>{
<a name="l00451"></a>00451   <span class="keywordflow">if</span> (!<a class="code" href="../../db/d59/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___i_n_d_u_c_t_a_n_c_e.html#af5951650c2f637149b8131028e3c02b3">_c_model</a>) {
<a name="l00452"></a>00452     <span class="keywordflow">return</span> <a class="code" href="../../da/da7/class_e_l_e_m_e_n_t.html#a99fee23b26db9b6689aecd1f8a92a536">_m0</a>.<a class="code" href="../../d8/d92/struct_c_p_o_l_y1.html#a98d21a8be3372b27eb5f4b67718971c7">c0</a> + <a class="code" href="../../da/da7/class_e_l_e_m_e_n_t.html#a99fee23b26db9b6689aecd1f8a92a536">_m0</a>.<a class="code" href="../../d8/d92/struct_c_p_o_l_y1.html#a60a093433e2791239d4c7b5294b3f560">c1</a> * <a class="code" href="../../db/d59/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___i_n_d_u_c_t_a_n_c_e.html#ab86e7733a5886461bc4da02c61985374">tr_involts</a>();
<a name="l00453"></a>00453   }<span class="keywordflow">else</span>{
<a name="l00454"></a>00454     <span class="keywordflow">return</span> <a class="code" href="../../dc/df7/class_c_a_r_d.html#ac72d62d7197e7aa9e9554e05d422cb56">_n</a>[<a class="code" href="../../dc/db5/e__node_8h.html#a61dadd085c1777f559549e05962b2c9eaec3dec5acc8382e7fd1f6ea791599e9b">IN1</a>].<a class="code" href="../../d7/ded/classnode__t.html#a2af0828c33aaaf60bb76aed24a8431ff">v0</a>();
<a name="l00455"></a>00455   }
<a name="l00456"></a>00456 }
<a name="l00457"></a>00457 <span class="comment">/*--------------------------------------------------------------------------*/</span>
<a name="l00458"></a><a class="code" href="../../db/d59/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___i_n_d_u_c_t_a_n_c_e.html#a27e26b36eb71b0b0affa5268322078cc">00458</a> <span class="keywordtype">double</span> <a class="code" href="../../db/d59/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___i_n_d_u_c_t_a_n_c_e.html#a27e26b36eb71b0b0affa5268322078cc">DEV_INDUCTANCE::tr_input_limited</a>()<span class="keyword">const</span>
<a name="l00459"></a>00459 <span class="keyword"></span>{
<a name="l00460"></a>00460   <span class="keywordflow">if</span> (!<a class="code" href="../../db/d59/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___i_n_d_u_c_t_a_n_c_e.html#af5951650c2f637149b8131028e3c02b3">_c_model</a>) {
<a name="l00461"></a>00461     <span class="keywordflow">return</span> <a class="code" href="../../da/da7/class_e_l_e_m_e_n_t.html#a99fee23b26db9b6689aecd1f8a92a536">_m0</a>.<a class="code" href="../../d8/d92/struct_c_p_o_l_y1.html#a98d21a8be3372b27eb5f4b67718971c7">c0</a> + <a class="code" href="../../da/da7/class_e_l_e_m_e_n_t.html#a99fee23b26db9b6689aecd1f8a92a536">_m0</a>.<a class="code" href="../../d8/d92/struct_c_p_o_l_y1.html#a60a093433e2791239d4c7b5294b3f560">c1</a> * <a class="code" href="../../db/d59/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___i_n_d_u_c_t_a_n_c_e.html#a8c9a3a43423b011cc31d785f6747a453">tr_involts_limited</a>();
<a name="l00462"></a>00462   }<span class="keywordflow">else</span>{
<a name="l00463"></a>00463     <span class="keywordflow">return</span> <a class="code" href="../../dc/df7/class_c_a_r_d.html#ac72d62d7197e7aa9e9554e05d422cb56">_n</a>[<a class="code" href="../../dc/db5/e__node_8h.html#a61dadd085c1777f559549e05962b2c9eaec3dec5acc8382e7fd1f6ea791599e9b">IN1</a>].<a class="code" href="../../d7/ded/classnode__t.html#a2af0828c33aaaf60bb76aed24a8431ff">v0</a>();
<a name="l00464"></a>00464   }
<a name="l00465"></a>00465 }
<a name="l00466"></a>00466 <span class="comment">/*--------------------------------------------------------------------------*/</span>
<a name="l00467"></a><a class="code" href="../../db/d59/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___i_n_d_u_c_t_a_n_c_e.html#ae43c0d85cc067cea151af21f302331c4">00467</a> <span class="keywordtype">double</span> <a class="code" href="../../db/d59/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___i_n_d_u_c_t_a_n_c_e.html#ae43c0d85cc067cea151af21f302331c4">DEV_INDUCTANCE::tr_amps</a>()<span class="keyword">const</span>
<a name="l00468"></a>00468 <span class="keyword"></span>{
<a name="l00469"></a>00469   <span class="keywordflow">if</span> (!<a class="code" href="../../db/d59/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___i_n_d_u_c_t_a_n_c_e.html#af5951650c2f637149b8131028e3c02b3">_c_model</a>) {
<a name="l00470"></a>00470     <span class="keywordflow">return</span> <a class="code" href="../../d7/d5d/l__denoise_8h.html#a3d07867189a4983422644d4cff07b31f">fixzero</a>((<a class="code" href="../../da/da7/class_e_l_e_m_e_n_t.html#a99fee23b26db9b6689aecd1f8a92a536">_m0</a>.<a class="code" href="../../d8/d92/struct_c_p_o_l_y1.html#a60a093433e2791239d4c7b5294b3f560">c1</a> * <a class="code" href="../../db/d59/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___i_n_d_u_c_t_a_n_c_e.html#ab86e7733a5886461bc4da02c61985374">tr_involts</a>() + <a class="code" href="../../da/da7/class_e_l_e_m_e_n_t.html#a99fee23b26db9b6689aecd1f8a92a536">_m0</a>.<a class="code" href="../../d8/d92/struct_c_p_o_l_y1.html#a98d21a8be3372b27eb5f4b67718971c7">c0</a>), <a class="code" href="../../da/da7/class_e_l_e_m_e_n_t.html#a99fee23b26db9b6689aecd1f8a92a536">_m0</a>.<a class="code" href="../../d8/d92/struct_c_p_o_l_y1.html#a98d21a8be3372b27eb5f4b67718971c7">c0</a>);
<a name="l00471"></a>00471   }<span class="keywordflow">else</span>{
<a name="l00472"></a>00472     <span class="keywordflow">return</span> <a class="code" href="../../da/da7/class_e_l_e_m_e_n_t.html#a52302ff3af3e0cdbe8b042930619f0f7">_loss0</a> * <a class="code" href="../../dc/df7/class_c_a_r_d.html#ac72d62d7197e7aa9e9554e05d422cb56">_n</a>[<a class="code" href="../../dc/db5/e__node_8h.html#a61dadd085c1777f559549e05962b2c9eaec3dec5acc8382e7fd1f6ea791599e9b">IN1</a>].<a class="code" href="../../d7/ded/classnode__t.html#a2af0828c33aaaf60bb76aed24a8431ff">v0</a>();
<a name="l00473"></a>00473   }
<a name="l00474"></a>00474 }
<a name="l00475"></a>00475 <span class="comment">/*--------------------------------------------------------------------------*/</span>
<a name="l00476"></a><a class="code" href="../../db/d59/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___i_n_d_u_c_t_a_n_c_e.html#ac13d3925089cd60078399f247d6ec183">00476</a> <span class="keywordtype">void</span> <a class="code" href="../../db/d59/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___i_n_d_u_c_t_a_n_c_e.html#ac13d3925089cd60078399f247d6ec183">DEV_INDUCTANCE::ac_iwant_matrix</a>()
<a name="l00477"></a>00477 {
<a name="l00478"></a>00478   <span class="keywordflow">if</span> (!<a class="code" href="../../db/d59/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___i_n_d_u_c_t_a_n_c_e.html#af5951650c2f637149b8131028e3c02b3">_c_model</a>) {
<a name="l00479"></a>00479     <a class="code" href="../../da/da7/class_e_l_e_m_e_n_t.html#a69891b10dafb744aedc94bdafb4d6491">ac_iwant_matrix_passive</a>();
<a name="l00480"></a>00480   }<span class="keywordflow">else</span>{
<a name="l00481"></a>00481     assert(<a class="code" href="../../db/d59/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___i_n_d_u_c_t_a_n_c_e.html#adb5e74243b094a35c500a3c776dbce62">matrix_nodes</a>() == 3);
<a name="l00482"></a>00482     
<a name="l00483"></a>00483     assert(<a class="code" href="../../dc/df7/class_c_a_r_d.html#ac72d62d7197e7aa9e9554e05d422cb56">_n</a>[<a class="code" href="../../dc/db5/e__node_8h.html#a61dadd085c1777f559549e05962b2c9ea65d5fdb550fca1555a39bc4ac486852b">OUT1</a>].m_() != <a class="code" href="../../dc/db5/e__node_8h.html#a61dadd085c1777f559549e05962b2c9ead64622f3076488654cd2253010c76c5c">INVALID_NODE</a>);
<a name="l00484"></a>00484     assert(<a class="code" href="../../dc/df7/class_c_a_r_d.html#ac72d62d7197e7aa9e9554e05d422cb56">_n</a>[<a class="code" href="../../dc/db5/e__node_8h.html#a61dadd085c1777f559549e05962b2c9ea9d9779ee4b40afd700152873c283020e">OUT2</a>].m_() != <a class="code" href="../../dc/db5/e__node_8h.html#a61dadd085c1777f559549e05962b2c9ead64622f3076488654cd2253010c76c5c">INVALID_NODE</a>);
<a name="l00485"></a>00485     assert(<a class="code" href="../../dc/df7/class_c_a_r_d.html#ac72d62d7197e7aa9e9554e05d422cb56">_n</a>[<a class="code" href="../../dc/db5/e__node_8h.html#a61dadd085c1777f559549e05962b2c9eaec3dec5acc8382e7fd1f6ea791599e9b">IN1</a>].m_() != <a class="code" href="../../dc/db5/e__node_8h.html#a61dadd085c1777f559549e05962b2c9ead64622f3076488654cd2253010c76c5c">INVALID_NODE</a>);
<a name="l00486"></a>00486     
<a name="l00487"></a>00487     <a class="code" href="../../d3/d22/class_c_k_t___b_a_s_e.html#aee1030ed5a99aecd285c8af3aa2b37ef">_sim</a>-&gt;<a class="code" href="../../d7/db5/struct_s_i_m___d_a_t_a.html#a64a99a5896c085369253d1d15c2f4c6c">_acx</a>.<a class="code" href="../../da/dd1/class_b_s_m_a_t_r_i_x.html#a70fd98e2e723914cccf9765881e1783d">iwant</a>(<a class="code" href="../../dc/df7/class_c_a_r_d.html#ac72d62d7197e7aa9e9554e05d422cb56">_n</a>[<a class="code" href="../../dc/db5/e__node_8h.html#a61dadd085c1777f559549e05962b2c9ea65d5fdb550fca1555a39bc4ac486852b">OUT1</a>].m_(),<a class="code" href="../../dc/df7/class_c_a_r_d.html#ac72d62d7197e7aa9e9554e05d422cb56">_n</a>[<a class="code" href="../../dc/db5/e__node_8h.html#a61dadd085c1777f559549e05962b2c9eaec3dec5acc8382e7fd1f6ea791599e9b">IN1</a>].m_());
<a name="l00488"></a>00488     <a class="code" href="../../d3/d22/class_c_k_t___b_a_s_e.html#aee1030ed5a99aecd285c8af3aa2b37ef">_sim</a>-&gt;<a class="code" href="../../d7/db5/struct_s_i_m___d_a_t_a.html#a64a99a5896c085369253d1d15c2f4c6c">_acx</a>.<a class="code" href="../../da/dd1/class_b_s_m_a_t_r_i_x.html#a70fd98e2e723914cccf9765881e1783d">iwant</a>(<a class="code" href="../../dc/df7/class_c_a_r_d.html#ac72d62d7197e7aa9e9554e05d422cb56">_n</a>[<a class="code" href="../../dc/db5/e__node_8h.html#a61dadd085c1777f559549e05962b2c9ea9d9779ee4b40afd700152873c283020e">OUT2</a>].m_(),<a class="code" href="../../dc/df7/class_c_a_r_d.html#ac72d62d7197e7aa9e9554e05d422cb56">_n</a>[<a class="code" href="../../dc/db5/e__node_8h.html#a61dadd085c1777f559549e05962b2c9eaec3dec5acc8382e7fd1f6ea791599e9b">IN1</a>].m_());
<a name="l00489"></a>00489   }
<a name="l00490"></a>00490 }
<a name="l00491"></a>00491 <span class="comment">/*--------------------------------------------------------------------------*/</span>
<a name="l00492"></a><a class="code" href="../../db/d59/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___i_n_d_u_c_t_a_n_c_e.html#aedef1d3ba1816d8c852256a71b2355b6">00492</a> <span class="keywordtype">void</span> <a class="code" href="../../db/d59/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___i_n_d_u_c_t_a_n_c_e.html#aedef1d3ba1816d8c852256a71b2355b6">DEV_INDUCTANCE::do_ac</a>()
<a name="l00493"></a>00493 {
<a name="l00494"></a>00494   <span class="keywordflow">if</span> (<a class="code" href="../../da/da7/class_e_l_e_m_e_n_t.html#a519c4cbc52d678bee69f03c04e346a1c">using_ac_eval</a>()) {
<a name="l00495"></a>00495     <a class="code" href="../../da/da7/class_e_l_e_m_e_n_t.html#a013d2fa567a0ede442b4b868b73b8115">ac_eval</a>();
<a name="l00496"></a>00496   }<span class="keywordflow">else</span>{
<a name="l00497"></a>00497     assert(<a class="code" href="../../da/da7/class_e_l_e_m_e_n_t.html#afdf5e133f186354fc505220e18ab6736">_ev</a> == <a class="code" href="../../da/da7/class_e_l_e_m_e_n_t.html#a16e865ecb0b2b7ebda5fc18ddaf8f039">_y</a>[0].f1);
<a name="l00498"></a>00498     assert(dynamic_cast&lt;DEV_MUTUAL_L*&gt;(<span class="keyword">this</span>) || <a class="code" href="../../da/da7/class_e_l_e_m_e_n_t.html#a5822512158ea31c9b6e50413243f8074">has_tr_eval</a>() || <a class="code" href="../../da/da7/class_e_l_e_m_e_n_t.html#afdf5e133f186354fc505220e18ab6736">_ev</a> == <span class="keywordtype">double</span>(<a class="code" href="../../d5/dce/class_c_o_m_p_o_n_e_n_t.html#a47920ef7bbfaa40456af85808eb760b7">value</a>()));
<a name="l00499"></a>00499   }
<a name="l00500"></a>00500   <span class="keywordflow">if</span> (!<a class="code" href="../../db/d59/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___i_n_d_u_c_t_a_n_c_e.html#af5951650c2f637149b8131028e3c02b3">_c_model</a>) {
<a name="l00501"></a>00501     <span class="keywordflow">if</span> (<a class="code" href="../../da/da7/class_e_l_e_m_e_n_t.html#afdf5e133f186354fc505220e18ab6736">_ev</a> * <a class="code" href="../../d3/d22/class_c_k_t___b_a_s_e.html#aee1030ed5a99aecd285c8af3aa2b37ef">_sim</a>-&gt;<a class="code" href="../../d7/db5/struct_s_i_m___d_a_t_a.html#aa4e1b881efcb4ae59c1cb142f14e8a5c">_jomega</a> == 0.) {<a class="code" href="../../d6/dda/io__trace_8h.html#aa6032a13c5f0621c16055ada1b7f47ad">untested</a>();
<a name="l00502"></a>00502       <a class="code" href="../../da/da7/class_e_l_e_m_e_n_t.html#a0d6bacd96a5c1f2cb557aafb59d1e7a8">_acg</a> = 1. / <a class="code" href="../../de/d5e/class_o_p_t.html#a047b48d62cfb43ee0401cfe756c3f286">OPT::shortckt</a>;
<a name="l00503"></a>00503     }<span class="keywordflow">else</span>{
<a name="l00504"></a>00504       <a class="code" href="../../da/da7/class_e_l_e_m_e_n_t.html#a0d6bacd96a5c1f2cb557aafb59d1e7a8">_acg</a> = 1. / (<a class="code" href="../../da/da7/class_e_l_e_m_e_n_t.html#afdf5e133f186354fc505220e18ab6736">_ev</a> * <a class="code" href="../../d3/d22/class_c_k_t___b_a_s_e.html#aee1030ed5a99aecd285c8af3aa2b37ef">_sim</a>-&gt;<a class="code" href="../../d7/db5/struct_s_i_m___d_a_t_a.html#aa4e1b881efcb4ae59c1cb142f14e8a5c">_jomega</a>);
<a name="l00505"></a>00505     }
<a name="l00506"></a>00506   }<span class="keywordflow">else</span>{
<a name="l00507"></a>00507     <a class="code" href="../../da/da7/class_e_l_e_m_e_n_t.html#a0d6bacd96a5c1f2cb557aafb59d1e7a8">_acg</a> =  -<a class="code" href="../../da/da7/class_e_l_e_m_e_n_t.html#a52302ff3af3e0cdbe8b042930619f0f7">_loss0</a> * <a class="code" href="../../da/da7/class_e_l_e_m_e_n_t.html#a52302ff3af3e0cdbe8b042930619f0f7">_loss0</a> * <a class="code" href="../../da/da7/class_e_l_e_m_e_n_t.html#afdf5e133f186354fc505220e18ab6736">_ev</a> * <a class="code" href="../../d3/d22/class_c_k_t___b_a_s_e.html#aee1030ed5a99aecd285c8af3aa2b37ef">_sim</a>-&gt;<a class="code" href="../../d7/db5/struct_s_i_m___d_a_t_a.html#aa4e1b881efcb4ae59c1cb142f14e8a5c">_jomega</a>;
<a name="l00508"></a>00508   }
<a name="l00509"></a>00509 }
<a name="l00510"></a>00510 <span class="comment">/*--------------------------------------------------------------------------*/</span>
<a name="l00511"></a><a class="code" href="../../db/d59/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___i_n_d_u_c_t_a_n_c_e.html#a185602d165c089b4016397e6a62957de">00511</a> <span class="keywordtype">void</span> <a class="code" href="../../db/d59/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___i_n_d_u_c_t_a_n_c_e.html#a185602d165c089b4016397e6a62957de">DEV_INDUCTANCE::ac_load</a>()
<a name="l00512"></a>00512 {
<a name="l00513"></a>00513   <span class="keywordflow">if</span> (!<a class="code" href="../../db/d59/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___i_n_d_u_c_t_a_n_c_e.html#af5951650c2f637149b8131028e3c02b3">_c_model</a>) {
<a name="l00514"></a>00514     <a class="code" href="../../da/da7/class_e_l_e_m_e_n_t.html#aeca8f58882d9efd68d21f4efb46c47e1">ac_load_passive</a>();
<a name="l00515"></a>00515   }<span class="keywordflow">else</span>{
<a name="l00516"></a>00516     <a class="code" href="../../da/da7/class_e_l_e_m_e_n_t.html#ab302ed25b7b44bd2f71943fa9706e627">ac_load_inode</a>();
<a name="l00517"></a>00517     <a class="code" href="../../da/da7/class_e_l_e_m_e_n_t.html#aa424736c1be2c5c447c4423b320a8a4d">ac_load_diagonal_point</a>(<a class="code" href="../../dc/df7/class_c_a_r_d.html#ac72d62d7197e7aa9e9554e05d422cb56">_n</a>[<a class="code" href="../../dc/db5/e__node_8h.html#a61dadd085c1777f559549e05962b2c9eaec3dec5acc8382e7fd1f6ea791599e9b">IN1</a>], <a class="code" href="../../da/da7/class_e_l_e_m_e_n_t.html#a0d6bacd96a5c1f2cb557aafb59d1e7a8">_acg</a>);
<a name="l00518"></a>00518   }
<a name="l00519"></a>00519 }
<a name="l00520"></a>00520 <span class="comment">/*--------------------------------------------------------------------------*/</span>
<a name="l00521"></a><a class="code" href="../../da/d89/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___m_u_t_u_a_l___l.html#a342a17fa812322b8a102e115c920b2b6">00521</a> <span class="keywordtype">void</span> <a class="code" href="../../da/d89/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___m_u_t_u_a_l___l.html#a342a17fa812322b8a102e115c920b2b6">DEV_MUTUAL_L::ac_load</a>()
<a name="l00522"></a>00522 {
<a name="l00523"></a>00523   <a class="code" href="../../da/da7/class_e_l_e_m_e_n_t.html#a2c185483fb7b021add68effb4b17eed5">ac_load_couple</a>();
<a name="l00524"></a>00524 }
<a name="l00525"></a>00525 <span class="comment">/*--------------------------------------------------------------------------*/</span>
<a name="l00526"></a><a class="code" href="../../db/d59/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___i_n_d_u_c_t_a_n_c_e.html#a39cd6e55a4c66051099042360ee29d92">00526</a> <a class="code" href="../../d8/dbf/md_8h.html#aeb7a51d53eae6b506572efff8dc8204d">COMPLEX</a> <a class="code" href="../../db/d59/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___i_n_d_u_c_t_a_n_c_e.html#a39cd6e55a4c66051099042360ee29d92">DEV_INDUCTANCE::ac_amps</a>()<span class="keyword">const</span>
<a name="l00527"></a>00527 <span class="keyword"></span>{
<a name="l00528"></a>00528   <span class="keywordflow">if</span> (!<a class="code" href="../../db/d59/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___i_n_d_u_c_t_a_n_c_e.html#af5951650c2f637149b8131028e3c02b3">_c_model</a>) {
<a name="l00529"></a>00529     <span class="keywordflow">return</span> (<a class="code" href="../../db/d59/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___i_n_d_u_c_t_a_n_c_e.html#aff76325ee8a83747f385d526963b1601">ac_involts</a>() * <a class="code" href="../../da/da7/class_e_l_e_m_e_n_t.html#a0d6bacd96a5c1f2cb557aafb59d1e7a8">_acg</a>);
<a name="l00530"></a>00530   }<span class="keywordflow">else</span>{
<a name="l00531"></a>00531     <span class="keywordflow">return</span>  <a class="code" href="../../da/da7/class_e_l_e_m_e_n_t.html#a52302ff3af3e0cdbe8b042930619f0f7">_loss0</a> * <a class="code" href="../../dc/df7/class_c_a_r_d.html#ac72d62d7197e7aa9e9554e05d422cb56">_n</a>[<a class="code" href="../../dc/db5/e__node_8h.html#a61dadd085c1777f559549e05962b2c9eaec3dec5acc8382e7fd1f6ea791599e9b">IN1</a>].<a class="code" href="../../d7/ded/classnode__t.html#a56f05ed41b80976c13b5e85562fd2f16">vac</a>();
<a name="l00532"></a>00532   }
<a name="l00533"></a>00533 }
<a name="l00534"></a>00534 <span class="comment">/*--------------------------------------------------------------------------*/</span>
<a name="l00535"></a><a class="code" href="../../db/d59/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___i_n_d_u_c_t_a_n_c_e.html#acef75c7800dcd37e709a060699adf67c">00535</a> <span class="keywordtype">double</span> <a class="code" href="../../db/d59/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___i_n_d_u_c_t_a_n_c_e.html#acef75c7800dcd37e709a060699adf67c">DEV_INDUCTANCE::tr_probe_num</a>(<span class="keyword">const</span> std::string&amp; x)<span class="keyword">const</span>
<a name="l00536"></a>00536 <span class="keyword"></span>{
<a name="l00537"></a>00537   <span class="keywordflow">if</span> (<a class="code" href="../../dd/dfe/l__lib_8h.html#a8e8977e5f176127f0217507d3b196fe3">Umatch</a>(x, <span class="stringliteral">&quot;flux &quot;</span>)) {<a class="code" href="../../d6/dda/io__trace_8h.html#aa6032a13c5f0621c16055ada1b7f47ad">untested</a>();
<a name="l00538"></a>00538     <span class="keywordflow">return</span> <a class="code" href="../../da/da7/class_e_l_e_m_e_n_t.html#a16e865ecb0b2b7ebda5fc18ddaf8f039">_y</a>[0].<a class="code" href="../../db/d1c/struct_f_p_o_l_y1.html#a13ac35bcce586ada10d600c4059c2eb0">f0</a>;
<a name="l00539"></a>00539   }<span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="../../dd/dfe/l__lib_8h.html#a8e8977e5f176127f0217507d3b196fe3">Umatch</a>(x, <span class="stringliteral">&quot;ind{uctance} |l &quot;</span>)) {<a class="code" href="../../d6/dda/io__trace_8h.html#aa6032a13c5f0621c16055ada1b7f47ad">untested</a>();
<a name="l00540"></a>00540     <span class="keywordflow">return</span> <a class="code" href="../../da/da7/class_e_l_e_m_e_n_t.html#a16e865ecb0b2b7ebda5fc18ddaf8f039">_y</a>[0].<a class="code" href="../../db/d1c/struct_f_p_o_l_y1.html#a52909d5a5ec11f5cedb065da80786871">f1</a>;
<a name="l00541"></a>00541   }<span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="../../dd/dfe/l__lib_8h.html#a8e8977e5f176127f0217507d3b196fe3">Umatch</a>(x, <span class="stringliteral">&quot;dldt &quot;</span>)) {<a class="code" href="../../d6/dda/io__trace_8h.html#aa6032a13c5f0621c16055ada1b7f47ad">untested</a>();
<a name="l00542"></a>00542     <span class="keywordflow">return</span> (<a class="code" href="../../da/da7/class_e_l_e_m_e_n_t.html#a16e865ecb0b2b7ebda5fc18ddaf8f039">_y</a>[0].f1 - <a class="code" href="../../da/da7/class_e_l_e_m_e_n_t.html#a16e865ecb0b2b7ebda5fc18ddaf8f039">_y</a>[1].f1) / <a class="code" href="../../da/da7/class_e_l_e_m_e_n_t.html#a3df0b29bb151b2e13bd31b228bb2763b">_dt</a>;
<a name="l00543"></a>00543   }<span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="../../dd/dfe/l__lib_8h.html#a8e8977e5f176127f0217507d3b196fe3">Umatch</a>(x, <span class="stringliteral">&quot;dl &quot;</span>)) {<a class="code" href="../../d6/dda/io__trace_8h.html#aa6032a13c5f0621c16055ada1b7f47ad">untested</a>();
<a name="l00544"></a>00544     <span class="keywordflow">return</span> (<a class="code" href="../../da/da7/class_e_l_e_m_e_n_t.html#a16e865ecb0b2b7ebda5fc18ddaf8f039">_y</a>[0].f1 - <a class="code" href="../../da/da7/class_e_l_e_m_e_n_t.html#a16e865ecb0b2b7ebda5fc18ddaf8f039">_y</a>[1].f1);
<a name="l00545"></a>00545   }<span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="../../dd/dfe/l__lib_8h.html#a8e8977e5f176127f0217507d3b196fe3">Umatch</a>(x, <span class="stringliteral">&quot;dfdt &quot;</span>)) {<a class="code" href="../../d6/dda/io__trace_8h.html#aa6032a13c5f0621c16055ada1b7f47ad">untested</a>();
<a name="l00546"></a>00546     <span class="keywordflow">return</span> (<a class="code" href="../../da/da7/class_e_l_e_m_e_n_t.html#a16e865ecb0b2b7ebda5fc18ddaf8f039">_y</a>[0].f0 - <a class="code" href="../../da/da7/class_e_l_e_m_e_n_t.html#a16e865ecb0b2b7ebda5fc18ddaf8f039">_y</a>[1].f0) / <a class="code" href="../../da/da7/class_e_l_e_m_e_n_t.html#a3df0b29bb151b2e13bd31b228bb2763b">_dt</a>;
<a name="l00547"></a>00547   }<span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="../../dd/dfe/l__lib_8h.html#a8e8977e5f176127f0217507d3b196fe3">Umatch</a>(x, <span class="stringliteral">&quot;dflux &quot;</span>)) {<a class="code" href="../../d6/dda/io__trace_8h.html#aa6032a13c5f0621c16055ada1b7f47ad">untested</a>();
<a name="l00548"></a>00548     <span class="keywordflow">return</span> (<a class="code" href="../../da/da7/class_e_l_e_m_e_n_t.html#a16e865ecb0b2b7ebda5fc18ddaf8f039">_y</a>[0].f0 - <a class="code" href="../../da/da7/class_e_l_e_m_e_n_t.html#a16e865ecb0b2b7ebda5fc18ddaf8f039">_y</a>[1].f0);
<a name="l00549"></a>00549   }<span class="keywordflow">else</span>{
<a name="l00550"></a>00550     <span class="keywordflow">return</span> <a class="code" href="../../db/d59/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___i_n_d_u_c_t_a_n_c_e.html#acef75c7800dcd37e709a060699adf67c">STORAGE::tr_probe_num</a>(x);
<a name="l00551"></a>00551   }
<a name="l00552"></a>00552 }
<a name="l00553"></a>00553 <span class="comment">/*--------------------------------------------------------------------------*/</span>
<a name="l00554"></a><a class="code" href="../../da/d89/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___m_u_t_u_a_l___l.html#a1cc427b0c60ba6977d16fb84b0f3fe8f">00554</a> <span class="keywordtype">double</span> <a class="code" href="../../da/d89/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___m_u_t_u_a_l___l.html#a1cc427b0c60ba6977d16fb84b0f3fe8f">DEV_MUTUAL_L::tr_probe_num</a>(<span class="keyword">const</span> std::string&amp; x)<span class="keyword">const</span>
<a name="l00555"></a>00555 <span class="keyword"></span>{<a class="code" href="../../d6/dda/io__trace_8h.html#aa6032a13c5f0621c16055ada1b7f47ad">untested</a>();
<a name="l00556"></a>00556   <span class="keywordflow">if</span> (<a class="code" href="../../dd/dfe/l__lib_8h.html#a8e8977e5f176127f0217507d3b196fe3">Umatch</a>(x, <span class="stringliteral">&quot;fflux &quot;</span>)) {<a class="code" href="../../d6/dda/io__trace_8h.html#aa6032a13c5f0621c16055ada1b7f47ad">untested</a>();
<a name="l00557"></a>00557     <span class="keywordflow">return</span> <a class="code" href="../../da/d89/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___m_u_t_u_a_l___l.html#ac5d05a58039dd18f20a4abb174c6ba58">_yf</a>[0].<a class="code" href="../../db/d1c/struct_f_p_o_l_y1.html#a13ac35bcce586ada10d600c4059c2eb0">f0</a>;
<a name="l00558"></a>00558   }<span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="../../dd/dfe/l__lib_8h.html#a8e8977e5f176127f0217507d3b196fe3">Umatch</a>(x, <span class="stringliteral">&quot;rflux &quot;</span>)) {<a class="code" href="../../d6/dda/io__trace_8h.html#aa6032a13c5f0621c16055ada1b7f47ad">untested</a>();
<a name="l00559"></a>00559     <span class="keywordflow">return</span> <a class="code" href="../../da/d89/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___m_u_t_u_a_l___l.html#a4ef699b1d99c06565e9c66b5595dcb37">_yr</a>[0].<a class="code" href="../../db/d1c/struct_f_p_o_l_y1.html#a13ac35bcce586ada10d600c4059c2eb0">f0</a>;
<a name="l00560"></a>00560   }<span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="../../dd/dfe/l__lib_8h.html#a8e8977e5f176127f0217507d3b196fe3">Umatch</a>(x, <span class="stringliteral">&quot;fiof{fset} &quot;</span>)) {<a class="code" href="../../d6/dda/io__trace_8h.html#aa6032a13c5f0621c16055ada1b7f47ad">untested</a>();
<a name="l00561"></a>00561     <span class="keywordflow">return</span> <a class="code" href="../../da/d89/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___m_u_t_u_a_l___l.html#add3f84fdbdcd71805bdb9ec2e219ea31">_mf0_c0</a>;
<a name="l00562"></a>00562   }<span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="../../dd/dfe/l__lib_8h.html#a8e8977e5f176127f0217507d3b196fe3">Umatch</a>(x, <span class="stringliteral">&quot;riof{fset} &quot;</span>)) {<a class="code" href="../../d6/dda/io__trace_8h.html#aa6032a13c5f0621c16055ada1b7f47ad">untested</a>();
<a name="l00563"></a>00563     <span class="keywordflow">return</span> <a class="code" href="../../da/d89/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___m_u_t_u_a_l___l.html#a19e741438bd04a10210596a45123aaba">_mr0_c0</a>;
<a name="l00564"></a>00564   }<span class="keywordflow">else</span>{<a class="code" href="../../d6/dda/io__trace_8h.html#aa6032a13c5f0621c16055ada1b7f47ad">untested</a>();
<a name="l00565"></a>00565     <span class="keywordflow">return</span> <a class="code" href="../../da/d89/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___m_u_t_u_a_l___l.html#a1cc427b0c60ba6977d16fb84b0f3fe8f">DEV_INDUCTANCE::tr_probe_num</a>(x);
<a name="l00566"></a>00566   }
<a name="l00567"></a>00567 }
<a name="l00568"></a>00568 <span class="comment">/*--------------------------------------------------------------------------*/</span>
<a name="l00569"></a>00569 <span class="comment">/*--------------------------------------------------------------------------*/</span>
<a name="l00570"></a><a class="code" href="../../d8/d92/namespaceanonymous__namespace_02d__coil_8cc_03.html#ab6b8ddc7585a86dc21110f8e6f6ebc2b">00570</a> <a class="code" href="../../da/d89/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___m_u_t_u_a_l___l.html">DEV_MUTUAL_L</a>   <a class="code" href="../../d8/d92/namespaceanonymous__namespace_02d__coil_8cc_03.html#ab6b8ddc7585a86dc21110f8e6f6ebc2b">p1</a>;
<a name="l00571"></a><a class="code" href="../../d8/d92/namespaceanonymous__namespace_02d__coil_8cc_03.html#a07be6deade13f3b4a2a4018ff9e00ced">00571</a> <a class="code" href="../../db/d59/classanonymous__namespace_02d__coil_8cc_03_1_1_d_e_v___i_n_d_u_c_t_a_n_c_e.html">DEV_INDUCTANCE</a> <a class="code" href="../../d8/d92/namespaceanonymous__namespace_02d__coil_8cc_03.html#a07be6deade13f3b4a2a4018ff9e00ced">p2</a>;
<a name="l00572"></a>00572 <a class="code" href="../../da/dc7/class_d_i_s_p_a_t_c_h_e_r_1_1_i_n_s_t_a_l_l.html">DISPATCHER&lt;CARD&gt;::INSTALL</a>
<a name="l00573"></a><a class="code" href="../../d8/d92/namespaceanonymous__namespace_02d__coil_8cc_03.html#ac3be95439ace737c3f8158cdf1da3208">00573</a>   d1(&amp;<a class="code" href="../../d8/d92/namespaceanonymous__namespace_02d__coil_8cc_03.html#ac3be95439ace737c3f8158cdf1da3208">device_dispatcher</a>, <span class="stringliteral">&quot;K|mutual_inductor&quot;</span>, &amp;p1),
<a name="l00574"></a>00574   d2(&amp;<a class="code" href="../../d8/d92/namespaceanonymous__namespace_02d__coil_8cc_03.html#ac3be95439ace737c3f8158cdf1da3208">device_dispatcher</a>, <span class="stringliteral">&quot;L|inductor&quot;</span>,        &amp;p2);
<a name="l00575"></a>00575 }
<a name="l00576"></a>00576 <span class="comment">/*--------------------------------------------------------------------------*/</span>
<a name="l00577"></a>00577 <span class="comment">/*--------------------------------------------------------------------------*/</span>
</pre></div></div><!-- contents -->


<hr class="footer"/><address class="footer"><small>
Generated on Wed Jun 13 2012 06:55:42 for gnucap by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="../../doxygen.png" alt="doxygen"/>
</a> 1.7.6.1
</small></address>

</body>
</html>
