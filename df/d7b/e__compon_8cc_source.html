<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>gnucap: savant/gnucap/src/e_compon.cc Source File</title>

<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />



</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">gnucap
   
   </div>
   
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.6.1 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="../../index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="../../namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="../../annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="../../files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="../../files.html"><span>File&#160;List</span></a></li>
      <li><a href="../../globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="headertitle">
<div class="title">savant/gnucap/src/e_compon.cc</div>  </div>
</div><!--header-->
<div class="contents">
<a href="../../df/d7b/e__compon_8cc.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="comment">/*$Id: e_compon.cc,v 26.133 2009/11/26 04:58:04 al Exp $ -*- C++ -*-</span>
<a name="l00002"></a>00002 <span class="comment"> * Copyright (C) 2001 Albert Davis</span>
<a name="l00003"></a>00003 <span class="comment"> * Author: Albert Davis &lt;aldavis@gnu.org&gt;</span>
<a name="l00004"></a>00004 <span class="comment"> *</span>
<a name="l00005"></a>00005 <span class="comment"> * This file is part of &quot;Gnucap&quot;, the Gnu Circuit Analysis Package</span>
<a name="l00006"></a>00006 <span class="comment"> *</span>
<a name="l00007"></a>00007 <span class="comment"> * This program is free software; you can redistribute it and/or modify</span>
<a name="l00008"></a>00008 <span class="comment"> * it under the terms of the GNU General Public License as published by</span>
<a name="l00009"></a>00009 <span class="comment"> * the Free Software Foundation; either version 3, or (at your option)</span>
<a name="l00010"></a>00010 <span class="comment"> * any later version.</span>
<a name="l00011"></a>00011 <span class="comment"> *</span>
<a name="l00012"></a>00012 <span class="comment"> * This program is distributed in the hope that it will be useful,</span>
<a name="l00013"></a>00013 <span class="comment"> * but WITHOUT ANY WARRANTY; without even the implied warranty of</span>
<a name="l00014"></a>00014 <span class="comment"> * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</span>
<a name="l00015"></a>00015 <span class="comment"> * GNU General Public License for more details.</span>
<a name="l00016"></a>00016 <span class="comment"> *</span>
<a name="l00017"></a>00017 <span class="comment"> * You should have received a copy of the GNU General Public License</span>
<a name="l00018"></a>00018 <span class="comment"> * along with this program; if not, write to the Free Software</span>
<a name="l00019"></a>00019 <span class="comment"> * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA</span>
<a name="l00020"></a>00020 <span class="comment"> * 02110-1301, USA.</span>
<a name="l00021"></a>00021 <span class="comment"> *------------------------------------------------------------------</span>
<a name="l00022"></a>00022 <span class="comment"> * Base class for elements of a circuit</span>
<a name="l00023"></a>00023 <span class="comment"> */</span>
<a name="l00024"></a>00024 <span class="comment">//testing=script,noswitch 2009.07.13</span>
<a name="l00025"></a>00025 <span class="preprocessor">#include &quot;<a class="code" href="../../d7/dc4/u__lang_8h.html">u_lang.h</a>&quot;</span>
<a name="l00026"></a>00026 <span class="preprocessor">#include &quot;<a class="code" href="../../d2/de9/e__model_8h.html">e_model.h</a>&quot;</span>
<a name="l00027"></a>00027 <span class="preprocessor">#include &quot;<a class="code" href="../../d8/def/e__elemnt_8h.html">e_elemnt.h</a>&quot;</span>
<a name="l00028"></a>00028 <span class="comment">/*--------------------------------------------------------------------------*/</span>
<a name="l00029"></a><a class="code" href="../../df/d75/class_c_o_m_m_o_n___c_o_m_p_o_n_e_n_t.html#aba3021141b9062c98c5443b591a598ef">00029</a> <a class="code" href="../../df/d75/class_c_o_m_m_o_n___c_o_m_p_o_n_e_n_t.html#a61387de1d66d0172131c0682e8121b98">COMMON_COMPONENT::COMMON_COMPONENT</a>(<span class="keyword">const</span> <a class="code" href="../../df/d75/class_c_o_m_m_o_n___c_o_m_p_o_n_e_n_t.html">COMMON_COMPONENT</a>&amp; <a class="code" href="../../d5/d1c/namespaceanonymous__namespace_02c__genrat_8cc_03.html#a4efa6c9b62361333533768663f0ae0a1">p</a>)
<a name="l00030"></a>00030   :_tnom_c(p._tnom_c),
<a name="l00031"></a>00031    _dtemp(p._dtemp),
<a name="l00032"></a>00032    _temp_c(p._temp_c),
<a name="l00033"></a>00033    _mfactor(p._mfactor),
<a name="l00034"></a>00034    _value(p._value),
<a name="l00035"></a>00035    _modelname(p._modelname),
<a name="l00036"></a>00036    _model(p._model),
<a name="l00037"></a>00037    _attach_count(0)
<a name="l00038"></a>00038 {
<a name="l00039"></a>00039 }
<a name="l00040"></a>00040 <span class="comment">/*--------------------------------------------------------------------------*/</span>
<a name="l00041"></a><a class="code" href="../../df/d75/class_c_o_m_m_o_n___c_o_m_p_o_n_e_n_t.html#a70931242a2554eb52c0c02e7a1619e92">00041</a> <a class="code" href="../../df/d75/class_c_o_m_m_o_n___c_o_m_p_o_n_e_n_t.html#a61387de1d66d0172131c0682e8121b98">COMMON_COMPONENT::COMMON_COMPONENT</a>(<span class="keywordtype">int</span> c)
<a name="l00042"></a>00042   :_tnom_c(<a class="code" href="../../dd/d17/constant_8h.html#abb39563dc0a27391e9e1df95cf4da216">NOT_INPUT</a>),
<a name="l00043"></a>00043    _dtemp(0),
<a name="l00044"></a>00044    _temp_c(<a class="code" href="../../dd/d17/constant_8h.html#abb39563dc0a27391e9e1df95cf4da216">NOT_INPUT</a>),
<a name="l00045"></a>00045    _mfactor(1),
<a name="l00046"></a>00046    _value(0),
<a name="l00047"></a>00047    _modelname(),
<a name="l00048"></a>00048    _model(0),
<a name="l00049"></a>00049    _attach_count(c)
<a name="l00050"></a>00050 {
<a name="l00051"></a>00051 }
<a name="l00052"></a>00052 <span class="comment">/*--------------------------------------------------------------------------*/</span>
<a name="l00053"></a><a class="code" href="../../df/d75/class_c_o_m_m_o_n___c_o_m_p_o_n_e_n_t.html#a4c4a99f863ca0fd168d4ceb56b338c57">00053</a> <a class="code" href="../../df/d75/class_c_o_m_m_o_n___c_o_m_p_o_n_e_n_t.html#a4c4a99f863ca0fd168d4ceb56b338c57">COMMON_COMPONENT::~COMMON_COMPONENT</a>()
<a name="l00054"></a>00054 {
<a name="l00055"></a>00055   <a class="code" href="../../d6/dda/io__trace_8h.html#ae2d2dafbc0bd5b008dbcab4a4f2e2706">trace1</a>(<span class="stringliteral">&quot;common,destruct&quot;</span>, <a class="code" href="../../df/d75/class_c_o_m_m_o_n___c_o_m_p_o_n_e_n_t.html#af22a28ed0094750ed40996a27ec4f3a0">_attach_count</a>);
<a name="l00056"></a>00056   assert(<a class="code" href="../../df/d75/class_c_o_m_m_o_n___c_o_m_p_o_n_e_n_t.html#af22a28ed0094750ed40996a27ec4f3a0">_attach_count</a> == 0 || <a class="code" href="../../df/d75/class_c_o_m_m_o_n___c_o_m_p_o_n_e_n_t.html#af22a28ed0094750ed40996a27ec4f3a0">_attach_count</a> == <a class="code" href="../../d0/db8/e__compon_8h.html#adc29c2ff13d900c2f185ee95427fb06ca3d88420d67f7a262141f4c07996d0400">CC_STATIC</a>);
<a name="l00057"></a>00057 }
<a name="l00058"></a>00058 <span class="comment">/*--------------------------------------------------------------------------*/</span>
<a name="l00059"></a><a class="code" href="../../df/d75/class_c_o_m_m_o_n___c_o_m_p_o_n_e_n_t.html#a82d29d44fb455c5654ab26c162a9f8e5">00059</a> <span class="keywordtype">void</span> <a class="code" href="../../df/d75/class_c_o_m_m_o_n___c_o_m_p_o_n_e_n_t.html#a82d29d44fb455c5654ab26c162a9f8e5">COMMON_COMPONENT::attach_common</a>(<a class="code" href="../../df/d75/class_c_o_m_m_o_n___c_o_m_p_o_n_e_n_t.html">COMMON_COMPONENT</a>*c, <a class="code" href="../../df/d75/class_c_o_m_m_o_n___c_o_m_p_o_n_e_n_t.html">COMMON_COMPONENT</a>**to)
<a name="l00060"></a>00060 {
<a name="l00061"></a>00061   assert(to);
<a name="l00062"></a>00062   <span class="keywordflow">if</span> (c == *to) {
<a name="l00063"></a>00063     <span class="comment">// The new and old are the same object.  Do nothing.</span>
<a name="l00064"></a>00064   }<span class="keywordflow">else</span> <span class="keywordflow">if</span> (!c) {<a class="code" href="../../d6/dda/io__trace_8h.html#aa6032a13c5f0621c16055ada1b7f47ad">untested</a>();
<a name="l00065"></a>00065     <span class="comment">// There is no new common.  probably a simple element</span>
<a name="l00066"></a>00066     <a class="code" href="../../df/d75/class_c_o_m_m_o_n___c_o_m_p_o_n_e_n_t.html#a47b42bb6dadd45f4861a3a6582d7d5ce">detach_common</a>(to);
<a name="l00067"></a>00067   }<span class="keywordflow">else</span> <span class="keywordflow">if</span> (!*to) {
<a name="l00068"></a>00068     <span class="comment">// No old one, but have a new one.</span>
<a name="l00069"></a>00069     ++(c-&gt;<a class="code" href="../../df/d75/class_c_o_m_m_o_n___c_o_m_p_o_n_e_n_t.html#af22a28ed0094750ed40996a27ec4f3a0">_attach_count</a>);
<a name="l00070"></a>00070     <a class="code" href="../../d6/dda/io__trace_8h.html#ae2d2dafbc0bd5b008dbcab4a4f2e2706">trace1</a>(<span class="stringliteral">&quot;++1&quot;</span>, c-&gt;<a class="code" href="../../df/d75/class_c_o_m_m_o_n___c_o_m_p_o_n_e_n_t.html#af22a28ed0094750ed40996a27ec4f3a0">_attach_count</a>);
<a name="l00071"></a>00071     *to = c;
<a name="l00072"></a>00072   }<span class="keywordflow">else</span> <span class="keywordflow">if</span> (*c != **to) {
<a name="l00073"></a>00073     <span class="comment">// They are different, usually by edit.</span>
<a name="l00074"></a>00074     <a class="code" href="../../df/d75/class_c_o_m_m_o_n___c_o_m_p_o_n_e_n_t.html#a47b42bb6dadd45f4861a3a6582d7d5ce">detach_common</a>(to);
<a name="l00075"></a>00075     ++(c-&gt;<a class="code" href="../../df/d75/class_c_o_m_m_o_n___c_o_m_p_o_n_e_n_t.html#af22a28ed0094750ed40996a27ec4f3a0">_attach_count</a>);
<a name="l00076"></a>00076     <a class="code" href="../../d6/dda/io__trace_8h.html#ae2d2dafbc0bd5b008dbcab4a4f2e2706">trace1</a>(<span class="stringliteral">&quot;++2&quot;</span>, c-&gt;<a class="code" href="../../df/d75/class_c_o_m_m_o_n___c_o_m_p_o_n_e_n_t.html#af22a28ed0094750ed40996a27ec4f3a0">_attach_count</a>);
<a name="l00077"></a>00077     *to = c;
<a name="l00078"></a>00078   }<span class="keywordflow">else</span> <span class="keywordflow">if</span> (c-&gt;<a class="code" href="../../df/d75/class_c_o_m_m_o_n___c_o_m_p_o_n_e_n_t.html#af22a28ed0094750ed40996a27ec4f3a0">_attach_count</a> == 0) {
<a name="l00079"></a>00079     <span class="comment">// The new and old are identical.</span>
<a name="l00080"></a>00080     <span class="comment">// Use the old one.</span>
<a name="l00081"></a>00081     <span class="comment">// The new one is not used anywhere, so throw it away.</span>
<a name="l00082"></a>00082     <a class="code" href="../../d6/dda/io__trace_8h.html#ae2d2dafbc0bd5b008dbcab4a4f2e2706">trace1</a>(<span class="stringliteral">&quot;delete&quot;</span>, c-&gt;<a class="code" href="../../df/d75/class_c_o_m_m_o_n___c_o_m_p_o_n_e_n_t.html#af22a28ed0094750ed40996a27ec4f3a0">_attach_count</a>);    
<a name="l00083"></a>00083     <span class="keyword">delete</span> c;
<a name="l00084"></a>00084   }<span class="keywordflow">else</span>{<a class="code" href="../../d6/dda/io__trace_8h.html#aa6032a13c5f0621c16055ada1b7f47ad">untested</a>();
<a name="l00085"></a>00085     <span class="comment">// The new and old are identical.</span>
<a name="l00086"></a>00086     <span class="comment">// Use the old one.</span>
<a name="l00087"></a>00087     <span class="comment">// The new one is also used somewhere else, so keep it.</span>
<a name="l00088"></a>00088   }
<a name="l00089"></a>00089 }
<a name="l00090"></a>00090 <span class="comment">/*--------------------------------------------------------------------------*/</span>
<a name="l00091"></a><a class="code" href="../../df/d75/class_c_o_m_m_o_n___c_o_m_p_o_n_e_n_t.html#a47b42bb6dadd45f4861a3a6582d7d5ce">00091</a> <span class="keywordtype">void</span> <a class="code" href="../../df/d75/class_c_o_m_m_o_n___c_o_m_p_o_n_e_n_t.html#a47b42bb6dadd45f4861a3a6582d7d5ce">COMMON_COMPONENT::detach_common</a>(<a class="code" href="../../df/d75/class_c_o_m_m_o_n___c_o_m_p_o_n_e_n_t.html">COMMON_COMPONENT</a>** from)
<a name="l00092"></a>00092 {
<a name="l00093"></a>00093   assert(from);
<a name="l00094"></a>00094   <span class="keywordflow">if</span> (*from) {
<a name="l00095"></a>00095     assert((**from)._attach_count &gt; 0);
<a name="l00096"></a>00096     --((**from)._attach_count);
<a name="l00097"></a>00097     <a class="code" href="../../d6/dda/io__trace_8h.html#ae2d2dafbc0bd5b008dbcab4a4f2e2706">trace1</a>(<span class="stringliteral">&quot;--&quot;</span>, (**from)._attach_count);
<a name="l00098"></a>00098     <span class="keywordflow">if</span> ((**from)._attach_count == 0) {
<a name="l00099"></a>00099       <a class="code" href="../../d6/dda/io__trace_8h.html#ae2d2dafbc0bd5b008dbcab4a4f2e2706">trace1</a>(<span class="stringliteral">&quot;delete&quot;</span>, (**from)._attach_count);
<a name="l00100"></a>00100       <span class="keyword">delete</span> *from;
<a name="l00101"></a>00101     }<span class="keywordflow">else</span>{
<a name="l00102"></a>00102       <a class="code" href="../../d6/dda/io__trace_8h.html#ae2d2dafbc0bd5b008dbcab4a4f2e2706">trace1</a>(<span class="stringliteral">&quot;nodelete&quot;</span>, (**from)._attach_count);
<a name="l00103"></a>00103     }
<a name="l00104"></a>00104     *from = NULL;
<a name="l00105"></a>00105   }<span class="keywordflow">else</span>{
<a name="l00106"></a>00106   }
<a name="l00107"></a>00107 }
<a name="l00108"></a>00108 <span class="comment">/*--------------------------------------------------------------------------*/</span>
<a name="l00109"></a><a class="code" href="../../df/d75/class_c_o_m_m_o_n___c_o_m_p_o_n_e_n_t.html#a6078b41025c00548efde76966b46c510">00109</a> <span class="keywordtype">void</span> <a class="code" href="../../df/d75/class_c_o_m_m_o_n___c_o_m_p_o_n_e_n_t.html#a6078b41025c00548efde76966b46c510">COMMON_COMPONENT::attach_model</a>(<span class="keyword">const</span> <a class="code" href="../../d5/dce/class_c_o_m_p_o_n_e_n_t.html">COMPONENT</a>* d)<span class="keyword">const</span>
<a name="l00110"></a>00110 <span class="keyword"></span>{
<a name="l00111"></a>00111   assert(d);
<a name="l00112"></a>00112   <a class="code" href="../../df/d75/class_c_o_m_m_o_n___c_o_m_p_o_n_e_n_t.html#a5fe324ab546352316538b57870885237">_model</a> = d-&gt;<a class="code" href="../../d5/dce/class_c_o_m_p_o_n_e_n_t.html#a609dac9a21dd26d7bf722462f8106d09">find_model</a>(<a class="code" href="../../df/d75/class_c_o_m_m_o_n___c_o_m_p_o_n_e_n_t.html#a1d77776e8d3cd90a653f62f7ba4630f6">modelname</a>());
<a name="l00113"></a>00113   assert(<a class="code" href="../../df/d75/class_c_o_m_m_o_n___c_o_m_p_o_n_e_n_t.html#a5fe324ab546352316538b57870885237">_model</a>);
<a name="l00114"></a>00114 }
<a name="l00115"></a>00115 <span class="comment">/*--------------------------------------------------------------------------*/</span>
<a name="l00116"></a><a class="code" href="../../df/d75/class_c_o_m_m_o_n___c_o_m_p_o_n_e_n_t.html#a17c8299d9ac723ee6b2cc9c6ecd9db71">00116</a> <span class="keywordtype">void</span> <a class="code" href="../../df/d75/class_c_o_m_m_o_n___c_o_m_p_o_n_e_n_t.html#a17c8299d9ac723ee6b2cc9c6ecd9db71">COMMON_COMPONENT::parse_modelname</a>(<a class="code" href="../../db/d85/class_c_s.html">CS</a>&amp; cmd)
<a name="l00117"></a>00117 {
<a name="l00118"></a>00118   <a class="code" href="../../df/d75/class_c_o_m_m_o_n___c_o_m_p_o_n_e_n_t.html#a57f145bf841ff0cd18fc9552a7b798ab">set_modelname</a>(cmd.<a class="code" href="../../db/d85/class_c_s.html#a6647600f58b47a4a13ad4a7ce1f5a40e">ctos</a>(<a class="code" href="../../dd/d17/constant_8h.html#a280dc3f1747e430dc0e3221779fb5dc4">TOKENTERM</a>));
<a name="l00119"></a>00119 }
<a name="l00120"></a>00120 <span class="comment">/*--------------------------------------------------------------------------*/</span>
<a name="l00121"></a>00121 <span class="comment">// called only by COMMON_COMPONENT::parse_obsolete</span>
<a name="l00122"></a><a class="code" href="../../df/d75/class_c_o_m_m_o_n___c_o_m_p_o_n_e_n_t.html#a13c7b14e55d58db119253db6b5a537fa">00122</a> <span class="keywordtype">bool</span> <a class="code" href="../../df/d75/class_c_o_m_m_o_n___c_o_m_p_o_n_e_n_t.html#a13c7b14e55d58db119253db6b5a537fa">COMMON_COMPONENT::parse_param_list</a>(<a class="code" href="../../db/d85/class_c_s.html">CS</a>&amp; cmd)
<a name="l00123"></a>00123 {
<a name="l00124"></a>00124   <span class="keywordtype">unsigned</span> start = cmd.<a class="code" href="../../db/d85/class_c_s.html#af9492594a774fd94b30323dab5c98716">cursor</a>();
<a name="l00125"></a>00125   <span class="keywordtype">unsigned</span> here = cmd.<a class="code" href="../../db/d85/class_c_s.html#af9492594a774fd94b30323dab5c98716">cursor</a>();
<a name="l00126"></a>00126   <span class="keywordflow">do</span>{
<a name="l00127"></a>00127     <a class="code" href="../../df/d75/class_c_o_m_m_o_n___c_o_m_p_o_n_e_n_t.html#a3f4dc62b8373b176284e0efce0549da4">parse_params_obsolete_callback</a>(cmd); <span class="comment">//BUG//callback</span>
<a name="l00128"></a>00128   }<span class="keywordflow">while</span> (cmd.<a class="code" href="../../db/d85/class_c_s.html#a4f9ebb52c1663598fa162b76b6963fd4">more</a>() &amp;&amp; !cmd.<a class="code" href="../../db/d85/class_c_s.html#ac8d7dace6e3a67618018473815e7ece5">stuck</a>(&amp;here));
<a name="l00129"></a>00129   <span class="keywordflow">return</span> cmd.<a class="code" href="../../db/d85/class_c_s.html#a10cb321619415d75092c4cfac9a44302">gotit</a>(start);
<a name="l00130"></a>00130 }
<a name="l00131"></a>00131 <span class="comment">/*--------------------------------------------------------------------------*/</span>
<a name="l00132"></a><a class="code" href="../../df/d75/class_c_o_m_m_o_n___c_o_m_p_o_n_e_n_t.html#ab0f8aac03813936ca96b4e65e51978e0">00132</a> <span class="keywordtype">void</span> <a class="code" href="../../df/d75/class_c_o_m_m_o_n___c_o_m_p_o_n_e_n_t.html#ab0f8aac03813936ca96b4e65e51978e0">COMMON_COMPONENT::parse_common_obsolete_callback</a>(<a class="code" href="../../db/d85/class_c_s.html">CS</a>&amp; cmd) <span class="comment">//used</span>
<a name="l00133"></a>00133 {
<a name="l00134"></a>00134   <span class="keywordflow">if</span> (cmd.<a class="code" href="../../db/d85/class_c_s.html#a46e33df8ea997201ca1afeb1c4c94f38">skip1b</a>(<span class="charliteral">&#39;(&#39;</span>)) {
<a name="l00135"></a>00135     <span class="comment">// start with a paren</span>
<a name="l00136"></a>00136     <span class="keywordtype">unsigned</span> start = cmd.<a class="code" href="../../db/d85/class_c_s.html#af9492594a774fd94b30323dab5c98716">cursor</a>();
<a name="l00137"></a>00137     <a class="code" href="../../df/d75/class_c_o_m_m_o_n___c_o_m_p_o_n_e_n_t.html#a13c7b14e55d58db119253db6b5a537fa">parse_param_list</a>(cmd);
<a name="l00138"></a>00138     <span class="keywordflow">if</span> (cmd.<a class="code" href="../../db/d85/class_c_s.html#a10cb321619415d75092c4cfac9a44302">gotit</a>(start)) {             <span class="comment">// ( params ( ....</span>
<a name="l00139"></a>00139       <span class="comment">// named args before num list</span>
<a name="l00140"></a>00140       <span class="keywordflow">if</span> (cmd.<a class="code" href="../../db/d85/class_c_s.html#a46e33df8ea997201ca1afeb1c4c94f38">skip1b</a>(<span class="charliteral">&#39;(&#39;</span>)) {            <span class="comment">// ( params ( list ) params )</span>
<a name="l00141"></a>00141         <a class="code" href="../../df/d75/class_c_o_m_m_o_n___c_o_m_p_o_n_e_n_t.html#a112fcd3f07b4b9f4cd91a91515b2b475">parse_numlist</a>(cmd);
<a name="l00142"></a>00142         <span class="keywordflow">if</span> (!cmd.<a class="code" href="../../db/d85/class_c_s.html#a46e33df8ea997201ca1afeb1c4c94f38">skip1b</a>(<span class="charliteral">&#39;)&#39;</span>)) {<a class="code" href="../../d6/dda/io__trace_8h.html#aa6032a13c5f0621c16055ada1b7f47ad">untested</a>();
<a name="l00143"></a>00143           cmd.<a class="code" href="../../db/d85/class_c_s.html#a8dd1d3baec68dca2a72be0d313268828">warn</a>(bWARNING, <span class="stringliteral">&quot;need )&quot;</span>);
<a name="l00144"></a>00144         }<span class="keywordflow">else</span>{
<a name="l00145"></a>00145         }
<a name="l00146"></a>00146       }<span class="keywordflow">else</span>{                            <span class="comment">// ( params list params )</span>
<a name="l00147"></a>00147         <a class="code" href="../../df/d75/class_c_o_m_m_o_n___c_o_m_p_o_n_e_n_t.html#a112fcd3f07b4b9f4cd91a91515b2b475">parse_numlist</a>(cmd);             <span class="comment">//BUG//</span>
<a name="l00148"></a>00148       }
<a name="l00149"></a>00149       <a class="code" href="../../df/d75/class_c_o_m_m_o_n___c_o_m_p_o_n_e_n_t.html#a13c7b14e55d58db119253db6b5a537fa">parse_param_list</a>(cmd);
<a name="l00150"></a>00150       <span class="keywordflow">if</span> (!cmd.<a class="code" href="../../db/d85/class_c_s.html#a46e33df8ea997201ca1afeb1c4c94f38">skip1b</a>(<span class="charliteral">&#39;)&#39;</span>)) {<a class="code" href="../../d6/dda/io__trace_8h.html#aa6032a13c5f0621c16055ada1b7f47ad">untested</a>();
<a name="l00151"></a>00151         cmd.<a class="code" href="../../db/d85/class_c_s.html#a8dd1d3baec68dca2a72be0d313268828">warn</a>(bWARNING, <span class="stringliteral">&quot;need )&quot;</span>);
<a name="l00152"></a>00152       }<span class="keywordflow">else</span>{
<a name="l00153"></a>00153       }
<a name="l00154"></a>00154     }<span class="keywordflow">else</span>{
<a name="l00155"></a>00155       <span class="comment">// no named args before num list</span>
<a name="l00156"></a>00156       <span class="comment">// but there&#39;s a paren</span>
<a name="l00157"></a>00157       <span class="comment">// not sure whether it belongs to all args or to num list</span>
<a name="l00158"></a>00158       <span class="keywordflow">if</span> (cmd.<a class="code" href="../../db/d85/class_c_s.html#a46e33df8ea997201ca1afeb1c4c94f38">skip1b</a>(<span class="charliteral">&#39;(&#39;</span>)) {            <span class="comment">// ( ( list ) params )</span>
<a name="l00159"></a>00159         <span class="comment">// two parens</span>
<a name="l00160"></a>00160         <a class="code" href="../../df/d75/class_c_o_m_m_o_n___c_o_m_p_o_n_e_n_t.html#a112fcd3f07b4b9f4cd91a91515b2b475">parse_numlist</a>(cmd);
<a name="l00161"></a>00161         <span class="keywordflow">if</span> (!cmd.<a class="code" href="../../db/d85/class_c_s.html#a46e33df8ea997201ca1afeb1c4c94f38">skip1b</a>(<span class="charliteral">&#39;)&#39;</span>)) {<a class="code" href="../../d6/dda/io__trace_8h.html#aa6032a13c5f0621c16055ada1b7f47ad">untested</a>();
<a name="l00162"></a>00162           cmd.<a class="code" href="../../db/d85/class_c_s.html#a8dd1d3baec68dca2a72be0d313268828">warn</a>(bWARNING, <span class="stringliteral">&quot;need )&quot;</span>);
<a name="l00163"></a>00163         }<span class="keywordflow">else</span>{
<a name="l00164"></a>00164         }
<a name="l00165"></a>00165         <a class="code" href="../../df/d75/class_c_o_m_m_o_n___c_o_m_p_o_n_e_n_t.html#a13c7b14e55d58db119253db6b5a537fa">parse_param_list</a>(cmd);
<a name="l00166"></a>00166         <span class="keywordflow">if</span> (!cmd.<a class="code" href="../../db/d85/class_c_s.html#a46e33df8ea997201ca1afeb1c4c94f38">skip1b</a>(<span class="charliteral">&#39;)&#39;</span>)) {<a class="code" href="../../d6/dda/io__trace_8h.html#aa6032a13c5f0621c16055ada1b7f47ad">untested</a>();
<a name="l00167"></a>00167           cmd.<a class="code" href="../../db/d85/class_c_s.html#a8dd1d3baec68dca2a72be0d313268828">warn</a>(bWARNING, <span class="stringliteral">&quot;need )&quot;</span>);
<a name="l00168"></a>00168         }<span class="keywordflow">else</span>{
<a name="l00169"></a>00169         }
<a name="l00170"></a>00170       }<span class="keywordflow">else</span>{                            <span class="comment">// ( list ...</span>
<a name="l00171"></a>00171         <span class="comment">// only one paren</span>
<a name="l00172"></a>00172         <a class="code" href="../../df/d75/class_c_o_m_m_o_n___c_o_m_p_o_n_e_n_t.html#a112fcd3f07b4b9f4cd91a91515b2b475">parse_numlist</a>(cmd);
<a name="l00173"></a>00173         <span class="keywordflow">if</span> (cmd.<a class="code" href="../../db/d85/class_c_s.html#a46e33df8ea997201ca1afeb1c4c94f38">skip1b</a>(<span class="charliteral">&#39;)&#39;</span>)) {          <span class="comment">// ( list ) params</span>
<a name="l00174"></a>00174           <span class="comment">// assume it belongs to num list</span>
<a name="l00175"></a>00175           <span class="comment">// and named params follow</span>
<a name="l00176"></a>00176           <a class="code" href="../../df/d75/class_c_o_m_m_o_n___c_o_m_p_o_n_e_n_t.html#a13c7b14e55d58db119253db6b5a537fa">parse_param_list</a>(cmd);
<a name="l00177"></a>00177         }<span class="keywordflow">else</span>{                          <span class="comment">// ( list params )</span>
<a name="l00178"></a>00178           <span class="comment">// assume it belongs to all args</span>
<a name="l00179"></a>00179           <a class="code" href="../../df/d75/class_c_o_m_m_o_n___c_o_m_p_o_n_e_n_t.html#a13c7b14e55d58db119253db6b5a537fa">parse_param_list</a>(cmd);
<a name="l00180"></a>00180           <span class="keywordflow">if</span> (!cmd.<a class="code" href="../../db/d85/class_c_s.html#a46e33df8ea997201ca1afeb1c4c94f38">skip1b</a>(<span class="charliteral">&#39;)&#39;</span>)) {
<a name="l00181"></a>00181             cmd.<a class="code" href="../../db/d85/class_c_s.html#a8dd1d3baec68dca2a72be0d313268828">warn</a>(bWARNING, <span class="stringliteral">&quot;need )&quot;</span>);
<a name="l00182"></a>00182           }<span class="keywordflow">else</span>{
<a name="l00183"></a>00183           }
<a name="l00184"></a>00184         }
<a name="l00185"></a>00185       }
<a name="l00186"></a>00186     }
<a name="l00187"></a>00187   }<span class="keywordflow">else</span>{
<a name="l00188"></a>00188     <span class="comment">// does not start with a paren</span>
<a name="l00189"></a>00189     <span class="keywordtype">unsigned</span> start = cmd.<a class="code" href="../../db/d85/class_c_s.html#af9492594a774fd94b30323dab5c98716">cursor</a>();
<a name="l00190"></a>00190     <a class="code" href="../../df/d75/class_c_o_m_m_o_n___c_o_m_p_o_n_e_n_t.html#a13c7b14e55d58db119253db6b5a537fa">parse_param_list</a>(cmd);
<a name="l00191"></a>00191     <span class="keywordflow">if</span> (cmd.<a class="code" href="../../db/d85/class_c_s.html#a10cb321619415d75092c4cfac9a44302">gotit</a>(start)) {
<a name="l00192"></a>00192       <span class="keywordflow">if</span> (cmd.<a class="code" href="../../db/d85/class_c_s.html#a46e33df8ea997201ca1afeb1c4c94f38">skip1b</a>(<span class="charliteral">&#39;(&#39;</span>)) {            <span class="comment">// params ( list ) params</span>
<a name="l00193"></a>00193         <a class="code" href="../../df/d75/class_c_o_m_m_o_n___c_o_m_p_o_n_e_n_t.html#a112fcd3f07b4b9f4cd91a91515b2b475">parse_numlist</a>(cmd);
<a name="l00194"></a>00194         <span class="keywordflow">if</span> (!cmd.<a class="code" href="../../db/d85/class_c_s.html#a46e33df8ea997201ca1afeb1c4c94f38">skip1b</a>(<span class="charliteral">&#39;)&#39;</span>)) {<a class="code" href="../../d6/dda/io__trace_8h.html#aa6032a13c5f0621c16055ada1b7f47ad">untested</a>();
<a name="l00195"></a>00195           cmd.<a class="code" href="../../db/d85/class_c_s.html#a8dd1d3baec68dca2a72be0d313268828">warn</a>(bWARNING, <span class="stringliteral">&quot;need )&quot;</span>);
<a name="l00196"></a>00196         }<span class="keywordflow">else</span>{
<a name="l00197"></a>00197         }
<a name="l00198"></a>00198       }<span class="keywordflow">else</span> <span class="keywordflow">if</span> (!(cmd.<a class="code" href="../../db/d85/class_c_s.html#adb3b8fff72af641d287e2d70b045b525">is_alpha</a>())) {    <span class="comment">// params list params</span>
<a name="l00199"></a>00199         <a class="code" href="../../df/d75/class_c_o_m_m_o_n___c_o_m_p_o_n_e_n_t.html#a112fcd3f07b4b9f4cd91a91515b2b475">parse_numlist</a>(cmd);
<a name="l00200"></a>00200       }<span class="keywordflow">else</span>{                            <span class="comment">// params   (only)</span>
<a name="l00201"></a>00201       }
<a name="l00202"></a>00202     }<span class="keywordflow">else</span>{                              <span class="comment">// list params</span>
<a name="l00203"></a>00203       assert(!(cmd.<a class="code" href="../../db/d85/class_c_s.html#a46e33df8ea997201ca1afeb1c4c94f38">skip1b</a>(<span class="charliteral">&#39;(&#39;</span>)));
<a name="l00204"></a>00204       <a class="code" href="../../df/d75/class_c_o_m_m_o_n___c_o_m_p_o_n_e_n_t.html#a112fcd3f07b4b9f4cd91a91515b2b475">parse_numlist</a>(cmd);
<a name="l00205"></a>00205     }
<a name="l00206"></a>00206     <a class="code" href="../../df/d75/class_c_o_m_m_o_n___c_o_m_p_o_n_e_n_t.html#a13c7b14e55d58db119253db6b5a537fa">parse_param_list</a>(cmd);
<a name="l00207"></a>00207     <span class="keywordflow">if</span> (cmd.<a class="code" href="../../db/d85/class_c_s.html#a46e33df8ea997201ca1afeb1c4c94f38">skip1b</a>(<span class="charliteral">&#39;)&#39;</span>)) {
<a name="l00208"></a>00208       cmd.<a class="code" href="../../db/d85/class_c_s.html#a8dd1d3baec68dca2a72be0d313268828">warn</a>(bWARNING, start, <span class="stringliteral">&quot;need (&quot;</span>);
<a name="l00209"></a>00209     }<span class="keywordflow">else</span>{
<a name="l00210"></a>00210     }
<a name="l00211"></a>00211   }
<a name="l00212"></a>00212 }
<a name="l00213"></a>00213 <span class="comment">/*--------------------------------------------------------------------------*/</span>
<a name="l00214"></a><a class="code" href="../../df/d75/class_c_o_m_m_o_n___c_o_m_p_o_n_e_n_t.html#a3d600830d758921b8c60c96e08bd6526">00214</a> <span class="keywordtype">void</span> <a class="code" href="../../df/d75/class_c_o_m_m_o_n___c_o_m_p_o_n_e_n_t.html#a3d600830d758921b8c60c96e08bd6526">COMMON_COMPONENT::print_common_obsolete_callback</a>(<a class="code" href="../../dc/d18/class_o_m_s_t_r_e_a_m.html">OMSTREAM</a>&amp; o, <a class="code" href="../../d8/d92/class_l_a_n_g_u_a_g_e.html">LANGUAGE</a>* lang)<span class="keyword">const</span>
<a name="l00215"></a>00215 <span class="keyword"></span>{
<a name="l00216"></a>00216   assert(lang);
<a name="l00217"></a>00217   <a class="code" href="../../d7/dc4/u__lang_8h.html#a98c6a719045c1ab36bd5d331802c315c">print_pair</a>(o, lang, <span class="stringliteral">&quot;tnom&quot;</span>, <a class="code" href="../../df/d75/class_c_o_m_m_o_n___c_o_m_p_o_n_e_n_t.html#a4e377928289e781023612890e9a47512">_tnom_c</a>,  <a class="code" href="../../df/d75/class_c_o_m_m_o_n___c_o_m_p_o_n_e_n_t.html#a4e377928289e781023612890e9a47512">_tnom_c</a>.<a class="code" href="../../d4/dd4/class_p_a_r_a_m_e_t_e_r.html#a41139fe8899ac91ad218570897e63d90">has_hard_value</a>());
<a name="l00218"></a>00218   <a class="code" href="../../d7/dc4/u__lang_8h.html#a98c6a719045c1ab36bd5d331802c315c">print_pair</a>(o, lang, <span class="stringliteral">&quot;dtemp&quot;</span>,<a class="code" href="../../df/d75/class_c_o_m_m_o_n___c_o_m_p_o_n_e_n_t.html#a6a3f3086d606d547e2085ee6e99e4bdb">_dtemp</a>,   <a class="code" href="../../df/d75/class_c_o_m_m_o_n___c_o_m_p_o_n_e_n_t.html#a6a3f3086d606d547e2085ee6e99e4bdb">_dtemp</a>.<a class="code" href="../../d4/dd4/class_p_a_r_a_m_e_t_e_r.html#a41139fe8899ac91ad218570897e63d90">has_hard_value</a>());
<a name="l00219"></a>00219   <a class="code" href="../../d7/dc4/u__lang_8h.html#a98c6a719045c1ab36bd5d331802c315c">print_pair</a>(o, lang, <span class="stringliteral">&quot;temp&quot;</span>, <a class="code" href="../../df/d75/class_c_o_m_m_o_n___c_o_m_p_o_n_e_n_t.html#a6fc9dac8164f076948714d0be1ddc36f">_temp_c</a>,  <a class="code" href="../../df/d75/class_c_o_m_m_o_n___c_o_m_p_o_n_e_n_t.html#a6fc9dac8164f076948714d0be1ddc36f">_temp_c</a>.<a class="code" href="../../d4/dd4/class_p_a_r_a_m_e_t_e_r.html#a41139fe8899ac91ad218570897e63d90">has_hard_value</a>());
<a name="l00220"></a>00220   <a class="code" href="../../d7/dc4/u__lang_8h.html#a98c6a719045c1ab36bd5d331802c315c">print_pair</a>(o, lang, <span class="stringliteral">&quot;m&quot;</span>,    <a class="code" href="../../df/d75/class_c_o_m_m_o_n___c_o_m_p_o_n_e_n_t.html#a6394c196022fc3094787154d1923541f">_mfactor</a>, <a class="code" href="../../df/d75/class_c_o_m_m_o_n___c_o_m_p_o_n_e_n_t.html#a6394c196022fc3094787154d1923541f">_mfactor</a>.<a class="code" href="../../d4/dd4/class_p_a_r_a_m_e_t_e_r.html#a41139fe8899ac91ad218570897e63d90">has_hard_value</a>());
<a name="l00221"></a>00221 }
<a name="l00222"></a>00222 <span class="comment">/*--------------------------------------------------------------------------*/</span>
<a name="l00223"></a><a class="code" href="../../df/d75/class_c_o_m_m_o_n___c_o_m_p_o_n_e_n_t.html#a18a3309af9e66586194f3580e5ccaa05">00223</a> <span class="keywordtype">void</span> <a class="code" href="../../df/d75/class_c_o_m_m_o_n___c_o_m_p_o_n_e_n_t.html#a18a3309af9e66586194f3580e5ccaa05">COMMON_COMPONENT::set_param_by_index</a>(<span class="keywordtype">int</span> i, std::string&amp; Value, <span class="keywordtype">int</span> Offset)
<a name="l00224"></a>00224 {
<a name="l00225"></a>00225   <span class="keywordflow">switch</span> (i) {
<a name="l00226"></a>00226   <span class="keywordflow">case</span> 0:  <a class="code" href="../../df/d75/class_c_o_m_m_o_n___c_o_m_p_o_n_e_n_t.html#a4e377928289e781023612890e9a47512">_tnom_c</a> = Value; <span class="keywordflow">break</span>;
<a name="l00227"></a>00227   <span class="keywordflow">case</span> 1:  <a class="code" href="../../df/d75/class_c_o_m_m_o_n___c_o_m_p_o_n_e_n_t.html#a6a3f3086d606d547e2085ee6e99e4bdb">_dtemp</a> = Value; <span class="keywordflow">break</span>;
<a name="l00228"></a>00228   <span class="keywordflow">case</span> 2:  <a class="code" href="../../df/d75/class_c_o_m_m_o_n___c_o_m_p_o_n_e_n_t.html#a6fc9dac8164f076948714d0be1ddc36f">_temp_c</a> = Value; <span class="keywordflow">break</span>;
<a name="l00229"></a>00229   <span class="keywordflow">case</span> 3:  <a class="code" href="../../df/d75/class_c_o_m_m_o_n___c_o_m_p_o_n_e_n_t.html#a6394c196022fc3094787154d1923541f">_mfactor</a> = Value; <span class="keywordflow">break</span>;
<a name="l00230"></a>00230   <span class="keywordflow">default</span>: <span class="keywordflow">throw</span> Exception_Too_Many(i, 3, Offset); <span class="keywordflow">break</span>;
<a name="l00231"></a>00231   }
<a name="l00232"></a>00232 }
<a name="l00233"></a>00233 <span class="comment">/*--------------------------------------------------------------------------*/</span>
<a name="l00234"></a><a class="code" href="../../df/d75/class_c_o_m_m_o_n___c_o_m_p_o_n_e_n_t.html#aeb7b0de77ee9f3f8814741b77ebfc9c8">00234</a> <span class="keywordtype">bool</span> <a class="code" href="../../df/d75/class_c_o_m_m_o_n___c_o_m_p_o_n_e_n_t.html#aeb7b0de77ee9f3f8814741b77ebfc9c8">COMMON_COMPONENT::param_is_printable</a>(<span class="keywordtype">int</span> i)<span class="keyword">const</span>
<a name="l00235"></a>00235 <span class="keyword"></span>{
<a name="l00236"></a>00236   <span class="keywordflow">switch</span> (i) {
<a name="l00237"></a>00237   <span class="keywordflow">case</span> 0:  <span class="keywordflow">return</span> <a class="code" href="../../df/d75/class_c_o_m_m_o_n___c_o_m_p_o_n_e_n_t.html#a4e377928289e781023612890e9a47512">_tnom_c</a>.<a class="code" href="../../d4/dd4/class_p_a_r_a_m_e_t_e_r.html#a41139fe8899ac91ad218570897e63d90">has_hard_value</a>();
<a name="l00238"></a>00238   <span class="keywordflow">case</span> 1:  <span class="keywordflow">return</span> <a class="code" href="../../df/d75/class_c_o_m_m_o_n___c_o_m_p_o_n_e_n_t.html#a6a3f3086d606d547e2085ee6e99e4bdb">_dtemp</a>.<a class="code" href="../../d4/dd4/class_p_a_r_a_m_e_t_e_r.html#a41139fe8899ac91ad218570897e63d90">has_hard_value</a>();
<a name="l00239"></a>00239   <span class="keywordflow">case</span> 2:  <span class="keywordflow">return</span> <a class="code" href="../../df/d75/class_c_o_m_m_o_n___c_o_m_p_o_n_e_n_t.html#a6fc9dac8164f076948714d0be1ddc36f">_temp_c</a>.<a class="code" href="../../d4/dd4/class_p_a_r_a_m_e_t_e_r.html#a41139fe8899ac91ad218570897e63d90">has_hard_value</a>();
<a name="l00240"></a>00240   <span class="keywordflow">case</span> 3:  <span class="keywordflow">return</span> <a class="code" href="../../df/d75/class_c_o_m_m_o_n___c_o_m_p_o_n_e_n_t.html#a6394c196022fc3094787154d1923541f">_mfactor</a>.<a class="code" href="../../d4/dd4/class_p_a_r_a_m_e_t_e_r.html#a41139fe8899ac91ad218570897e63d90">has_hard_value</a>();
<a name="l00241"></a>00241   <span class="keywordflow">default</span>: <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00242"></a>00242   }
<a name="l00243"></a>00243 }
<a name="l00244"></a>00244 <span class="comment">/*--------------------------------------------------------------------------*/</span>
<a name="l00245"></a><a class="code" href="../../df/d75/class_c_o_m_m_o_n___c_o_m_p_o_n_e_n_t.html#a307d0150f4c7d050bfd499e72d5b817a">00245</a> std::string <a class="code" href="../../df/d75/class_c_o_m_m_o_n___c_o_m_p_o_n_e_n_t.html#a307d0150f4c7d050bfd499e72d5b817a">COMMON_COMPONENT::param_name</a>(<span class="keywordtype">int</span> i)<span class="keyword">const</span>
<a name="l00246"></a>00246 <span class="keyword"></span>{
<a name="l00247"></a>00247   <span class="keywordflow">switch</span> (i) {
<a name="l00248"></a>00248   <span class="keywordflow">case</span> 0:  <span class="keywordflow">return</span> <span class="stringliteral">&quot;tnom&quot;</span>;
<a name="l00249"></a>00249   <span class="keywordflow">case</span> 1:  <span class="keywordflow">return</span> <span class="stringliteral">&quot;dtemp&quot;</span>;
<a name="l00250"></a>00250   <span class="keywordflow">case</span> 2:  <span class="keywordflow">return</span> <span class="stringliteral">&quot;temp&quot;</span>;
<a name="l00251"></a>00251   <span class="keywordflow">case</span> 3:  <span class="keywordflow">return</span> <span class="stringliteral">&quot;m&quot;</span>;
<a name="l00252"></a>00252   <span class="keywordflow">default</span>: <span class="keywordflow">return</span> <span class="stringliteral">&quot;&quot;</span>;
<a name="l00253"></a>00253   }
<a name="l00254"></a>00254 }
<a name="l00255"></a>00255 <span class="comment">/*--------------------------------------------------------------------------*/</span>
<a name="l00256"></a><a class="code" href="../../df/d75/class_c_o_m_m_o_n___c_o_m_p_o_n_e_n_t.html#a059c5d60fc5b451ec0504e470a0ede9b">00256</a> std::string <a class="code" href="../../df/d75/class_c_o_m_m_o_n___c_o_m_p_o_n_e_n_t.html#a307d0150f4c7d050bfd499e72d5b817a">COMMON_COMPONENT::param_name</a>(<span class="keywordtype">int</span> i, <span class="keywordtype">int</span> j)<span class="keyword">const</span>
<a name="l00257"></a>00257 <span class="keyword"></span>{
<a name="l00258"></a>00258   <span class="keywordflow">return</span> (j==0) ? <a class="code" href="../../df/d75/class_c_o_m_m_o_n___c_o_m_p_o_n_e_n_t.html#a307d0150f4c7d050bfd499e72d5b817a">param_name</a>(i) : <span class="stringliteral">&quot;&quot;</span>;
<a name="l00259"></a>00259 }
<a name="l00260"></a>00260 <span class="comment">/*--------------------------------------------------------------------------*/</span>
<a name="l00261"></a><a class="code" href="../../df/d75/class_c_o_m_m_o_n___c_o_m_p_o_n_e_n_t.html#a6b7f6f74d7c5ecfd919d3cfec415b7da">00261</a> std::string <a class="code" href="../../df/d75/class_c_o_m_m_o_n___c_o_m_p_o_n_e_n_t.html#a6b7f6f74d7c5ecfd919d3cfec415b7da">COMMON_COMPONENT::param_value</a>(<span class="keywordtype">int</span> i)<span class="keyword">const</span>
<a name="l00262"></a>00262 <span class="keyword"></span>{
<a name="l00263"></a>00263   <span class="keywordflow">switch</span> (i) {
<a name="l00264"></a>00264   <span class="keywordflow">case</span> 0:  <span class="keywordflow">return</span> <a class="code" href="../../df/d75/class_c_o_m_m_o_n___c_o_m_p_o_n_e_n_t.html#a4e377928289e781023612890e9a47512">_tnom_c</a>.<a class="code" href="../../d4/dd4/class_p_a_r_a_m_e_t_e_r.html#afd2e3be644d941d7c2c98d8e7fdf9a23">string</a>();
<a name="l00265"></a>00265   <span class="keywordflow">case</span> 1:  <span class="keywordflow">return</span> <a class="code" href="../../df/d75/class_c_o_m_m_o_n___c_o_m_p_o_n_e_n_t.html#a6a3f3086d606d547e2085ee6e99e4bdb">_dtemp</a>.<a class="code" href="../../d4/dd4/class_p_a_r_a_m_e_t_e_r.html#afd2e3be644d941d7c2c98d8e7fdf9a23">string</a>();
<a name="l00266"></a>00266   <span class="keywordflow">case</span> 2:  <span class="keywordflow">return</span> <a class="code" href="../../df/d75/class_c_o_m_m_o_n___c_o_m_p_o_n_e_n_t.html#a6fc9dac8164f076948714d0be1ddc36f">_temp_c</a>.<a class="code" href="../../d4/dd4/class_p_a_r_a_m_e_t_e_r.html#afd2e3be644d941d7c2c98d8e7fdf9a23">string</a>();
<a name="l00267"></a>00267   <span class="keywordflow">case</span> 3:  <span class="keywordflow">return</span> <a class="code" href="../../df/d75/class_c_o_m_m_o_n___c_o_m_p_o_n_e_n_t.html#a6394c196022fc3094787154d1923541f">_mfactor</a>.<a class="code" href="../../d4/dd4/class_p_a_r_a_m_e_t_e_r.html#afd2e3be644d941d7c2c98d8e7fdf9a23">string</a>();
<a name="l00268"></a>00268   <span class="keywordflow">default</span>: <span class="keywordflow">return</span> <span class="stringliteral">&quot;&quot;</span>;
<a name="l00269"></a>00269   }
<a name="l00270"></a>00270 }
<a name="l00271"></a>00271 <span class="comment">/*--------------------------------------------------------------------------*/</span>
<a name="l00272"></a><a class="code" href="../../df/d75/class_c_o_m_m_o_n___c_o_m_p_o_n_e_n_t.html#a01b25b7ef051fa554373a08faa0935bf">00272</a> <span class="keywordtype">void</span> <a class="code" href="../../df/d75/class_c_o_m_m_o_n___c_o_m_p_o_n_e_n_t.html#a01b25b7ef051fa554373a08faa0935bf">COMMON_COMPONENT::precalc_first</a>(<span class="keyword">const</span> <a class="code" href="../../d4/df4/class_c_a_r_d___l_i_s_t.html">CARD_LIST</a>* Scope)
<a name="l00273"></a>00273 {
<a name="l00274"></a>00274   assert(Scope);
<a name="l00275"></a>00275   <a class="code" href="../../df/d75/class_c_o_m_m_o_n___c_o_m_p_o_n_e_n_t.html#a4e377928289e781023612890e9a47512">_tnom_c</a>.<a class="code" href="../../d4/dd4/class_p_a_r_a_m_e_t_e_r.html#a3b0c248134850574e1b9544e02510f8b">e_val</a>(<a class="code" href="../../de/d5e/class_o_p_t.html#a676056a73b6e3c8119182b547c586c7f">OPT::tnom_c</a>, Scope);
<a name="l00276"></a>00276   <a class="code" href="../../df/d75/class_c_o_m_m_o_n___c_o_m_p_o_n_e_n_t.html#a6a3f3086d606d547e2085ee6e99e4bdb">_dtemp</a>.<a class="code" href="../../d4/dd4/class_p_a_r_a_m_e_t_e_r.html#a3b0c248134850574e1b9544e02510f8b">e_val</a>(0., Scope);
<a name="l00277"></a>00277   <a class="code" href="../../df/d75/class_c_o_m_m_o_n___c_o_m_p_o_n_e_n_t.html#a6fc9dac8164f076948714d0be1ddc36f">_temp_c</a>.<a class="code" href="../../d4/dd4/class_p_a_r_a_m_e_t_e_r.html#a3b0c248134850574e1b9544e02510f8b">e_val</a>(<a class="code" href="../../d3/d22/class_c_k_t___b_a_s_e.html#aee1030ed5a99aecd285c8af3aa2b37ef">CKT_BASE::_sim</a>-&gt;<a class="code" href="../../df/d75/class_c_o_m_m_o_n___c_o_m_p_o_n_e_n_t.html#a6fc9dac8164f076948714d0be1ddc36f">_temp_c</a> + <a class="code" href="../../df/d75/class_c_o_m_m_o_n___c_o_m_p_o_n_e_n_t.html#a6a3f3086d606d547e2085ee6e99e4bdb">_dtemp</a>, Scope);
<a name="l00278"></a>00278   <a class="code" href="../../df/d75/class_c_o_m_m_o_n___c_o_m_p_o_n_e_n_t.html#a6394c196022fc3094787154d1923541f">_mfactor</a>.<a class="code" href="../../d4/dd4/class_p_a_r_a_m_e_t_e_r.html#a3b0c248134850574e1b9544e02510f8b">e_val</a>(1, Scope);
<a name="l00279"></a>00279   <a class="code" href="../../df/d75/class_c_o_m_m_o_n___c_o_m_p_o_n_e_n_t.html#afbfdaea2258dade18209894b0a0b4b39">_value</a>.<a class="code" href="../../d4/dd4/class_p_a_r_a_m_e_t_e_r.html#a3b0c248134850574e1b9544e02510f8b">e_val</a>(0, Scope);
<a name="l00280"></a>00280 }
<a name="l00281"></a>00281 <span class="comment">/*--------------------------------------------------------------------------*/</span>
<a name="l00282"></a><a class="code" href="../../df/d75/class_c_o_m_m_o_n___c_o_m_p_o_n_e_n_t.html#a5d5db14e9a45fbfe6d28ebc3b97c86ca">00282</a> <span class="keywordtype">void</span> <a class="code" href="../../df/d75/class_c_o_m_m_o_n___c_o_m_p_o_n_e_n_t.html#a5d5db14e9a45fbfe6d28ebc3b97c86ca">COMMON_COMPONENT::tr_eval</a>(<a class="code" href="../../da/da7/class_e_l_e_m_e_n_t.html">ELEMENT</a>*x)<span class="keyword">const</span>
<a name="l00283"></a>00283 <span class="keyword"></span>{<a class="code" href="../../d6/dda/io__trace_8h.html#aa6032a13c5f0621c16055ada1b7f47ad">untested</a>();
<a name="l00284"></a>00284   assert(<a class="code" href="../../df/d75/class_c_o_m_m_o_n___c_o_m_p_o_n_e_n_t.html#a5fe324ab546352316538b57870885237">_model</a>);
<a name="l00285"></a>00285   <a class="code" href="../../df/d75/class_c_o_m_m_o_n___c_o_m_p_o_n_e_n_t.html#a5fe324ab546352316538b57870885237">_model</a>-&gt;<a class="code" href="../../d2/d9e/class_m_o_d_e_l___c_a_r_d.html#adb76e3f900e4d963ed70231a7d4c064e">tr_eval</a>(x);
<a name="l00286"></a>00286 }
<a name="l00287"></a>00287 <span class="comment">/*--------------------------------------------------------------------------*/</span>
<a name="l00288"></a><a class="code" href="../../df/d75/class_c_o_m_m_o_n___c_o_m_p_o_n_e_n_t.html#afe3e3a74add85364d92cac793eb9af59">00288</a> <span class="keywordtype">void</span> <a class="code" href="../../df/d75/class_c_o_m_m_o_n___c_o_m_p_o_n_e_n_t.html#afe3e3a74add85364d92cac793eb9af59">COMMON_COMPONENT::ac_eval</a>(<a class="code" href="../../da/da7/class_e_l_e_m_e_n_t.html">ELEMENT</a>*x)<span class="keyword">const</span>
<a name="l00289"></a>00289 <span class="keyword"></span>{<a class="code" href="../../d6/dda/io__trace_8h.html#aa6032a13c5f0621c16055ada1b7f47ad">untested</a>();
<a name="l00290"></a>00290   assert(<a class="code" href="../../df/d75/class_c_o_m_m_o_n___c_o_m_p_o_n_e_n_t.html#a5fe324ab546352316538b57870885237">_model</a>);
<a name="l00291"></a>00291   <a class="code" href="../../df/d75/class_c_o_m_m_o_n___c_o_m_p_o_n_e_n_t.html#a5fe324ab546352316538b57870885237">_model</a>-&gt;<a class="code" href="../../d2/d9e/class_m_o_d_e_l___c_a_r_d.html#a2774ea4314524c221f34a80d5b289d6b">ac_eval</a>(x);
<a name="l00292"></a>00292 }
<a name="l00293"></a>00293 <span class="comment">/*--------------------------------------------------------------------------*/</span>
<a name="l00294"></a><a class="code" href="../../df/d75/class_c_o_m_m_o_n___c_o_m_p_o_n_e_n_t.html#a38f6fe222be7175f6a6e10005d1d3cc8">00294</a> <span class="keywordtype">bool</span> <a class="code" href="../../df/d75/class_c_o_m_m_o_n___c_o_m_p_o_n_e_n_t.html#a38f6fe222be7175f6a6e10005d1d3cc8">COMMON_COMPONENT::operator==</a>(<span class="keyword">const</span> <a class="code" href="../../df/d75/class_c_o_m_m_o_n___c_o_m_p_o_n_e_n_t.html">COMMON_COMPONENT</a>&amp; x)<span class="keyword">const</span>
<a name="l00295"></a>00295 <span class="keyword"></span>{
<a name="l00296"></a>00296   <span class="keywordflow">return</span> (<a class="code" href="../../df/d75/class_c_o_m_m_o_n___c_o_m_p_o_n_e_n_t.html#aa24efcb0d39d8d2fa8031a16e38d4c96">_modelname</a> == x.<a class="code" href="../../df/d75/class_c_o_m_m_o_n___c_o_m_p_o_n_e_n_t.html#aa24efcb0d39d8d2fa8031a16e38d4c96">_modelname</a>
<a name="l00297"></a>00297           &amp;&amp; <a class="code" href="../../df/d75/class_c_o_m_m_o_n___c_o_m_p_o_n_e_n_t.html#a5fe324ab546352316538b57870885237">_model</a> == x.<a class="code" href="../../df/d75/class_c_o_m_m_o_n___c_o_m_p_o_n_e_n_t.html#a5fe324ab546352316538b57870885237">_model</a>
<a name="l00298"></a>00298           &amp;&amp; <a class="code" href="../../df/d75/class_c_o_m_m_o_n___c_o_m_p_o_n_e_n_t.html#a4e377928289e781023612890e9a47512">_tnom_c</a> == x.<a class="code" href="../../df/d75/class_c_o_m_m_o_n___c_o_m_p_o_n_e_n_t.html#a4e377928289e781023612890e9a47512">_tnom_c</a>
<a name="l00299"></a>00299           &amp;&amp; <a class="code" href="../../df/d75/class_c_o_m_m_o_n___c_o_m_p_o_n_e_n_t.html#a6a3f3086d606d547e2085ee6e99e4bdb">_dtemp</a> == x.<a class="code" href="../../df/d75/class_c_o_m_m_o_n___c_o_m_p_o_n_e_n_t.html#a6a3f3086d606d547e2085ee6e99e4bdb">_dtemp</a>
<a name="l00300"></a>00300           &amp;&amp; <a class="code" href="../../df/d75/class_c_o_m_m_o_n___c_o_m_p_o_n_e_n_t.html#a6fc9dac8164f076948714d0be1ddc36f">_temp_c</a> == x.<a class="code" href="../../df/d75/class_c_o_m_m_o_n___c_o_m_p_o_n_e_n_t.html#a6fc9dac8164f076948714d0be1ddc36f">_temp_c</a>
<a name="l00301"></a>00301           &amp;&amp; <a class="code" href="../../df/d75/class_c_o_m_m_o_n___c_o_m_p_o_n_e_n_t.html#a6394c196022fc3094787154d1923541f">_mfactor</a> == x.<a class="code" href="../../df/d75/class_c_o_m_m_o_n___c_o_m_p_o_n_e_n_t.html#a6394c196022fc3094787154d1923541f">_mfactor</a>
<a name="l00302"></a>00302           &amp;&amp; <a class="code" href="../../df/d75/class_c_o_m_m_o_n___c_o_m_p_o_n_e_n_t.html#afbfdaea2258dade18209894b0a0b4b39">_value</a> == x.<a class="code" href="../../df/d75/class_c_o_m_m_o_n___c_o_m_p_o_n_e_n_t.html#afbfdaea2258dade18209894b0a0b4b39">_value</a>);
<a name="l00303"></a>00303 }
<a name="l00304"></a>00304 <span class="comment">/*--------------------------------------------------------------------------*/</span>
<a name="l00305"></a><a class="code" href="../../df/d75/class_c_o_m_m_o_n___c_o_m_p_o_n_e_n_t.html#a04808745c1306c1e5abe418134f21c89">00305</a> <span class="keywordtype">void</span> <a class="code" href="../../df/d75/class_c_o_m_m_o_n___c_o_m_p_o_n_e_n_t.html#a04808745c1306c1e5abe418134f21c89">COMMON_COMPONENT::set_param_by_name</a>(std::string Name, std::string Value)
<a name="l00306"></a>00306 {
<a name="l00307"></a>00307   <span class="keywordflow">if</span> (<a class="code" href="../../df/d75/class_c_o_m_m_o_n___c_o_m_p_o_n_e_n_t.html#a50a205a4038267a641c08a6f2a99059c">has_parse_params_obsolete_callback</a>()) {<a class="code" href="../../d6/dda/io__trace_8h.html#aa6032a13c5f0621c16055ada1b7f47ad">untested</a>();
<a name="l00308"></a>00308     std::string args(Name + <span class="stringliteral">&quot;=&quot;</span> + Value);
<a name="l00309"></a>00309     <a class="code" href="../../db/d85/class_c_s.html">CS</a> cmd(<a class="code" href="../../db/d85/class_c_s.html#a76dbe76fb5837e42a38301a0feeb6d2dadea8dbbb049377b6bf40384c47996738">CS::_STRING</a>, args); <span class="comment">//obsolete_callback</span>
<a name="l00310"></a>00310     <span class="keywordtype">bool</span> ok = <a class="code" href="../../df/d75/class_c_o_m_m_o_n___c_o_m_p_o_n_e_n_t.html#a3f4dc62b8373b176284e0efce0549da4">parse_params_obsolete_callback</a>(cmd); <span class="comment">//BUG//callback</span>
<a name="l00311"></a>00311     <span class="keywordflow">if</span> (!ok) {<a class="code" href="../../d6/dda/io__trace_8h.html#aa6032a13c5f0621c16055ada1b7f47ad">untested</a>();
<a name="l00312"></a>00312       <span class="keywordflow">throw</span> Exception_No_Match(Name);
<a name="l00313"></a>00313     }<span class="keywordflow">else</span>{<a class="code" href="../../d6/dda/io__trace_8h.html#aa6032a13c5f0621c16055ada1b7f47ad">untested</a>();
<a name="l00314"></a>00314     }
<a name="l00315"></a>00315   }<span class="keywordflow">else</span>{
<a name="l00316"></a>00316     <span class="comment">//BUG// ugly linear search</span>
<a name="l00317"></a>00317     <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = <a class="code" href="../../df/d75/class_c_o_m_m_o_n___c_o_m_p_o_n_e_n_t.html#ace9dea066f927cfdef3984571e80661a">param_count</a>() - 1;  i &gt;= 0;  --i) {
<a name="l00318"></a>00318       <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j = 0;  <a class="code" href="../../df/d75/class_c_o_m_m_o_n___c_o_m_p_o_n_e_n_t.html#a307d0150f4c7d050bfd499e72d5b817a">param_name</a>(i,j) != <span class="stringliteral">&quot;&quot;</span>;  ++j) {
<a name="l00319"></a>00319         <span class="keywordflow">if</span> (<a class="code" href="../../dd/dfe/l__lib_8h.html#a8e8977e5f176127f0217507d3b196fe3">Umatch</a>(Name, <a class="code" href="../../df/d75/class_c_o_m_m_o_n___c_o_m_p_o_n_e_n_t.html#a307d0150f4c7d050bfd499e72d5b817a">param_name</a>(i,j) + <span class="charliteral">&#39; &#39;</span>)) {
<a name="l00320"></a>00320           <a class="code" href="../../df/d75/class_c_o_m_m_o_n___c_o_m_p_o_n_e_n_t.html#a18a3309af9e66586194f3580e5ccaa05">set_param_by_index</a>(i, Value, 0<span class="comment">/*offset*/</span>);
<a name="l00321"></a>00321           <span class="keywordflow">return</span>; <span class="comment">//success</span>
<a name="l00322"></a>00322         }<span class="keywordflow">else</span>{
<a name="l00323"></a>00323           <span class="comment">//keep looking</span>
<a name="l00324"></a>00324         }
<a name="l00325"></a>00325       }
<a name="l00326"></a>00326     }
<a name="l00327"></a>00327     <a class="code" href="../../d6/dda/io__trace_8h.html#ace44a3497980f17b256317ed0d54708f">itested</a>();
<a name="l00328"></a>00328     <span class="keywordflow">throw</span> Exception_No_Match(Name);
<a name="l00329"></a>00329   }
<a name="l00330"></a>00330 }
<a name="l00331"></a>00331 <span class="comment">/*--------------------------------------------------------------------------*/</span>
<a name="l00332"></a>00332 <span class="comment">//BUG// This is a kluge for the spice_wrapper, to disable virtual functions.</span>
<a name="l00333"></a>00333 <span class="comment">// It is called during expansion only.</span>
<a name="l00334"></a>00334 
<a name="l00335"></a><a class="code" href="../../df/d75/class_c_o_m_m_o_n___c_o_m_p_o_n_e_n_t.html#a5179e837b2f7fb790d01a714285eae3c">00335</a> <span class="keywordtype">void</span> <a class="code" href="../../df/d75/class_c_o_m_m_o_n___c_o_m_p_o_n_e_n_t.html#a5179e837b2f7fb790d01a714285eae3c">COMMON_COMPONENT::Set_param_by_name</a>(std::string Name, std::string Value)
<a name="l00336"></a>00336 {
<a name="l00337"></a>00337   assert(!<a class="code" href="../../df/d75/class_c_o_m_m_o_n___c_o_m_p_o_n_e_n_t.html#a50a205a4038267a641c08a6f2a99059c">has_parse_params_obsolete_callback</a>());
<a name="l00338"></a>00338   
<a name="l00339"></a>00339   <span class="comment">//BUG// ugly linear search</span>
<a name="l00340"></a>00340   <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = <a class="code" href="../../df/d75/class_c_o_m_m_o_n___c_o_m_p_o_n_e_n_t.html#ace9dea066f927cfdef3984571e80661a">COMMON_COMPONENT::param_count</a>() - 1;  i &gt;= 0;  --i) {
<a name="l00341"></a>00341     <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j = 0;  <a class="code" href="../../df/d75/class_c_o_m_m_o_n___c_o_m_p_o_n_e_n_t.html#a307d0150f4c7d050bfd499e72d5b817a">COMMON_COMPONENT::param_name</a>(i,j) != <span class="stringliteral">&quot;&quot;</span>;  ++j) {
<a name="l00342"></a>00342       <span class="keywordflow">if</span> (<a class="code" href="../../dd/dfe/l__lib_8h.html#a8e8977e5f176127f0217507d3b196fe3">Umatch</a>(Name, <a class="code" href="../../df/d75/class_c_o_m_m_o_n___c_o_m_p_o_n_e_n_t.html#a307d0150f4c7d050bfd499e72d5b817a">COMMON_COMPONENT::param_name</a>(i,j) + <span class="charliteral">&#39; &#39;</span>)) {
<a name="l00343"></a>00343         <a class="code" href="../../df/d75/class_c_o_m_m_o_n___c_o_m_p_o_n_e_n_t.html#a18a3309af9e66586194f3580e5ccaa05">COMMON_COMPONENT::set_param_by_index</a>(i, Value, 0<span class="comment">/*offset*/</span>);
<a name="l00344"></a>00344         <span class="keywordflow">return</span>; <span class="comment">//success</span>
<a name="l00345"></a>00345       }<span class="keywordflow">else</span>{
<a name="l00346"></a>00346         <span class="comment">//keep looking</span>
<a name="l00347"></a>00347       }
<a name="l00348"></a>00348     }
<a name="l00349"></a>00349   }
<a name="l00350"></a>00350   <span class="keywordflow">throw</span> Exception_No_Match(Name);
<a name="l00351"></a>00351 }
<a name="l00352"></a>00352 <span class="comment">/*--------------------------------------------------------------------------*/</span>
<a name="l00353"></a><a class="code" href="../../df/d75/class_c_o_m_m_o_n___c_o_m_p_o_n_e_n_t.html#a112fcd3f07b4b9f4cd91a91515b2b475">00353</a> <span class="keywordtype">bool</span> <a class="code" href="../../df/d75/class_c_o_m_m_o_n___c_o_m_p_o_n_e_n_t.html#a112fcd3f07b4b9f4cd91a91515b2b475">COMMON_COMPONENT::parse_numlist</a>(<a class="code" href="../../db/d85/class_c_s.html">CS</a>&amp;)
<a name="l00354"></a>00354 {
<a name="l00355"></a>00355   <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00356"></a>00356 }
<a name="l00357"></a>00357 <span class="comment">/*--------------------------------------------------------------------------*/</span>
<a name="l00358"></a><a class="code" href="../../df/d75/class_c_o_m_m_o_n___c_o_m_p_o_n_e_n_t.html#a3f4dc62b8373b176284e0efce0549da4">00358</a> <span class="keywordtype">bool</span> <a class="code" href="../../df/d75/class_c_o_m_m_o_n___c_o_m_p_o_n_e_n_t.html#a3f4dc62b8373b176284e0efce0549da4">COMMON_COMPONENT::parse_params_obsolete_callback</a>(<a class="code" href="../../db/d85/class_c_s.html">CS</a>&amp; cmd)
<a name="l00359"></a>00359 {
<a name="l00360"></a>00360   <span class="keywordflow">return</span> <a class="code" href="../../db/dfc/ap_8h.html#a9bb6e111888a72d32a092de5dd0a1728">ONE_OF</a>
<a name="l00361"></a>00361     || <a class="code" href="../../db/dfc/ap_8h.html#a3b8a9b7edd07ff07379ac7960d13afa4">Get</a>(cmd, <span class="stringliteral">&quot;tnom&quot;</span>,   &amp;<a class="code" href="../../df/d75/class_c_o_m_m_o_n___c_o_m_p_o_n_e_n_t.html#a4e377928289e781023612890e9a47512">_tnom_c</a>)
<a name="l00362"></a>00362     || <a class="code" href="../../db/dfc/ap_8h.html#a3b8a9b7edd07ff07379ac7960d13afa4">Get</a>(cmd, <span class="stringliteral">&quot;dtemp&quot;</span>,  &amp;<a class="code" href="../../df/d75/class_c_o_m_m_o_n___c_o_m_p_o_n_e_n_t.html#a6a3f3086d606d547e2085ee6e99e4bdb">_dtemp</a>)
<a name="l00363"></a>00363     || <a class="code" href="../../db/dfc/ap_8h.html#a3b8a9b7edd07ff07379ac7960d13afa4">Get</a>(cmd, <span class="stringliteral">&quot;temp&quot;</span>,   &amp;<a class="code" href="../../df/d75/class_c_o_m_m_o_n___c_o_m_p_o_n_e_n_t.html#a6fc9dac8164f076948714d0be1ddc36f">_temp_c</a>)
<a name="l00364"></a>00364     || <a class="code" href="../../db/dfc/ap_8h.html#a3b8a9b7edd07ff07379ac7960d13afa4">Get</a>(cmd, <span class="stringliteral">&quot;m&quot;</span>,      &amp;<a class="code" href="../../df/d75/class_c_o_m_m_o_n___c_o_m_p_o_n_e_n_t.html#a6394c196022fc3094787154d1923541f">_mfactor</a>)
<a name="l00365"></a>00365     || <a class="code" href="../../db/dfc/ap_8h.html#a3b8a9b7edd07ff07379ac7960d13afa4">Get</a>(cmd, <span class="stringliteral">&quot;mfactor&quot;</span>,&amp;<a class="code" href="../../df/d75/class_c_o_m_m_o_n___c_o_m_p_o_n_e_n_t.html#a6394c196022fc3094787154d1923541f">_mfactor</a>)
<a name="l00366"></a>00366     ;
<a name="l00367"></a>00367 }
<a name="l00368"></a>00368 <span class="comment">/*--------------------------------------------------------------------------*/</span>
<a name="l00369"></a>00369 <span class="comment">/*--------------------------------------------------------------------------*/</span>
<a name="l00370"></a><a class="code" href="../../d5/dce/class_c_o_m_p_o_n_e_n_t.html#acf56b5b20378563ed536498b93aab0d5">00370</a> <a class="code" href="../../d5/dce/class_c_o_m_p_o_n_e_n_t.html#acf56b5b20378563ed536498b93aab0d5">COMPONENT::COMPONENT</a>()
<a name="l00371"></a>00371   :<a class="code" href="../../dc/df7/class_c_a_r_d.html">CARD</a>(),
<a name="l00372"></a>00372    _common(0),
<a name="l00373"></a>00373    _value(0),
<a name="l00374"></a>00374    _mfactor(1),
<a name="l00375"></a>00375    _mfactor_fixed(<a class="code" href="../../dd/d17/constant_8h.html#a35c964936a92f1fbb6e91ccd7da5c4ae">NOT_VALID</a>),
<a name="l00376"></a>00376    _converged(false),
<a name="l00377"></a>00377    _q_for_eval(-1),
<a name="l00378"></a>00378    _time_by()
<a name="l00379"></a>00379 {
<a name="l00380"></a>00380   <a class="code" href="../../d3/d22/class_c_k_t___b_a_s_e.html#aee1030ed5a99aecd285c8af3aa2b37ef">_sim</a>-&gt;<a class="code" href="../../d7/db5/struct_s_i_m___d_a_t_a.html#a253cf0862d65ddde73b84f0c08232311">uninit</a>();
<a name="l00381"></a>00381 }
<a name="l00382"></a>00382 <span class="comment">/*--------------------------------------------------------------------------*/</span>
<a name="l00383"></a><a class="code" href="../../d5/dce/class_c_o_m_p_o_n_e_n_t.html#a127b102f5715aeb3a3b25e3ea5b6b21f">00383</a> <a class="code" href="../../d5/dce/class_c_o_m_p_o_n_e_n_t.html#acf56b5b20378563ed536498b93aab0d5">COMPONENT::COMPONENT</a>(<span class="keyword">const</span> <a class="code" href="../../d5/dce/class_c_o_m_p_o_n_e_n_t.html">COMPONENT</a>&amp; <a class="code" href="../../d5/d1c/namespaceanonymous__namespace_02c__genrat_8cc_03.html#a4efa6c9b62361333533768663f0ae0a1">p</a>)
<a name="l00384"></a>00384   :<a class="code" href="../../dc/df7/class_c_a_r_d.html">CARD</a>(p),
<a name="l00385"></a>00385    _common(0),
<a name="l00386"></a>00386    _value(p._value),
<a name="l00387"></a>00387    _mfactor(p._mfactor),
<a name="l00388"></a>00388    _mfactor_fixed(p._mfactor_fixed),
<a name="l00389"></a>00389    _converged(p._converged),
<a name="l00390"></a>00390    _q_for_eval(-1),
<a name="l00391"></a>00391    _time_by(p._time_by)
<a name="l00392"></a>00392 {
<a name="l00393"></a>00393   <a class="code" href="../../d3/d22/class_c_k_t___b_a_s_e.html#aee1030ed5a99aecd285c8af3aa2b37ef">_sim</a>-&gt;<a class="code" href="../../d7/db5/struct_s_i_m___d_a_t_a.html#a253cf0862d65ddde73b84f0c08232311">uninit</a>();
<a name="l00394"></a>00394   <a class="code" href="../../d5/dce/class_c_o_m_p_o_n_e_n_t.html#a5dc0824ae5bcea0628143f59a2c6eeda">attach_common</a>(p.<a class="code" href="../../d5/dce/class_c_o_m_p_o_n_e_n_t.html#a131d7c736146260dc6ade31f1a4f9cad">_common</a>);
<a name="l00395"></a>00395   assert(<a class="code" href="../../d5/dce/class_c_o_m_p_o_n_e_n_t.html#a131d7c736146260dc6ade31f1a4f9cad">_common</a> == p.<a class="code" href="../../d5/dce/class_c_o_m_p_o_n_e_n_t.html#a131d7c736146260dc6ade31f1a4f9cad">_common</a>);
<a name="l00396"></a>00396 }
<a name="l00397"></a>00397 <span class="comment">/*--------------------------------------------------------------------------*/</span>
<a name="l00398"></a><a class="code" href="../../d5/dce/class_c_o_m_p_o_n_e_n_t.html#afdfcc73ac8d951b3a03588ef4203fc86">00398</a> <a class="code" href="../../d5/dce/class_c_o_m_p_o_n_e_n_t.html#afdfcc73ac8d951b3a03588ef4203fc86">COMPONENT::~COMPONENT</a>()
<a name="l00399"></a>00399 {
<a name="l00400"></a>00400   <a class="code" href="../../d5/dce/class_c_o_m_p_o_n_e_n_t.html#abb1cbdffae44674a377d53e9deec6f7d">detach_common</a>();
<a name="l00401"></a>00401   <a class="code" href="../../d3/d22/class_c_k_t___b_a_s_e.html#aee1030ed5a99aecd285c8af3aa2b37ef">_sim</a>-&gt;<a class="code" href="../../d7/db5/struct_s_i_m___d_a_t_a.html#a253cf0862d65ddde73b84f0c08232311">uninit</a>();
<a name="l00402"></a>00402 }
<a name="l00403"></a>00403 <span class="comment">/*--------------------------------------------------------------------------*/</span>
<a name="l00404"></a><a class="code" href="../../d5/dce/class_c_o_m_p_o_n_e_n_t.html#a6ad9427770c7ee1f7c0cd22e8c71233c">00404</a> <span class="keywordtype">bool</span> <a class="code" href="../../d5/dce/class_c_o_m_p_o_n_e_n_t.html#a6ad9427770c7ee1f7c0cd22e8c71233c">COMPONENT::node_is_grounded</a>(<span class="keywordtype">int</span> i)<span class="keyword">const </span>
<a name="l00405"></a>00405 <span class="keyword"></span>{
<a name="l00406"></a>00406   assert(<a class="code" href="../../dc/df7/class_c_a_r_d.html#ac72d62d7197e7aa9e9554e05d422cb56">_n</a>);
<a name="l00407"></a>00407   assert(i &gt;= 0);
<a name="l00408"></a>00408   assert(i &lt; <a class="code" href="../../d5/dce/class_c_o_m_p_o_n_e_n_t.html#a79bcbb4581979400f2d841311ebf2984">net_nodes</a>());
<a name="l00409"></a>00409   <span class="keywordflow">return</span> <a class="code" href="../../dc/df7/class_c_a_r_d.html#ac72d62d7197e7aa9e9554e05d422cb56">_n</a>[i].<a class="code" href="../../d7/ded/classnode__t.html#aaccc963121d039fe4755ff86444d209a">is_grounded</a>();
<a name="l00410"></a>00410 }
<a name="l00411"></a>00411 <span class="comment">/*--------------------------------------------------------------------------*/</span>
<a name="l00412"></a><a class="code" href="../../d5/dce/class_c_o_m_p_o_n_e_n_t.html#a2745ded67054f066a3da59d5316fb929">00412</a> <span class="keywordtype">bool</span> <a class="code" href="../../d5/dce/class_c_o_m_p_o_n_e_n_t.html#a2745ded67054f066a3da59d5316fb929">COMPONENT::node_is_connected</a>(<span class="keywordtype">int</span> i)<span class="keyword">const </span>
<a name="l00413"></a>00413 <span class="keyword"></span>{
<a name="l00414"></a>00414   assert(<a class="code" href="../../dc/df7/class_c_a_r_d.html#ac72d62d7197e7aa9e9554e05d422cb56">_n</a>);
<a name="l00415"></a>00415   assert(i &gt;= 0);
<a name="l00416"></a>00416   assert(i &lt; <a class="code" href="../../d5/dce/class_c_o_m_p_o_n_e_n_t.html#a79bcbb4581979400f2d841311ebf2984">net_nodes</a>());
<a name="l00417"></a>00417   <span class="keywordflow">return</span> <a class="code" href="../../dc/df7/class_c_a_r_d.html#ac72d62d7197e7aa9e9554e05d422cb56">_n</a>[i].<a class="code" href="../../d7/ded/classnode__t.html#aee9471e7ac7447eceea314151dc5dc66">is_connected</a>();
<a name="l00418"></a>00418 }
<a name="l00419"></a>00419 <span class="comment">/*--------------------------------------------------------------------------*/</span>
<a name="l00420"></a><a class="code" href="../../d5/dce/class_c_o_m_p_o_n_e_n_t.html#aee56d4d52d94838f6f82f887439a971c">00420</a> <span class="keywordtype">void</span> <a class="code" href="../../d5/dce/class_c_o_m_p_o_n_e_n_t.html#aee56d4d52d94838f6f82f887439a971c">COMPONENT::set_port_by_name</a>(std::string&amp; int_name, std::string&amp; ext_name)
<a name="l00421"></a>00421 {<a class="code" href="../../d6/dda/io__trace_8h.html#ace44a3497980f17b256317ed0d54708f">itested</a>();
<a name="l00422"></a>00422   <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;<a class="code" href="../../d5/dce/class_c_o_m_p_o_n_e_n_t.html#a7276b0d0191c93e57c277d3764a9c363">max_nodes</a>(); ++i) {<a class="code" href="../../d6/dda/io__trace_8h.html#ace44a3497980f17b256317ed0d54708f">itested</a>();
<a name="l00423"></a>00423     <span class="keywordflow">if</span> (int_name == <a class="code" href="../../d5/dce/class_c_o_m_p_o_n_e_n_t.html#a3001da93d25364512988cb47ba2254bd">port_name</a>(i)) {<a class="code" href="../../d6/dda/io__trace_8h.html#ace44a3497980f17b256317ed0d54708f">itested</a>();
<a name="l00424"></a>00424       <a class="code" href="../../d5/dce/class_c_o_m_p_o_n_e_n_t.html#a1ab95c30a66cd7a397b15c5f13861fd0">set_port_by_index</a>(i, ext_name);
<a name="l00425"></a>00425       <span class="keywordflow">return</span>;
<a name="l00426"></a>00426     }<span class="keywordflow">else</span>{<a class="code" href="../../d6/dda/io__trace_8h.html#ace44a3497980f17b256317ed0d54708f">itested</a>();
<a name="l00427"></a>00427     }
<a name="l00428"></a>00428   }
<a name="l00429"></a>00429   <a class="code" href="../../d6/dda/io__trace_8h.html#aa6032a13c5f0621c16055ada1b7f47ad">untested</a>();
<a name="l00430"></a>00430   <span class="keywordflow">throw</span> Exception_No_Match(int_name);
<a name="l00431"></a>00431 }
<a name="l00432"></a>00432 <span class="comment">/*--------------------------------------------------------------------------*/</span>
<a name="l00433"></a><a class="code" href="../../d5/dce/class_c_o_m_p_o_n_e_n_t.html#a1ab95c30a66cd7a397b15c5f13861fd0">00433</a> <span class="keywordtype">void</span> <a class="code" href="../../d5/dce/class_c_o_m_p_o_n_e_n_t.html#a1ab95c30a66cd7a397b15c5f13861fd0">COMPONENT::set_port_by_index</a>(<span class="keywordtype">int</span> num, std::string&amp; ext_name)
<a name="l00434"></a>00434 {
<a name="l00435"></a>00435   <span class="keywordflow">if</span> (num &lt;= <a class="code" href="../../d5/dce/class_c_o_m_p_o_n_e_n_t.html#a7276b0d0191c93e57c277d3764a9c363">max_nodes</a>()) {
<a name="l00436"></a>00436     <a class="code" href="../../dc/df7/class_c_a_r_d.html#ac72d62d7197e7aa9e9554e05d422cb56">_n</a>[num].<a class="code" href="../../d7/ded/classnode__t.html#a71ea92c93d9bb2ad7f44a15d59255e2b">new_node</a>(ext_name, <span class="keyword">this</span>);
<a name="l00437"></a>00437     <span class="keywordflow">if</span> (num+1 &gt; <a class="code" href="../../dc/df7/class_c_a_r_d.html#a8224c77d22399caa23ce0e8fe67c1027">_net_nodes</a>) {
<a name="l00438"></a>00438       <span class="comment">// make the list bigger</span>
<a name="l00439"></a>00439       <a class="code" href="../../dc/df7/class_c_a_r_d.html#a8224c77d22399caa23ce0e8fe67c1027">_net_nodes</a> = num+1;
<a name="l00440"></a>00440     }<span class="keywordflow">else</span>{<a class="code" href="../../d6/dda/io__trace_8h.html#ace44a3497980f17b256317ed0d54708f">itested</a>();
<a name="l00441"></a>00441       <span class="comment">// it&#39;s already big enough, probably assigning out of order</span>
<a name="l00442"></a>00442     }
<a name="l00443"></a>00443   }<span class="keywordflow">else</span>{<a class="code" href="../../d6/dda/io__trace_8h.html#aa6032a13c5f0621c16055ada1b7f47ad">untested</a>();
<a name="l00444"></a>00444     <span class="keywordflow">throw</span> Exception_Too_Many(num, <a class="code" href="../../d5/dce/class_c_o_m_p_o_n_e_n_t.html#a7276b0d0191c93e57c277d3764a9c363">max_nodes</a>(), 0<span class="comment">/*offset*/</span>);
<a name="l00445"></a>00445   }
<a name="l00446"></a>00446 }
<a name="l00447"></a>00447 <span class="comment">/*--------------------------------------------------------------------------*/</span>
<a name="l00448"></a><a class="code" href="../../d5/dce/class_c_o_m_p_o_n_e_n_t.html#a9ddb04a1f5b566267007f4facff7c7a3">00448</a> <span class="keywordtype">void</span> <a class="code" href="../../d5/dce/class_c_o_m_p_o_n_e_n_t.html#a9ddb04a1f5b566267007f4facff7c7a3">COMPONENT::set_port_to_ground</a>(<span class="keywordtype">int</span> num)
<a name="l00449"></a>00449 {<a class="code" href="../../d6/dda/io__trace_8h.html#aa6032a13c5f0621c16055ada1b7f47ad">untested</a>();
<a name="l00450"></a>00450   <span class="keywordflow">if</span> (num &lt;= <a class="code" href="../../d5/dce/class_c_o_m_p_o_n_e_n_t.html#a7276b0d0191c93e57c277d3764a9c363">max_nodes</a>()) {<a class="code" href="../../d6/dda/io__trace_8h.html#aa6032a13c5f0621c16055ada1b7f47ad">untested</a>();
<a name="l00451"></a>00451     <a class="code" href="../../dc/df7/class_c_a_r_d.html#ac72d62d7197e7aa9e9554e05d422cb56">_n</a>[num].<a class="code" href="../../d7/ded/classnode__t.html#a84bb233a40232d370fedcd3f0fd7e001">set_to_ground</a>(<span class="keyword">this</span>);
<a name="l00452"></a>00452     <span class="keywordflow">if</span> (num+1 &gt; <a class="code" href="../../dc/df7/class_c_a_r_d.html#a8224c77d22399caa23ce0e8fe67c1027">_net_nodes</a>) {<a class="code" href="../../d6/dda/io__trace_8h.html#aa6032a13c5f0621c16055ada1b7f47ad">untested</a>();
<a name="l00453"></a>00453       <a class="code" href="../../dc/df7/class_c_a_r_d.html#a8224c77d22399caa23ce0e8fe67c1027">_net_nodes</a> = num+1;
<a name="l00454"></a>00454     }<span class="keywordflow">else</span>{<a class="code" href="../../d6/dda/io__trace_8h.html#aa6032a13c5f0621c16055ada1b7f47ad">untested</a>();
<a name="l00455"></a>00455     }
<a name="l00456"></a>00456   }<span class="keywordflow">else</span>{<a class="code" href="../../d6/dda/io__trace_8h.html#aa6032a13c5f0621c16055ada1b7f47ad">untested</a>();
<a name="l00457"></a>00457     <span class="keywordflow">throw</span> Exception_Too_Many(num, <a class="code" href="../../d5/dce/class_c_o_m_p_o_n_e_n_t.html#a7276b0d0191c93e57c277d3764a9c363">max_nodes</a>(), 0<span class="comment">/*offset*/</span>);
<a name="l00458"></a>00458   }
<a name="l00459"></a>00459 }
<a name="l00460"></a>00460 <span class="comment">/*--------------------------------------------------------------------------*/</span>
<a name="l00461"></a><a class="code" href="../../d5/dce/class_c_o_m_p_o_n_e_n_t.html#a195b069e0458b534f4a7e1258e752332">00461</a> <span class="keywordtype">void</span> <a class="code" href="../../d5/dce/class_c_o_m_p_o_n_e_n_t.html#a195b069e0458b534f4a7e1258e752332">COMPONENT::set_dev_type</a>(<span class="keyword">const</span> std::string&amp; new_type)
<a name="l00462"></a>00462 {
<a name="l00463"></a>00463   <span class="keywordflow">if</span> (<a class="code" href="../../d5/dce/class_c_o_m_p_o_n_e_n_t.html#a9a570d04b321ac4b80b6348e88a057cf">common</a>()) {
<a name="l00464"></a>00464     <span class="keywordflow">if</span> (new_type != <a class="code" href="../../dc/df7/class_c_a_r_d.html#a5604e0c14c4bcc8ff9fbf418b4c8d40d">dev_type</a>()) {
<a name="l00465"></a>00465       <a class="code" href="../../df/d75/class_c_o_m_m_o_n___c_o_m_p_o_n_e_n_t.html">COMMON_COMPONENT</a>* c = <a class="code" href="../../d5/dce/class_c_o_m_p_o_n_e_n_t.html#a9a570d04b321ac4b80b6348e88a057cf">common</a>()-&gt;<a class="code" href="../../df/d75/class_c_o_m_m_o_n___c_o_m_p_o_n_e_n_t.html#a91d3a1cbdbf8a9cdfc39cb1baf5297ad">clone</a>();
<a name="l00466"></a>00466       assert(c);
<a name="l00467"></a>00467       c-&gt;<a class="code" href="../../df/d75/class_c_o_m_m_o_n___c_o_m_p_o_n_e_n_t.html#a57f145bf841ff0cd18fc9552a7b798ab">set_modelname</a>(new_type);
<a name="l00468"></a>00468       <a class="code" href="../../d5/dce/class_c_o_m_p_o_n_e_n_t.html#a5dc0824ae5bcea0628143f59a2c6eeda">attach_common</a>(c);
<a name="l00469"></a>00469     }<span class="keywordflow">else</span>{
<a name="l00470"></a>00470     }
<a name="l00471"></a>00471   }<span class="keywordflow">else</span>{
<a name="l00472"></a>00472     <a class="code" href="../../d5/dce/class_c_o_m_p_o_n_e_n_t.html#a195b069e0458b534f4a7e1258e752332">CARD::set_dev_type</a>(new_type);
<a name="l00473"></a>00473   }
<a name="l00474"></a>00474 }
<a name="l00475"></a>00475 <span class="comment">/*--------------------------------------------------------------------------*/</span>
<a name="l00476"></a><a class="code" href="../../d5/dce/class_c_o_m_p_o_n_e_n_t.html#ad25f91066942a482fd8d2aeca4454eda">00476</a> <span class="keywordtype">void</span> <a class="code" href="../../d5/dce/class_c_o_m_p_o_n_e_n_t.html#ad25f91066942a482fd8d2aeca4454eda">COMPONENT::print_args_obsolete_callback</a>(<a class="code" href="../../dc/d18/class_o_m_s_t_r_e_a_m.html">OMSTREAM</a>&amp; o, <a class="code" href="../../d8/d92/class_l_a_n_g_u_a_g_e.html">LANGUAGE</a>* lang)<span class="keyword">const</span>
<a name="l00477"></a>00477 <span class="keyword"></span>{
<a name="l00478"></a>00478   assert(lang);
<a name="l00479"></a>00479   assert(<a class="code" href="../../d5/dce/class_c_o_m_p_o_n_e_n_t.html#a60bc591bebd3b2b51f81aaa2f7249f2b">has_common</a>());
<a name="l00480"></a>00480   <a class="code" href="../../d5/dce/class_c_o_m_p_o_n_e_n_t.html#a9a570d04b321ac4b80b6348e88a057cf">common</a>()-&gt;<a class="code" href="../../df/d75/class_c_o_m_m_o_n___c_o_m_p_o_n_e_n_t.html#a3d600830d758921b8c60c96e08bd6526">print_common_obsolete_callback</a>(o, lang);
<a name="l00481"></a>00481 }
<a name="l00482"></a>00482 <span class="comment">/*--------------------------------------------------------------------------*/</span>
<a name="l00483"></a><a class="code" href="../../d5/dce/class_c_o_m_p_o_n_e_n_t.html#a8895b218eb98c9e06379cc93517a9e90">00483</a> <span class="keywordtype">void</span> <a class="code" href="../../d5/dce/class_c_o_m_p_o_n_e_n_t.html#a8895b218eb98c9e06379cc93517a9e90">COMPONENT::deflate_common</a>()
<a name="l00484"></a>00484 {<a class="code" href="../../d6/dda/io__trace_8h.html#aa6032a13c5f0621c16055ada1b7f47ad">untested</a>();
<a name="l00485"></a>00485   <a class="code" href="../../d6/dda/io__trace_8h.html#a86d08c1b23d67eca942da0ac012d89f3">unreachable</a>();
<a name="l00486"></a>00486   <span class="keywordflow">if</span> (<a class="code" href="../../d5/dce/class_c_o_m_p_o_n_e_n_t.html#a60bc591bebd3b2b51f81aaa2f7249f2b">has_common</a>()) {<a class="code" href="../../d6/dda/io__trace_8h.html#aa6032a13c5f0621c16055ada1b7f47ad">untested</a>();
<a name="l00487"></a>00487     <a class="code" href="../../df/d75/class_c_o_m_m_o_n___c_o_m_p_o_n_e_n_t.html">COMMON_COMPONENT</a>* deflated_common = <a class="code" href="../../d5/dce/class_c_o_m_p_o_n_e_n_t.html#ad8208a662c92ff7162d902150af6e46c">mutable_common</a>()-&gt;<a class="code" href="../../df/d75/class_c_o_m_m_o_n___c_o_m_p_o_n_e_n_t.html#af53c7d8bd30a9e78bee139cddc35875e">deflate</a>();
<a name="l00488"></a>00488     <span class="keywordflow">if</span> (deflated_common != <a class="code" href="../../d5/dce/class_c_o_m_p_o_n_e_n_t.html#a9a570d04b321ac4b80b6348e88a057cf">common</a>()) {<a class="code" href="../../d6/dda/io__trace_8h.html#aa6032a13c5f0621c16055ada1b7f47ad">untested</a>();
<a name="l00489"></a>00489       <a class="code" href="../../d5/dce/class_c_o_m_p_o_n_e_n_t.html#a5dc0824ae5bcea0628143f59a2c6eeda">attach_common</a>(deflated_common);
<a name="l00490"></a>00490     }<span class="keywordflow">else</span>{<a class="code" href="../../d6/dda/io__trace_8h.html#aa6032a13c5f0621c16055ada1b7f47ad">untested</a>();
<a name="l00491"></a>00491     }
<a name="l00492"></a>00492   }<span class="keywordflow">else</span>{<a class="code" href="../../d6/dda/io__trace_8h.html#aa6032a13c5f0621c16055ada1b7f47ad">untested</a>();
<a name="l00493"></a>00493     <a class="code" href="../../d6/dda/io__trace_8h.html#a86d08c1b23d67eca942da0ac012d89f3">unreachable</a>();
<a name="l00494"></a>00494   }
<a name="l00495"></a>00495 }
<a name="l00496"></a>00496 <span class="comment">/*--------------------------------------------------------------------------*/</span>
<a name="l00497"></a><a class="code" href="../../d5/dce/class_c_o_m_p_o_n_e_n_t.html#a5785c6706ead9455331bbbf93d7f6070">00497</a> <span class="keywordtype">void</span> <a class="code" href="../../d5/dce/class_c_o_m_p_o_n_e_n_t.html#a5785c6706ead9455331bbbf93d7f6070">COMPONENT::expand</a>()
<a name="l00498"></a>00498 {
<a name="l00499"></a>00499   <a class="code" href="../../d5/dce/class_c_o_m_p_o_n_e_n_t.html#a5785c6706ead9455331bbbf93d7f6070">CARD::expand</a>();
<a name="l00500"></a>00500   <span class="keywordflow">if</span> (<a class="code" href="../../d5/dce/class_c_o_m_p_o_n_e_n_t.html#a60bc591bebd3b2b51f81aaa2f7249f2b">has_common</a>()) {
<a name="l00501"></a>00501     <a class="code" href="../../df/d75/class_c_o_m_m_o_n___c_o_m_p_o_n_e_n_t.html">COMMON_COMPONENT</a>* new_common = <a class="code" href="../../d5/dce/class_c_o_m_p_o_n_e_n_t.html#a9a570d04b321ac4b80b6348e88a057cf">common</a>()-&gt;<a class="code" href="../../df/d75/class_c_o_m_m_o_n___c_o_m_p_o_n_e_n_t.html#a91d3a1cbdbf8a9cdfc39cb1baf5297ad">clone</a>();
<a name="l00502"></a>00502     new_common-&gt;<a class="code" href="../../df/d75/class_c_o_m_m_o_n___c_o_m_p_o_n_e_n_t.html#ab07ad55c7df46dc9714a285a9bbcd526">expand</a>(<span class="keyword">this</span>);
<a name="l00503"></a>00503     <a class="code" href="../../df/d75/class_c_o_m_m_o_n___c_o_m_p_o_n_e_n_t.html">COMMON_COMPONENT</a>* deflated_common = new_common-&gt;<a class="code" href="../../df/d75/class_c_o_m_m_o_n___c_o_m_p_o_n_e_n_t.html#af53c7d8bd30a9e78bee139cddc35875e">deflate</a>();
<a name="l00504"></a>00504     <span class="keywordflow">if</span> (deflated_common != <a class="code" href="../../d5/dce/class_c_o_m_p_o_n_e_n_t.html#a9a570d04b321ac4b80b6348e88a057cf">common</a>()) {
<a name="l00505"></a>00505       <a class="code" href="../../d5/dce/class_c_o_m_p_o_n_e_n_t.html#a5dc0824ae5bcea0628143f59a2c6eeda">attach_common</a>(deflated_common);
<a name="l00506"></a>00506     }<span class="keywordflow">else</span>{<a class="code" href="../../d6/dda/io__trace_8h.html#aa6032a13c5f0621c16055ada1b7f47ad">untested</a>();
<a name="l00507"></a>00507     }
<a name="l00508"></a>00508   }<span class="keywordflow">else</span>{
<a name="l00509"></a>00509   }
<a name="l00510"></a>00510 }
<a name="l00511"></a>00511 <span class="comment">/*--------------------------------------------------------------------------*/</span>
<a name="l00512"></a><a class="code" href="../../d5/dce/class_c_o_m_p_o_n_e_n_t.html#a748deea29eff77e5e52dfbdff894be69">00512</a> <span class="keywordtype">void</span> <a class="code" href="../../d5/dce/class_c_o_m_p_o_n_e_n_t.html#a748deea29eff77e5e52dfbdff894be69">COMPONENT::precalc_first</a>()
<a name="l00513"></a>00513 {
<a name="l00514"></a>00514   <a class="code" href="../../d5/dce/class_c_o_m_p_o_n_e_n_t.html#a748deea29eff77e5e52dfbdff894be69">CARD::precalc_first</a>();
<a name="l00515"></a>00515   <span class="keywordflow">if</span> (<a class="code" href="../../d5/dce/class_c_o_m_p_o_n_e_n_t.html#a60bc591bebd3b2b51f81aaa2f7249f2b">has_common</a>()) {
<a name="l00516"></a>00516     <span class="keywordflow">try</span> {
<a name="l00517"></a>00517       <a class="code" href="../../d5/dce/class_c_o_m_p_o_n_e_n_t.html#ad8208a662c92ff7162d902150af6e46c">mutable_common</a>()-&gt;<a class="code" href="../../df/d75/class_c_o_m_m_o_n___c_o_m_p_o_n_e_n_t.html#a01b25b7ef051fa554373a08faa0935bf">precalc_first</a>(<a class="code" href="../../dc/df7/class_c_a_r_d.html#aa42395d871220881dee53dcc022b8417">scope</a>());
<a name="l00518"></a>00518     }<span class="keywordflow">catch</span> (<a class="code" href="../../db/de6/struct_exception___precalc.html">Exception_Precalc</a>&amp; e) {
<a name="l00519"></a>00519       <a class="code" href="../../d6/de9/io__error_8cc.html#a153585440ba2fdf0696b0085d19a4a7f">error</a>(bWARNING, <a class="code" href="../../dc/df7/class_c_a_r_d.html#a2b81b4c28056adc678b21ff34a756913">long_label</a>() + <span class="stringliteral">&quot;: &quot;</span> + e.message());
<a name="l00520"></a>00520     }
<a name="l00521"></a>00521     <a class="code" href="../../d5/dce/class_c_o_m_p_o_n_e_n_t.html#a7dd2704a374ae8e5b1895850a4c4a854">_mfactor</a> = <a class="code" href="../../d5/dce/class_c_o_m_p_o_n_e_n_t.html#a9a570d04b321ac4b80b6348e88a057cf">common</a>()-&gt;<a class="code" href="../../df/d75/class_c_o_m_m_o_n___c_o_m_p_o_n_e_n_t.html#a8857f69d0374c289c3416755ac0fe767">mfactor</a>();
<a name="l00522"></a>00522   }<span class="keywordflow">else</span>{
<a name="l00523"></a>00523   }
<a name="l00524"></a>00524   
<a name="l00525"></a>00525   <a class="code" href="../../d5/dce/class_c_o_m_p_o_n_e_n_t.html#a7dd2704a374ae8e5b1895850a4c4a854">_mfactor</a>.<a class="code" href="../../d4/dd4/class_p_a_r_a_m_e_t_e_r.html#a3b0c248134850574e1b9544e02510f8b">e_val</a>(1, <a class="code" href="../../dc/df7/class_c_a_r_d.html#aa42395d871220881dee53dcc022b8417">scope</a>());
<a name="l00526"></a>00526   <a class="code" href="../../d5/dce/class_c_o_m_p_o_n_e_n_t.html#a46c106fa0540ae0e7b1bac0870c636e7">_value</a>.<a class="code" href="../../d4/dd4/class_p_a_r_a_m_e_t_e_r.html#a3b0c248134850574e1b9544e02510f8b">e_val</a>(0.,<a class="code" href="../../dc/df7/class_c_a_r_d.html#aa42395d871220881dee53dcc022b8417">scope</a>());
<a name="l00527"></a>00527   <a class="code" href="../../d6/dda/io__trace_8h.html#ae2d2dafbc0bd5b008dbcab4a4f2e2706">trace1</a>(<a class="code" href="../../dc/df7/class_c_a_r_d.html#a2b81b4c28056adc678b21ff34a756913">long_label</a>().c_str(), <span class="keywordtype">double</span>(<a class="code" href="../../d5/dce/class_c_o_m_p_o_n_e_n_t.html#a7dd2704a374ae8e5b1895850a4c4a854">_mfactor</a>));
<a name="l00528"></a>00528   <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="../../d5/dce/class_c_o_m_p_o_n_e_n_t.html">COMPONENT</a>* o = prechecked_cast&lt;const COMPONENT*&gt;(<a class="code" href="../../dc/df7/class_c_a_r_d.html#a90030b0a7d13b3625ffeceb50ea016ee">owner</a>())) {
<a name="l00529"></a>00529     <a class="code" href="../../d5/dce/class_c_o_m_p_o_n_e_n_t.html#a036e338d9b2735d51a13fa5c828720fb">_mfactor_fixed</a> = o-&gt;mfactor() * <a class="code" href="../../d5/dce/class_c_o_m_p_o_n_e_n_t.html#a7dd2704a374ae8e5b1895850a4c4a854">_mfactor</a>;
<a name="l00530"></a>00530   }<span class="keywordflow">else</span>{
<a name="l00531"></a>00531     <a class="code" href="../../d5/dce/class_c_o_m_p_o_n_e_n_t.html#a036e338d9b2735d51a13fa5c828720fb">_mfactor_fixed</a> =  <a class="code" href="../../d5/dce/class_c_o_m_p_o_n_e_n_t.html#a7dd2704a374ae8e5b1895850a4c4a854">_mfactor</a>;
<a name="l00532"></a>00532   } 
<a name="l00533"></a>00533   <a class="code" href="../../d6/dda/io__trace_8h.html#ae2d2dafbc0bd5b008dbcab4a4f2e2706">trace1</a>(<a class="code" href="../../dc/df7/class_c_a_r_d.html#a2b81b4c28056adc678b21ff34a756913">long_label</a>().c_str(), <a class="code" href="../../d5/dce/class_c_o_m_p_o_n_e_n_t.html#a036e338d9b2735d51a13fa5c828720fb">_mfactor_fixed</a>);
<a name="l00534"></a>00534 }
<a name="l00535"></a>00535 <span class="comment">/*--------------------------------------------------------------------------*/</span>
<a name="l00536"></a><a class="code" href="../../d5/dce/class_c_o_m_p_o_n_e_n_t.html#a91e648c8caf80e31aee44debe8dc90d7">00536</a> <span class="keywordtype">void</span> <a class="code" href="../../d5/dce/class_c_o_m_p_o_n_e_n_t.html#a91e648c8caf80e31aee44debe8dc90d7">COMPONENT::precalc_last</a>()
<a name="l00537"></a>00537 {
<a name="l00538"></a>00538   <a class="code" href="../../d5/dce/class_c_o_m_p_o_n_e_n_t.html#a91e648c8caf80e31aee44debe8dc90d7">CARD::precalc_last</a>();
<a name="l00539"></a>00539   <span class="keywordflow">if</span> (<a class="code" href="../../d5/dce/class_c_o_m_p_o_n_e_n_t.html#a60bc591bebd3b2b51f81aaa2f7249f2b">has_common</a>()) {
<a name="l00540"></a>00540     <span class="keywordflow">try</span> {
<a name="l00541"></a>00541       <a class="code" href="../../d5/dce/class_c_o_m_p_o_n_e_n_t.html#ad8208a662c92ff7162d902150af6e46c">mutable_common</a>()-&gt;<a class="code" href="../../df/d75/class_c_o_m_m_o_n___c_o_m_p_o_n_e_n_t.html#ace0396dbe4a5f48f2e3eb96de6b05032">precalc_last</a>(<a class="code" href="../../dc/df7/class_c_a_r_d.html#aa42395d871220881dee53dcc022b8417">scope</a>());
<a name="l00542"></a>00542     }<span class="keywordflow">catch</span> (<a class="code" href="../../db/de6/struct_exception___precalc.html">Exception_Precalc</a>&amp; e) {
<a name="l00543"></a>00543       <a class="code" href="../../d6/de9/io__error_8cc.html#a153585440ba2fdf0696b0085d19a4a7f">error</a>(bWARNING, <a class="code" href="../../dc/df7/class_c_a_r_d.html#a2b81b4c28056adc678b21ff34a756913">long_label</a>() + <span class="stringliteral">&quot;: &quot;</span> + e.message());
<a name="l00544"></a>00544     }
<a name="l00545"></a>00545   }<span class="keywordflow">else</span>{
<a name="l00546"></a>00546   }
<a name="l00547"></a>00547 }
<a name="l00548"></a>00548 <span class="comment">/*--------------------------------------------------------------------------*/</span>
<a name="l00549"></a><a class="code" href="../../d5/dce/class_c_o_m_p_o_n_e_n_t.html#af120172cb3d569712ec8bf3bf372a014">00549</a> <span class="keywordtype">void</span> <a class="code" href="../../d5/dce/class_c_o_m_p_o_n_e_n_t.html#af120172cb3d569712ec8bf3bf372a014">COMPONENT::map_nodes</a>()
<a name="l00550"></a>00550 {
<a name="l00551"></a>00551   assert(<a class="code" href="../../d5/dce/class_c_o_m_p_o_n_e_n_t.html#a99415925bfcfa371929f4c4406b60683">is_device</a>());
<a name="l00552"></a>00552   assert(0 &lt;= <a class="code" href="../../d5/dce/class_c_o_m_p_o_n_e_n_t.html#a8a32f18ee80582385cf30d457853bc56">min_nodes</a>());
<a name="l00553"></a>00553   <span class="comment">//assert(min_nodes() &lt;= net_nodes());</span>
<a name="l00554"></a>00554   assert(<a class="code" href="../../d5/dce/class_c_o_m_p_o_n_e_n_t.html#a79bcbb4581979400f2d841311ebf2984">net_nodes</a>() &lt;= <a class="code" href="../../d5/dce/class_c_o_m_p_o_n_e_n_t.html#a7276b0d0191c93e57c277d3764a9c363">max_nodes</a>());
<a name="l00555"></a>00555   <span class="comment">//assert(ext_nodes() + int_nodes() == matrix_nodes());</span>
<a name="l00556"></a>00556 
<a name="l00557"></a>00557   <span class="keywordflow">for</span> (<span class="keywordtype">int</span> ii = 0; ii &lt; <a class="code" href="../../d5/dce/class_c_o_m_p_o_n_e_n_t.html#a6d782ac652f352a718662ce4d57c5f1b">ext_nodes</a>()+<a class="code" href="../../d5/dce/class_c_o_m_p_o_n_e_n_t.html#a51fb0eefa56e3da3ac0aea7397782f25">int_nodes</a>(); ++ii) {
<a name="l00558"></a>00558     <a class="code" href="../../dc/df7/class_c_a_r_d.html#ac72d62d7197e7aa9e9554e05d422cb56">_n</a>[ii].<a class="code" href="../../d7/ded/classnode__t.html#af9feb9024f7dbf8fce6434a84ff546b5">map</a>();
<a name="l00559"></a>00559   }
<a name="l00560"></a>00560 
<a name="l00561"></a>00561   <span class="keywordflow">if</span> (<a class="code" href="../../dc/df7/class_c_a_r_d.html#ab97144cf661970fe592fb73c0b104967">subckt</a>()) {
<a name="l00562"></a>00562     <a class="code" href="../../dc/df7/class_c_a_r_d.html#ab97144cf661970fe592fb73c0b104967">subckt</a>()-&gt;<a class="code" href="../../d4/df4/class_c_a_r_d___l_i_s_t.html#a6be0757c43cc42e9dba8f939b6d85f5a">map_nodes</a>();
<a name="l00563"></a>00563   }<span class="keywordflow">else</span>{
<a name="l00564"></a>00564   }
<a name="l00565"></a>00565 }
<a name="l00566"></a>00566 <span class="comment">/*--------------------------------------------------------------------------*/</span>
<a name="l00567"></a><a class="code" href="../../d5/dce/class_c_o_m_p_o_n_e_n_t.html#acb8245ac16c3b6728ae79302e809010b">00567</a> <span class="keywordtype">void</span> <a class="code" href="../../d5/dce/class_c_o_m_p_o_n_e_n_t.html#acb8245ac16c3b6728ae79302e809010b">COMPONENT::tr_iwant_matrix</a>()
<a name="l00568"></a>00568 {
<a name="l00569"></a>00569   <span class="keywordflow">if</span> (<a class="code" href="../../d5/dce/class_c_o_m_p_o_n_e_n_t.html#a99415925bfcfa371929f4c4406b60683">is_device</a>()) {
<a name="l00570"></a>00570     assert(<a class="code" href="../../d5/dce/class_c_o_m_p_o_n_e_n_t.html#aae54432ae625b53e982eb135392b1f45">matrix_nodes</a>() == 0);
<a name="l00571"></a>00571     <span class="keywordflow">if</span> (<a class="code" href="../../dc/df7/class_c_a_r_d.html#ab97144cf661970fe592fb73c0b104967">subckt</a>()) {
<a name="l00572"></a>00572       <a class="code" href="../../dc/df7/class_c_a_r_d.html#ab97144cf661970fe592fb73c0b104967">subckt</a>()-&gt;<a class="code" href="../../d4/df4/class_c_a_r_d___l_i_s_t.html#a40329bcdfb5da3a23fb619fb61e1b421">tr_iwant_matrix</a>();
<a name="l00573"></a>00573     }<span class="keywordflow">else</span>{<a class="code" href="../../d6/dda/io__trace_8h.html#aa6032a13c5f0621c16055ada1b7f47ad">untested</a>();
<a name="l00574"></a>00574     }
<a name="l00575"></a>00575   }<span class="keywordflow">else</span>{
<a name="l00576"></a>00576   }
<a name="l00577"></a>00577 }
<a name="l00578"></a>00578 <span class="comment">/*--------------------------------------------------------------------------*/</span>
<a name="l00579"></a><a class="code" href="../../d5/dce/class_c_o_m_p_o_n_e_n_t.html#a05986d77d576e6cc371ef2792291fbcf">00579</a> <span class="keywordtype">void</span> <a class="code" href="../../d5/dce/class_c_o_m_p_o_n_e_n_t.html#a05986d77d576e6cc371ef2792291fbcf">COMPONENT::ac_iwant_matrix</a>()
<a name="l00580"></a>00580 {
<a name="l00581"></a>00581   <span class="keywordflow">if</span> (<a class="code" href="../../d5/dce/class_c_o_m_p_o_n_e_n_t.html#a99415925bfcfa371929f4c4406b60683">is_device</a>()) {
<a name="l00582"></a>00582     assert(<a class="code" href="../../d5/dce/class_c_o_m_p_o_n_e_n_t.html#aae54432ae625b53e982eb135392b1f45">matrix_nodes</a>() == 0);
<a name="l00583"></a>00583     <span class="keywordflow">if</span> (<a class="code" href="../../dc/df7/class_c_a_r_d.html#ab97144cf661970fe592fb73c0b104967">subckt</a>()) {
<a name="l00584"></a>00584       <a class="code" href="../../dc/df7/class_c_a_r_d.html#ab97144cf661970fe592fb73c0b104967">subckt</a>()-&gt;<a class="code" href="../../d4/df4/class_c_a_r_d___l_i_s_t.html#af02eb9f7e63d10a35a32879c473fb321">ac_iwant_matrix</a>();
<a name="l00585"></a>00585     }<span class="keywordflow">else</span>{<a class="code" href="../../d6/dda/io__trace_8h.html#aa6032a13c5f0621c16055ada1b7f47ad">untested</a>();
<a name="l00586"></a>00586     }
<a name="l00587"></a>00587   }<span class="keywordflow">else</span>{
<a name="l00588"></a>00588   }
<a name="l00589"></a>00589 }
<a name="l00590"></a>00590 <span class="comment">/*--------------------------------------------------------------------------*/</span>
<a name="l00591"></a>00591 <span class="comment">/* set: set parameters, used in model building</span>
<a name="l00592"></a>00592 <span class="comment"> */</span>
<a name="l00593"></a><a class="code" href="../../d5/dce/class_c_o_m_p_o_n_e_n_t.html#ae4cd436a57c4d12115cc839ac5a4d9fd">00593</a> <span class="keywordtype">void</span> <a class="code" href="../../d5/dce/class_c_o_m_p_o_n_e_n_t.html#ae4cd436a57c4d12115cc839ac5a4d9fd">COMPONENT::set_parameters</a>(<span class="keyword">const</span> std::string&amp; Label, <a class="code" href="../../dc/df7/class_c_a_r_d.html">CARD</a> *Owner,
<a name="l00594"></a>00594                                <a class="code" href="../../df/d75/class_c_o_m_m_o_n___c_o_m_p_o_n_e_n_t.html">COMMON_COMPONENT</a> *Common, <span class="keywordtype">double</span> Value,
<a name="l00595"></a>00595                                <span class="keywordtype">int</span> , <span class="keywordtype">double</span> [],
<a name="l00596"></a>00596                                <span class="keywordtype">int</span> node_count, <span class="keyword">const</span> <a class="code" href="../../d7/ded/classnode__t.html">node_t</a> Nodes[])
<a name="l00597"></a>00597 {
<a name="l00598"></a>00598   <a class="code" href="../../d3/d22/class_c_k_t___b_a_s_e.html#a790ef85fcd3deab6706f18636353a2c3">set_label</a>(Label);
<a name="l00599"></a>00599   <a class="code" href="../../dc/df7/class_c_a_r_d.html#a181eccac695cb24f8e9e44ebb331cfb6">set_owner</a>(Owner);
<a name="l00600"></a>00600   <a class="code" href="../../d5/dce/class_c_o_m_p_o_n_e_n_t.html#a16861a0c998928292aff95a263566a33">set_value</a>(Value);
<a name="l00601"></a>00601   <a class="code" href="../../d5/dce/class_c_o_m_p_o_n_e_n_t.html#a5dc0824ae5bcea0628143f59a2c6eeda">attach_common</a>(Common);
<a name="l00602"></a>00602 
<a name="l00603"></a>00603   assert(node_count &lt;= <a class="code" href="../../d5/dce/class_c_o_m_p_o_n_e_n_t.html#a79bcbb4581979400f2d841311ebf2984">net_nodes</a>());
<a name="l00604"></a>00604   <a class="code" href="../../df/d5a/namespacenotstd.html#ac5801402dbd75088d6952da76eab340f">notstd::copy_n</a>(Nodes, node_count, <a class="code" href="../../dc/df7/class_c_a_r_d.html#ac72d62d7197e7aa9e9554e05d422cb56">_n</a>);
<a name="l00605"></a>00605 }
<a name="l00606"></a>00606 <span class="comment">/*--------------------------------------------------------------------------*/</span>
<a name="l00607"></a>00607 <span class="comment">/* set_slave: force evaluation whenever the owner is evaluated.</span>
<a name="l00608"></a>00608 <span class="comment"> */</span>
<a name="l00609"></a><a class="code" href="../../d5/dce/class_c_o_m_p_o_n_e_n_t.html#ab1afc092c5d48c14972815c70775b16f">00609</a> <span class="keywordtype">void</span> <a class="code" href="../../d5/dce/class_c_o_m_p_o_n_e_n_t.html#ab1afc092c5d48c14972815c70775b16f">COMPONENT::set_slave</a>()
<a name="l00610"></a>00610 {
<a name="l00611"></a>00611   <a class="code" href="../../d5/dce/class_c_o_m_p_o_n_e_n_t.html#a65618ef43833faf21b2c57dfd072b44f">mark_always_q_for_eval</a>();
<a name="l00612"></a>00612   <span class="keywordflow">if</span> (<a class="code" href="../../dc/df7/class_c_a_r_d.html#ab97144cf661970fe592fb73c0b104967">subckt</a>()) {
<a name="l00613"></a>00613     <a class="code" href="../../dc/df7/class_c_a_r_d.html#ab97144cf661970fe592fb73c0b104967">subckt</a>()-&gt;<a class="code" href="../../d4/df4/class_c_a_r_d___l_i_s_t.html#aa54acacd8ae91546cba1ae5956e3b96d">set_slave</a>();
<a name="l00614"></a>00614   }<span class="keywordflow">else</span>{
<a name="l00615"></a>00615   }
<a name="l00616"></a>00616 }
<a name="l00617"></a>00617 <span class="comment">/*--------------------------------------------------------------------------*/</span>
<a name="l00618"></a><a class="code" href="../../d5/dce/class_c_o_m_p_o_n_e_n_t.html#a5fb90ad0c53de939471e856ea0237a72">00618</a> <span class="keywordtype">void</span> <a class="code" href="../../d5/dce/class_c_o_m_p_o_n_e_n_t.html#a16861a0c998928292aff95a263566a33">COMPONENT::set_value</a>(<span class="keywordtype">double</span> v, <a class="code" href="../../df/d75/class_c_o_m_m_o_n___c_o_m_p_o_n_e_n_t.html">COMMON_COMPONENT</a>* c)
<a name="l00619"></a>00619 {
<a name="l00620"></a>00620   <span class="keywordflow">if</span> (c != <a class="code" href="../../d5/dce/class_c_o_m_p_o_n_e_n_t.html#a131d7c736146260dc6ade31f1a4f9cad">_common</a>) {
<a name="l00621"></a>00621     <a class="code" href="../../d5/dce/class_c_o_m_p_o_n_e_n_t.html#abb1cbdffae44674a377d53e9deec6f7d">detach_common</a>();
<a name="l00622"></a>00622     <a class="code" href="../../d5/dce/class_c_o_m_p_o_n_e_n_t.html#a5dc0824ae5bcea0628143f59a2c6eeda">attach_common</a>(c);
<a name="l00623"></a>00623   }<span class="keywordflow">else</span>{
<a name="l00624"></a>00624   }
<a name="l00625"></a>00625   <a class="code" href="../../d5/dce/class_c_o_m_p_o_n_e_n_t.html#a16861a0c998928292aff95a263566a33">set_value</a>(v);
<a name="l00626"></a>00626 }
<a name="l00627"></a>00627 <span class="comment">/*--------------------------------------------------------------------------*/</span>
<a name="l00628"></a><a class="code" href="../../d5/dce/class_c_o_m_p_o_n_e_n_t.html#a2fa5aafbce9679dd659e2eae0d40cf42">00628</a> <span class="keywordtype">void</span> <a class="code" href="../../d5/dce/class_c_o_m_p_o_n_e_n_t.html#a2fa5aafbce9679dd659e2eae0d40cf42">COMPONENT::set_param_by_name</a>(std::string Name, std::string Value)
<a name="l00629"></a>00629 {
<a name="l00630"></a>00630   <span class="keywordflow">if</span> (<a class="code" href="../../d5/dce/class_c_o_m_p_o_n_e_n_t.html#a60bc591bebd3b2b51f81aaa2f7249f2b">has_common</a>()) {
<a name="l00631"></a>00631     <a class="code" href="../../df/d75/class_c_o_m_m_o_n___c_o_m_p_o_n_e_n_t.html">COMMON_COMPONENT</a>* c = <a class="code" href="../../d5/dce/class_c_o_m_p_o_n_e_n_t.html#a9a570d04b321ac4b80b6348e88a057cf">common</a>()-&gt;<a class="code" href="../../df/d75/class_c_o_m_m_o_n___c_o_m_p_o_n_e_n_t.html#a91d3a1cbdbf8a9cdfc39cb1baf5297ad">clone</a>();
<a name="l00632"></a>00632     assert(c);
<a name="l00633"></a>00633     c-&gt;<a class="code" href="../../df/d75/class_c_o_m_m_o_n___c_o_m_p_o_n_e_n_t.html#a04808745c1306c1e5abe418134f21c89">set_param_by_name</a>(Name, Value);
<a name="l00634"></a>00634     <a class="code" href="../../d5/dce/class_c_o_m_p_o_n_e_n_t.html#a5dc0824ae5bcea0628143f59a2c6eeda">attach_common</a>(c);
<a name="l00635"></a>00635   }<span class="keywordflow">else</span>{
<a name="l00636"></a>00636     <a class="code" href="../../d5/dce/class_c_o_m_p_o_n_e_n_t.html#a2fa5aafbce9679dd659e2eae0d40cf42">CARD::set_param_by_name</a>(Name, Value);
<a name="l00637"></a>00637   }
<a name="l00638"></a>00638 }
<a name="l00639"></a>00639 <span class="comment">/*--------------------------------------------------------------------------*/</span>
<a name="l00640"></a><a class="code" href="../../d5/dce/class_c_o_m_p_o_n_e_n_t.html#aa043c8dc4e401c3de4a245e68037f256">00640</a> <span class="keywordtype">void</span> <a class="code" href="../../d5/dce/class_c_o_m_p_o_n_e_n_t.html#aa043c8dc4e401c3de4a245e68037f256">COMPONENT::set_param_by_index</a>(<span class="keywordtype">int</span> i, std::string&amp; Value, <span class="keywordtype">int</span> <a class="code" href="../../dd/d35/c__genrat_8cc.html#a129303e4bd38a8cdba722b6238ed56e9">offset</a>)
<a name="l00641"></a>00641 {
<a name="l00642"></a>00642   <span class="keywordflow">if</span> (<a class="code" href="../../d5/dce/class_c_o_m_p_o_n_e_n_t.html#a60bc591bebd3b2b51f81aaa2f7249f2b">has_common</a>()) {<a class="code" href="../../d6/dda/io__trace_8h.html#aa6032a13c5f0621c16055ada1b7f47ad">untested</a>();
<a name="l00643"></a>00643     <a class="code" href="../../df/d75/class_c_o_m_m_o_n___c_o_m_p_o_n_e_n_t.html">COMMON_COMPONENT</a>* c = <a class="code" href="../../d5/dce/class_c_o_m_p_o_n_e_n_t.html#a9a570d04b321ac4b80b6348e88a057cf">common</a>()-&gt;<a class="code" href="../../df/d75/class_c_o_m_m_o_n___c_o_m_p_o_n_e_n_t.html#a91d3a1cbdbf8a9cdfc39cb1baf5297ad">clone</a>();
<a name="l00644"></a>00644     assert(c);
<a name="l00645"></a>00645     c-&gt;<a class="code" href="../../df/d75/class_c_o_m_m_o_n___c_o_m_p_o_n_e_n_t.html#a18a3309af9e66586194f3580e5ccaa05">set_param_by_index</a>(i, Value, offset);
<a name="l00646"></a>00646     <a class="code" href="../../d5/dce/class_c_o_m_p_o_n_e_n_t.html#a5dc0824ae5bcea0628143f59a2c6eeda">attach_common</a>(c);
<a name="l00647"></a>00647   }<span class="keywordflow">else</span>{
<a name="l00648"></a>00648     <span class="keywordflow">switch</span> (<a class="code" href="../../d5/dce/class_c_o_m_p_o_n_e_n_t.html#a48cb97ddcd015de7eacc9c68e8ad4ec1">COMPONENT::param_count</a>() - 1 - i) {
<a name="l00649"></a>00649     <span class="keywordflow">case</span> 0: <a class="code" href="../../d5/dce/class_c_o_m_p_o_n_e_n_t.html#a46c106fa0540ae0e7b1bac0870c636e7">_value</a> = Value; <span class="keywordflow">break</span>;
<a name="l00650"></a>00650     <span class="keywordflow">case</span> 1: <a class="code" href="../../d5/dce/class_c_o_m_p_o_n_e_n_t.html#a7dd2704a374ae8e5b1895850a4c4a854">_mfactor</a> = Value; <span class="keywordflow">break</span>;
<a name="l00651"></a>00651     <span class="keywordflow">default</span>: <a class="code" href="../../d5/dce/class_c_o_m_p_o_n_e_n_t.html#aa043c8dc4e401c3de4a245e68037f256">CARD::set_param_by_index</a>(i, Value, offset);
<a name="l00652"></a>00652     }
<a name="l00653"></a>00653   }
<a name="l00654"></a>00654 }
<a name="l00655"></a>00655 <span class="comment">/*--------------------------------------------------------------------------*/</span>
<a name="l00656"></a><a class="code" href="../../d5/dce/class_c_o_m_p_o_n_e_n_t.html#ae5a9662b84af4f6f90eacb179f7e892a">00656</a> <span class="keywordtype">bool</span> <a class="code" href="../../d5/dce/class_c_o_m_p_o_n_e_n_t.html#ae5a9662b84af4f6f90eacb179f7e892a">COMPONENT::param_is_printable</a>(<span class="keywordtype">int</span> i)<span class="keyword">const</span>
<a name="l00657"></a>00657 <span class="keyword"></span>{
<a name="l00658"></a>00658   <span class="keywordflow">if</span> (<a class="code" href="../../d5/dce/class_c_o_m_p_o_n_e_n_t.html#a60bc591bebd3b2b51f81aaa2f7249f2b">has_common</a>()) {
<a name="l00659"></a>00659     <span class="keywordflow">return</span> <a class="code" href="../../d5/dce/class_c_o_m_p_o_n_e_n_t.html#a9a570d04b321ac4b80b6348e88a057cf">common</a>()-&gt;<a class="code" href="../../df/d75/class_c_o_m_m_o_n___c_o_m_p_o_n_e_n_t.html#aeb7b0de77ee9f3f8814741b77ebfc9c8">param_is_printable</a>(i);
<a name="l00660"></a>00660   }<span class="keywordflow">else</span>{
<a name="l00661"></a>00661     <span class="keywordflow">switch</span> (<a class="code" href="../../d5/dce/class_c_o_m_p_o_n_e_n_t.html#a48cb97ddcd015de7eacc9c68e8ad4ec1">COMPONENT::param_count</a>() - 1 - i) {
<a name="l00662"></a>00662     <span class="keywordflow">case</span> 0:  <span class="keywordflow">return</span> <a class="code" href="../../d5/dce/class_c_o_m_p_o_n_e_n_t.html#a47920ef7bbfaa40456af85808eb760b7">value</a>().<a class="code" href="../../d4/dd4/class_p_a_r_a_m_e_t_e_r.html#a41139fe8899ac91ad218570897e63d90">has_hard_value</a>();
<a name="l00663"></a>00663     <span class="keywordflow">case</span> 1:  <span class="keywordflow">return</span> <a class="code" href="../../d5/dce/class_c_o_m_p_o_n_e_n_t.html#a7dd2704a374ae8e5b1895850a4c4a854">_mfactor</a>.<a class="code" href="../../d4/dd4/class_p_a_r_a_m_e_t_e_r.html#a41139fe8899ac91ad218570897e63d90">has_hard_value</a>();
<a name="l00664"></a>00664     <span class="keywordflow">default</span>: <span class="keywordflow">return</span> <a class="code" href="../../d5/dce/class_c_o_m_p_o_n_e_n_t.html#ae5a9662b84af4f6f90eacb179f7e892a">CARD::param_is_printable</a>(i);
<a name="l00665"></a>00665     }
<a name="l00666"></a>00666   }
<a name="l00667"></a>00667 }
<a name="l00668"></a>00668 <span class="comment">/*--------------------------------------------------------------------------*/</span>
<a name="l00669"></a><a class="code" href="../../d5/dce/class_c_o_m_p_o_n_e_n_t.html#ae52bdb0b0acaf64682b7c9dd1656aada">00669</a> std::string <a class="code" href="../../d5/dce/class_c_o_m_p_o_n_e_n_t.html#ae52bdb0b0acaf64682b7c9dd1656aada">COMPONENT::param_name</a>(<span class="keywordtype">int</span> i)<span class="keyword">const</span>
<a name="l00670"></a>00670 <span class="keyword"></span>{
<a name="l00671"></a>00671   <span class="keywordflow">if</span> (<a class="code" href="../../d5/dce/class_c_o_m_p_o_n_e_n_t.html#a60bc591bebd3b2b51f81aaa2f7249f2b">has_common</a>()) {
<a name="l00672"></a>00672     <span class="keywordflow">return</span> <a class="code" href="../../d5/dce/class_c_o_m_p_o_n_e_n_t.html#a9a570d04b321ac4b80b6348e88a057cf">common</a>()-&gt;<a class="code" href="../../df/d75/class_c_o_m_m_o_n___c_o_m_p_o_n_e_n_t.html#a307d0150f4c7d050bfd499e72d5b817a">param_name</a>(i);
<a name="l00673"></a>00673   }<span class="keywordflow">else</span>{
<a name="l00674"></a>00674     <span class="keywordflow">switch</span> (<a class="code" href="../../d5/dce/class_c_o_m_p_o_n_e_n_t.html#a48cb97ddcd015de7eacc9c68e8ad4ec1">COMPONENT::param_count</a>() - 1 - i) {
<a name="l00675"></a>00675     <span class="keywordflow">case</span> 0:  <span class="keywordflow">return</span> <a class="code" href="../../dc/df7/class_c_a_r_d.html#a895b328abb9341c5b45143d586e254c0">value_name</a>();
<a name="l00676"></a>00676     <span class="keywordflow">case</span> 1:  <span class="keywordflow">return</span> <span class="stringliteral">&quot;m&quot;</span>;
<a name="l00677"></a>00677     <span class="keywordflow">default</span>: <span class="keywordflow">return</span> <a class="code" href="../../d5/dce/class_c_o_m_p_o_n_e_n_t.html#ae52bdb0b0acaf64682b7c9dd1656aada">CARD::param_name</a>(i);
<a name="l00678"></a>00678     }
<a name="l00679"></a>00679   }
<a name="l00680"></a>00680 }
<a name="l00681"></a>00681 <span class="comment">/*--------------------------------------------------------------------------*/</span>
<a name="l00682"></a><a class="code" href="../../d5/dce/class_c_o_m_p_o_n_e_n_t.html#aefca5292a62b4e16ecef723bdb9dcf19">00682</a> std::string <a class="code" href="../../d5/dce/class_c_o_m_p_o_n_e_n_t.html#ae52bdb0b0acaf64682b7c9dd1656aada">COMPONENT::param_name</a>(<span class="keywordtype">int</span> i, <span class="keywordtype">int</span> j)<span class="keyword">const</span>
<a name="l00683"></a>00683 <span class="keyword"></span>{
<a name="l00684"></a>00684   <span class="keywordflow">if</span> (<a class="code" href="../../d5/dce/class_c_o_m_p_o_n_e_n_t.html#a60bc591bebd3b2b51f81aaa2f7249f2b">has_common</a>()) {<a class="code" href="../../d6/dda/io__trace_8h.html#aa6032a13c5f0621c16055ada1b7f47ad">untested</a>();
<a name="l00685"></a>00685     <span class="keywordflow">return</span> <a class="code" href="../../d5/dce/class_c_o_m_p_o_n_e_n_t.html#a9a570d04b321ac4b80b6348e88a057cf">common</a>()-&gt;<a class="code" href="../../df/d75/class_c_o_m_m_o_n___c_o_m_p_o_n_e_n_t.html#a307d0150f4c7d050bfd499e72d5b817a">param_name</a>(i,j);
<a name="l00686"></a>00686   }<span class="keywordflow">else</span>{
<a name="l00687"></a>00687     <span class="keywordflow">if</span> (j == 0) {
<a name="l00688"></a>00688       <span class="keywordflow">return</span> <a class="code" href="../../d5/dce/class_c_o_m_p_o_n_e_n_t.html#ae52bdb0b0acaf64682b7c9dd1656aada">param_name</a>(i);
<a name="l00689"></a>00689     }<span class="keywordflow">else</span> <span class="keywordflow">if</span> (i &gt;= <a class="code" href="../../dc/df7/class_c_a_r_d.html#adb4c6ee2dc86cd3001387768e66e3384">CARD::param_count</a>()) {<a class="code" href="../../d6/dda/io__trace_8h.html#aa6032a13c5f0621c16055ada1b7f47ad">untested</a>();
<a name="l00690"></a>00690       <span class="keywordflow">return</span> <span class="stringliteral">&quot;&quot;</span>;
<a name="l00691"></a>00691     }<span class="keywordflow">else</span>{<a class="code" href="../../d6/dda/io__trace_8h.html#aa6032a13c5f0621c16055ada1b7f47ad">untested</a>();
<a name="l00692"></a>00692       <span class="keywordflow">return</span> <a class="code" href="../../d5/dce/class_c_o_m_p_o_n_e_n_t.html#ae52bdb0b0acaf64682b7c9dd1656aada">CARD::param_name</a>(i,j);
<a name="l00693"></a>00693     }
<a name="l00694"></a>00694   }
<a name="l00695"></a>00695 }
<a name="l00696"></a>00696 <span class="comment">/*--------------------------------------------------------------------------*/</span>
<a name="l00697"></a><a class="code" href="../../d5/dce/class_c_o_m_p_o_n_e_n_t.html#a1948b2816aae0bd182df10a627e7bdf3">00697</a> std::string <a class="code" href="../../d5/dce/class_c_o_m_p_o_n_e_n_t.html#a1948b2816aae0bd182df10a627e7bdf3">COMPONENT::param_value</a>(<span class="keywordtype">int</span> i)<span class="keyword">const</span>
<a name="l00698"></a>00698 <span class="keyword"></span>{
<a name="l00699"></a>00699   <span class="keywordflow">if</span> (<a class="code" href="../../d5/dce/class_c_o_m_p_o_n_e_n_t.html#a60bc591bebd3b2b51f81aaa2f7249f2b">has_common</a>()) {
<a name="l00700"></a>00700     <span class="keywordflow">return</span> <a class="code" href="../../d5/dce/class_c_o_m_p_o_n_e_n_t.html#a9a570d04b321ac4b80b6348e88a057cf">common</a>()-&gt;<a class="code" href="../../df/d75/class_c_o_m_m_o_n___c_o_m_p_o_n_e_n_t.html#a6b7f6f74d7c5ecfd919d3cfec415b7da">param_value</a>(i);
<a name="l00701"></a>00701   }<span class="keywordflow">else</span>{
<a name="l00702"></a>00702     <span class="keywordflow">switch</span> (<a class="code" href="../../d5/dce/class_c_o_m_p_o_n_e_n_t.html#a48cb97ddcd015de7eacc9c68e8ad4ec1">COMPONENT::param_count</a>() - 1 - i) {
<a name="l00703"></a>00703     <span class="keywordflow">case</span> 0:  <span class="keywordflow">return</span> <a class="code" href="../../d5/dce/class_c_o_m_p_o_n_e_n_t.html#a47920ef7bbfaa40456af85808eb760b7">value</a>().<a class="code" href="../../d4/dd4/class_p_a_r_a_m_e_t_e_r.html#afd2e3be644d941d7c2c98d8e7fdf9a23">string</a>();
<a name="l00704"></a>00704     <span class="keywordflow">case</span> 1:  <span class="keywordflow">return</span> <a class="code" href="../../d5/dce/class_c_o_m_p_o_n_e_n_t.html#a7dd2704a374ae8e5b1895850a4c4a854">_mfactor</a>.<a class="code" href="../../d4/dd4/class_p_a_r_a_m_e_t_e_r.html#afd2e3be644d941d7c2c98d8e7fdf9a23">string</a>();
<a name="l00705"></a>00705     <span class="keywordflow">default</span>: <span class="keywordflow">return</span> <a class="code" href="../../d5/dce/class_c_o_m_p_o_n_e_n_t.html#a1948b2816aae0bd182df10a627e7bdf3">CARD::param_value</a>(i);
<a name="l00706"></a>00706     }
<a name="l00707"></a>00707   }
<a name="l00708"></a>00708 }
<a name="l00709"></a>00709 <span class="comment">/*--------------------------------------------------------------------------*/</span>
<a name="l00710"></a><a class="code" href="../../d5/dce/class_c_o_m_p_o_n_e_n_t.html#a99ac0da644b8d8b33e31233fb82f12d3">00710</a> <span class="keyword">const</span> std::string <a class="code" href="../../d5/dce/class_c_o_m_p_o_n_e_n_t.html#a99ac0da644b8d8b33e31233fb82f12d3">COMPONENT::port_value</a>(<span class="keywordtype">int</span> i)<span class="keyword">const </span>
<a name="l00711"></a>00711 <span class="keyword"></span>{
<a name="l00712"></a>00712   assert(<a class="code" href="../../dc/df7/class_c_a_r_d.html#ac72d62d7197e7aa9e9554e05d422cb56">_n</a>);
<a name="l00713"></a>00713   assert(i &gt;= 0);
<a name="l00714"></a>00714   assert(i &lt; <a class="code" href="../../d5/dce/class_c_o_m_p_o_n_e_n_t.html#a79bcbb4581979400f2d841311ebf2984">net_nodes</a>());
<a name="l00715"></a>00715   <span class="keywordflow">return</span> <a class="code" href="../../dc/df7/class_c_a_r_d.html#ac72d62d7197e7aa9e9554e05d422cb56">_n</a>[i].<a class="code" href="../../d7/ded/classnode__t.html#a4b9f6fb14f13a174862eb4921306c30d">short_label</a>();
<a name="l00716"></a>00716 }
<a name="l00717"></a>00717 <span class="comment">/*--------------------------------------------------------------------------*/</span>
<a name="l00718"></a><a class="code" href="../../d5/dce/class_c_o_m_p_o_n_e_n_t.html#acf3c104d04168bf4b6bb4c2bb5425966">00718</a> <span class="keyword">const</span> std::string <a class="code" href="../../d5/dce/class_c_o_m_p_o_n_e_n_t.html#acf3c104d04168bf4b6bb4c2bb5425966">COMPONENT::current_port_value</a>(<span class="keywordtype">int</span>)<span class="keyword">const </span>
<a name="l00719"></a>00719 <span class="keyword"></span>{<a class="code" href="../../d6/dda/io__trace_8h.html#aa6032a13c5f0621c16055ada1b7f47ad">untested</a>();
<a name="l00720"></a>00720   <a class="code" href="../../d6/dda/io__trace_8h.html#a86d08c1b23d67eca942da0ac012d89f3">unreachable</a>();
<a name="l00721"></a>00721   <span class="keyword">static</span> std::string s;
<a name="l00722"></a>00722   <span class="keywordflow">return</span> s;
<a name="l00723"></a>00723 }
<a name="l00724"></a>00724 <span class="comment">/*--------------------------------------------------------------------------*/</span>
<a name="l00725"></a><a class="code" href="../../d5/dce/class_c_o_m_p_o_n_e_n_t.html#a6730dd8bef0b46e8a807cf2ce75c5ed0">00725</a> <span class="keywordtype">double</span> <a class="code" href="../../d5/dce/class_c_o_m_p_o_n_e_n_t.html#a6730dd8bef0b46e8a807cf2ce75c5ed0">COMPONENT::tr_probe_num</a>(<span class="keyword">const</span> std::string&amp; x)<span class="keyword">const</span>
<a name="l00726"></a>00726 <span class="keyword"></span>{
<a name="l00727"></a>00727   <a class="code" href="../../db/d85/class_c_s.html">CS</a> cmd(<a class="code" href="../../db/d85/class_c_s.html#a76dbe76fb5837e42a38301a0feeb6d2dadea8dbbb049377b6bf40384c47996738">CS::_STRING</a>, x);
<a name="l00728"></a>00728   <span class="keywordflow">if</span> (cmd.<a class="code" href="../../db/d85/class_c_s.html#a9a501a8fa298d71f818f01b22e1e1157">umatch</a>(<span class="stringliteral">&quot;v&quot;</span>)) {
<a name="l00729"></a>00729     <span class="keywordtype">int</span> nn = cmd.<a class="code" href="../../db/d85/class_c_s.html#a8ac83d46bace9e1a82c93cfa61a1253f">ctoi</a>();
<a name="l00730"></a>00730     <span class="keywordflow">return</span> (nn &gt; 0 &amp;&amp; nn &lt;= <a class="code" href="../../d5/dce/class_c_o_m_p_o_n_e_n_t.html#a79bcbb4581979400f2d841311ebf2984">net_nodes</a>()) ? <a class="code" href="../../dc/df7/class_c_a_r_d.html#ac72d62d7197e7aa9e9554e05d422cb56">_n</a>[nn-1].<a class="code" href="../../d7/ded/classnode__t.html#a2af0828c33aaaf60bb76aed24a8431ff">v0</a>() : <a class="code" href="../../dd/d17/constant_8h.html#a35c964936a92f1fbb6e91ccd7da5c4ae">NOT_VALID</a>;
<a name="l00731"></a>00731   }<span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="../../dd/dfe/l__lib_8h.html#a8e8977e5f176127f0217507d3b196fe3">Umatch</a>(x, <span class="stringliteral">&quot;error{time} |next{time} &quot;</span>)) {
<a name="l00732"></a>00732     <span class="keywordflow">return</span> (<a class="code" href="../../d5/dce/class_c_o_m_p_o_n_e_n_t.html#a8863f3ad7f1dfe4c16963862e701e5c0">_time_by</a>.<a class="code" href="../../d4/d78/struct_t_i_m_e___p_a_i_r.html#a0677dbb4304ba9c2552e457f3b56349b">_error_estimate</a> &lt; <a class="code" href="../../dd/d17/constant_8h.html#ace649fd3e4cb0b83b43fbde70681f4d0">BIGBIG</a>) ? <a class="code" href="../../d5/dce/class_c_o_m_p_o_n_e_n_t.html#a8863f3ad7f1dfe4c16963862e701e5c0">_time_by</a>.<a class="code" href="../../d4/d78/struct_t_i_m_e___p_a_i_r.html#a0677dbb4304ba9c2552e457f3b56349b">_error_estimate</a> : 0;
<a name="l00733"></a>00733   }<span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="../../dd/dfe/l__lib_8h.html#a8e8977e5f176127f0217507d3b196fe3">Umatch</a>(x, <span class="stringliteral">&quot;timef{uture} &quot;</span>)) {
<a name="l00734"></a>00734     <span class="keywordflow">return</span> (<a class="code" href="../../d5/dce/class_c_o_m_p_o_n_e_n_t.html#a8863f3ad7f1dfe4c16963862e701e5c0">_time_by</a>.<a class="code" href="../../d4/d78/struct_t_i_m_e___p_a_i_r.html#a0677dbb4304ba9c2552e457f3b56349b">_error_estimate</a> &lt; <a class="code" href="../../d5/dce/class_c_o_m_p_o_n_e_n_t.html#a8863f3ad7f1dfe4c16963862e701e5c0">_time_by</a>.<a class="code" href="../../d4/d78/struct_t_i_m_e___p_a_i_r.html#a74fde05a4d23f81876169b29f36497aa">_event</a>) 
<a name="l00735"></a>00735       ? <a class="code" href="../../d5/dce/class_c_o_m_p_o_n_e_n_t.html#a8863f3ad7f1dfe4c16963862e701e5c0">_time_by</a>.<a class="code" href="../../d4/d78/struct_t_i_m_e___p_a_i_r.html#a0677dbb4304ba9c2552e457f3b56349b">_error_estimate</a>
<a name="l00736"></a>00736       : <a class="code" href="../../d5/dce/class_c_o_m_p_o_n_e_n_t.html#a8863f3ad7f1dfe4c16963862e701e5c0">_time_by</a>.<a class="code" href="../../d4/d78/struct_t_i_m_e___p_a_i_r.html#a74fde05a4d23f81876169b29f36497aa">_event</a>;
<a name="l00737"></a>00737   }<span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="../../dd/dfe/l__lib_8h.html#a8e8977e5f176127f0217507d3b196fe3">Umatch</a>(x, <span class="stringliteral">&quot;event{time} &quot;</span>)) {
<a name="l00738"></a>00738     <span class="keywordflow">return</span> (<a class="code" href="../../d5/dce/class_c_o_m_p_o_n_e_n_t.html#a8863f3ad7f1dfe4c16963862e701e5c0">_time_by</a>.<a class="code" href="../../d4/d78/struct_t_i_m_e___p_a_i_r.html#a74fde05a4d23f81876169b29f36497aa">_event</a> &lt; <a class="code" href="../../dd/d17/constant_8h.html#ace649fd3e4cb0b83b43fbde70681f4d0">BIGBIG</a>) ? <a class="code" href="../../d5/dce/class_c_o_m_p_o_n_e_n_t.html#a8863f3ad7f1dfe4c16963862e701e5c0">_time_by</a>.<a class="code" href="../../d4/d78/struct_t_i_m_e___p_a_i_r.html#a74fde05a4d23f81876169b29f36497aa">_event</a> : 0;
<a name="l00739"></a>00739   }<span class="keywordflow">else</span>{
<a name="l00740"></a>00740     <span class="keywordflow">return</span> <a class="code" href="../../d5/dce/class_c_o_m_p_o_n_e_n_t.html#a6730dd8bef0b46e8a807cf2ce75c5ed0">CARD::tr_probe_num</a>(x);
<a name="l00741"></a>00741   }
<a name="l00742"></a>00742 }
<a name="l00743"></a>00743 <span class="comment">/*--------------------------------------------------------------------------*/</span>
<a name="l00744"></a><a class="code" href="../../d5/dce/class_c_o_m_p_o_n_e_n_t.html#a609dac9a21dd26d7bf722462f8106d09">00744</a> <span class="keyword">const</span> <a class="code" href="../../d2/d9e/class_m_o_d_e_l___c_a_r_d.html">MODEL_CARD</a>* <a class="code" href="../../d5/dce/class_c_o_m_p_o_n_e_n_t.html#a609dac9a21dd26d7bf722462f8106d09">COMPONENT::find_model</a>(<span class="keyword">const</span> std::string&amp; modelname)<span class="keyword">const</span>
<a name="l00745"></a>00745 <span class="keyword"></span>{
<a name="l00746"></a>00746   <span class="keywordflow">if</span> (modelname == <span class="stringliteral">&quot;&quot;</span>) {
<a name="l00747"></a>00747     <span class="keywordflow">throw</span> <a class="code" href="../../df/d70/class_exception.html">Exception</a>(<a class="code" href="../../dc/df7/class_c_a_r_d.html#a2b81b4c28056adc678b21ff34a756913">long_label</a>() + <span class="stringliteral">&quot;: missing args -- need model name&quot;</span>);
<a name="l00748"></a>00748     <a class="code" href="../../d6/dda/io__trace_8h.html#a86d08c1b23d67eca942da0ac012d89f3">unreachable</a>();
<a name="l00749"></a>00749     <span class="keywordflow">return</span> NULL;
<a name="l00750"></a>00750   }<span class="keywordflow">else</span>{
<a name="l00751"></a>00751     <span class="keyword">const</span> <a class="code" href="../../dc/df7/class_c_a_r_d.html">CARD</a>* c = NULL;
<a name="l00752"></a>00752     {
<a name="l00753"></a>00753       <span class="keywordtype">int</span> bin_count = 0;
<a name="l00754"></a>00754       <span class="keywordflow">for</span> (<span class="keyword">const</span> <a class="code" href="../../dc/df7/class_c_a_r_d.html">CARD</a>* Scope = <span class="keyword">this</span>; Scope &amp;&amp; !c; Scope = Scope-&gt;<a class="code" href="../../dc/df7/class_c_a_r_d.html#a90030b0a7d13b3625ffeceb50ea016ee">owner</a>()) {
<a name="l00755"></a>00755         <span class="comment">// start here, looking out</span>
<a name="l00756"></a>00756         <span class="keywordflow">try</span> {
<a name="l00757"></a>00757           c = Scope-&gt;<a class="code" href="../../dc/df7/class_c_a_r_d.html#ae5595d5aba88baf27759a622517af069">find_in_my_scope</a>(modelname);
<a name="l00758"></a>00758         }<span class="keywordflow">catch</span> (Exception_Cant_Find&amp; e1) {
<a name="l00759"></a>00759           <span class="comment">// didn&#39;t find plain model.  try binned models</span>
<a name="l00760"></a>00760           bin_count = 0;
<a name="l00761"></a>00761           <span class="keywordflow">for</span> (;;) {
<a name="l00762"></a>00762             <span class="comment">// loop over binned models</span>
<a name="l00763"></a>00763             std::string extended_name = modelname + <span class="charliteral">&#39;.&#39;</span> + <a class="code" href="../../d5/d7d/l__ftos_8cc.html#a370b5800dda92dffe5ce4b4af84fdd27">to_string</a>(++bin_count);
<a name="l00764"></a>00764             <span class="keywordflow">try</span> {
<a name="l00765"></a>00765               c = Scope-&gt;<a class="code" href="../../dc/df7/class_c_a_r_d.html#ae5595d5aba88baf27759a622517af069">find_in_my_scope</a>(extended_name);
<a name="l00766"></a>00766             }<span class="keywordflow">catch</span> (Exception_Cant_Find&amp; e2) {
<a name="l00767"></a>00767               <span class="comment">// that&#39;s all .. looked at all of them</span>
<a name="l00768"></a>00768               c = NULL;
<a name="l00769"></a>00769               <span class="keywordflow">break</span>;
<a name="l00770"></a>00770             }
<a name="l00771"></a>00771             <span class="keyword">const</span> <a class="code" href="../../d2/d9e/class_m_o_d_e_l___c_a_r_d.html">MODEL_CARD</a>* m = <span class="keyword">dynamic_cast&lt;</span><span class="keyword">const </span><a class="code" href="../../d2/d9e/class_m_o_d_e_l___c_a_r_d.html">MODEL_CARD</a>*<span class="keyword">&gt;</span>(c);
<a name="l00772"></a>00772             <span class="keywordflow">if</span> (m &amp;&amp; m-&gt;<a class="code" href="../../d2/d9e/class_m_o_d_e_l___c_a_r_d.html#a63358ac55e1c38573e916e5192eb19ed">is_valid</a>(<span class="keyword">this</span>)) {
<a name="l00773"></a>00773               <span class="comment">//matching name and correct bin</span>
<a name="l00774"></a>00774               <span class="keywordflow">break</span>;
<a name="l00775"></a>00775             }<span class="keywordflow">else</span>{
<a name="l00776"></a>00776               <span class="comment">// keep looking</span>
<a name="l00777"></a>00777             }
<a name="l00778"></a>00778           }
<a name="l00779"></a>00779         }
<a name="l00780"></a>00780       }
<a name="l00781"></a>00781       <span class="keywordflow">if</span> (!c) {
<a name="l00782"></a>00782         <span class="keywordflow">if</span> (bin_count &lt;= 1) {
<a name="l00783"></a>00783           <span class="keywordflow">throw</span> Exception_Cant_Find(<a class="code" href="../../dc/df7/class_c_a_r_d.html#a2b81b4c28056adc678b21ff34a756913">long_label</a>(), modelname);
<a name="l00784"></a>00784         }<span class="keywordflow">else</span>{
<a name="l00785"></a>00785           <span class="keywordflow">throw</span> <a class="code" href="../../df/d70/class_exception.html">Exception</a>(<a class="code" href="../../dc/df7/class_c_a_r_d.html#a2b81b4c28056adc678b21ff34a756913">long_label</a>() + <span class="stringliteral">&quot;: no bins match: &quot;</span> + modelname);
<a name="l00786"></a>00786         }
<a name="l00787"></a>00787         <a class="code" href="../../d6/dda/io__trace_8h.html#a86d08c1b23d67eca942da0ac012d89f3">unreachable</a>();
<a name="l00788"></a>00788       }<span class="keywordflow">else</span>{
<a name="l00789"></a>00789       }
<a name="l00790"></a>00790     }
<a name="l00791"></a>00791     <span class="comment">// found something, what is it?</span>
<a name="l00792"></a>00792     assert(c);
<a name="l00793"></a>00793     <span class="keyword">const</span> <a class="code" href="../../d2/d9e/class_m_o_d_e_l___c_a_r_d.html">MODEL_CARD</a>* model = <span class="keyword">dynamic_cast&lt;</span><span class="keyword">const </span><a class="code" href="../../d2/d9e/class_m_o_d_e_l___c_a_r_d.html">MODEL_CARD</a>*<span class="keyword">&gt;</span>(c);
<a name="l00794"></a>00794     <span class="keywordflow">if</span> (!model) {<a class="code" href="../../d6/dda/io__trace_8h.html#aa6032a13c5f0621c16055ada1b7f47ad">untested</a>();
<a name="l00795"></a>00795       <span class="keywordflow">throw</span> Exception_Type_Mismatch(<a class="code" href="../../dc/df7/class_c_a_r_d.html#a2b81b4c28056adc678b21ff34a756913">long_label</a>(), modelname, <span class="stringliteral">&quot;.model&quot;</span>);
<a name="l00796"></a>00796     }<span class="keywordflow">else</span> <span class="keywordflow">if</span> (!model-&gt;<a class="code" href="../../d2/d9e/class_m_o_d_e_l___c_a_r_d.html#a63358ac55e1c38573e916e5192eb19ed">is_valid</a>(<span class="keyword">this</span>)) {<a class="code" href="../../d6/dda/io__trace_8h.html#ace44a3497980f17b256317ed0d54708f">itested</a>();
<a name="l00797"></a>00797       <a class="code" href="../../d6/de9/io__error_8cc.html#a153585440ba2fdf0696b0085d19a4a7f">error</a>(bWARNING, <a class="code" href="../../dc/df7/class_c_a_r_d.html#a2b81b4c28056adc678b21ff34a756913">long_label</a>() + <span class="stringliteral">&quot;, &quot;</span> + modelname
<a name="l00798"></a>00798            + <span class="stringliteral">&quot;\nmodel and device parameters are incompatible, using anyway\n&quot;</span>);
<a name="l00799"></a>00799     }<span class="keywordflow">else</span>{
<a name="l00800"></a>00800     }
<a name="l00801"></a>00801     assert(model);
<a name="l00802"></a>00802     <span class="keywordflow">return</span> model;
<a name="l00803"></a>00803   }
<a name="l00804"></a>00804 }
<a name="l00805"></a>00805 <span class="comment">/*--------------------------------------------------------------------------*/</span>
<a name="l00806"></a>00806 <span class="comment">/* q_eval: queue this device for evaluation on the next pass,</span>
<a name="l00807"></a>00807 <span class="comment"> * with a check against doing it twice.</span>
<a name="l00808"></a>00808 <span class="comment"> */</span>
<a name="l00809"></a><a class="code" href="../../d5/dce/class_c_o_m_p_o_n_e_n_t.html#a0f00d0fde0382901f85a26aa200b037d">00809</a> <span class="keywordtype">void</span> <a class="code" href="../../d5/dce/class_c_o_m_p_o_n_e_n_t.html#a0f00d0fde0382901f85a26aa200b037d">COMPONENT::q_eval</a>()
<a name="l00810"></a>00810 {
<a name="l00811"></a>00811   <span class="keywordflow">if</span>(!<a class="code" href="../../d5/dce/class_c_o_m_p_o_n_e_n_t.html#aac550d6707834307cfcdf90fec15ac60">is_q_for_eval</a>()) {
<a name="l00812"></a>00812     <a class="code" href="../../d5/dce/class_c_o_m_p_o_n_e_n_t.html#a083c6fe6153dfdf068af2e2e5d7046a1">mark_q_for_eval</a>();
<a name="l00813"></a>00813     <a class="code" href="../../d3/d22/class_c_k_t___b_a_s_e.html#aee1030ed5a99aecd285c8af3aa2b37ef">_sim</a>-&gt;<a class="code" href="../../d7/db5/struct_s_i_m___d_a_t_a.html#ad0b01ed6cc5b3095517e42800244a32d">_evalq_uc</a>-&gt;push_back(<span class="keyword">this</span>);
<a name="l00814"></a>00814   }<span class="keywordflow">else</span>{<a class="code" href="../../d6/dda/io__trace_8h.html#ace44a3497980f17b256317ed0d54708f">itested</a>();
<a name="l00815"></a>00815   }
<a name="l00816"></a>00816 }
<a name="l00817"></a>00817 <span class="comment">/*--------------------------------------------------------------------------*/</span>
<a name="l00818"></a><a class="code" href="../../d5/dce/class_c_o_m_p_o_n_e_n_t.html#aed910056807c23d65724104820ee50bc">00818</a> <span class="keywordtype">void</span> <a class="code" href="../../d5/dce/class_c_o_m_p_o_n_e_n_t.html#aed910056807c23d65724104820ee50bc">COMPONENT::tr_queue_eval</a>()
<a name="l00819"></a>00819 {
<a name="l00820"></a>00820   <span class="keywordflow">if</span>(<a class="code" href="../../dc/df7/class_c_a_r_d.html#a479729be17aff25248fa9b9948bd06e6">tr_needs_eval</a>()) {
<a name="l00821"></a>00821     <a class="code" href="../../d5/dce/class_c_o_m_p_o_n_e_n_t.html#a0f00d0fde0382901f85a26aa200b037d">q_eval</a>();
<a name="l00822"></a>00822   }<span class="keywordflow">else</span>{
<a name="l00823"></a>00823   }
<a name="l00824"></a>00824 }
<a name="l00825"></a>00825 <span class="comment">/*--------------------------------------------------------------------------*/</span>
<a name="l00826"></a><a class="code" href="../../d5/dce/class_c_o_m_p_o_n_e_n_t.html#a07d29f282073f4ffc2d987dcd1738f73">00826</a> <a class="code" href="../../d4/d78/struct_t_i_m_e___p_a_i_r.html">TIME_PAIR</a> <a class="code" href="../../d5/dce/class_c_o_m_p_o_n_e_n_t.html#a07d29f282073f4ffc2d987dcd1738f73">COMPONENT::tr_review</a>()
<a name="l00827"></a>00827 {
<a name="l00828"></a>00828   <a class="code" href="../../d5/dce/class_c_o_m_p_o_n_e_n_t.html#a8863f3ad7f1dfe4c16963862e701e5c0">_time_by</a>.<a class="code" href="../../d4/d78/struct_t_i_m_e___p_a_i_r.html#a9d26978fb1b7686f0b06685ea4d99613">reset</a>();
<a name="l00829"></a>00829   <span class="keywordflow">if</span>(<a class="code" href="../../d5/dce/class_c_o_m_p_o_n_e_n_t.html#a60bc591bebd3b2b51f81aaa2f7249f2b">has_common</a>()) {
<a name="l00830"></a>00830     <span class="keywordflow">return</span> <a class="code" href="../../d5/dce/class_c_o_m_p_o_n_e_n_t.html#a131d7c736146260dc6ade31f1a4f9cad">_common</a>-&gt;<a class="code" href="../../df/d75/class_c_o_m_m_o_n___c_o_m_p_o_n_e_n_t.html#a8f5fea0dc2212caaf081269654d073ed">tr_review</a>(<span class="keyword">this</span>);
<a name="l00831"></a>00831   }<span class="keywordflow">else</span>{
<a name="l00832"></a>00832     <span class="keywordflow">return</span> <a class="code" href="../../d5/dce/class_c_o_m_p_o_n_e_n_t.html#a8863f3ad7f1dfe4c16963862e701e5c0">_time_by</a>;
<a name="l00833"></a>00833   }
<a name="l00834"></a>00834 }
<a name="l00835"></a>00835 <span class="comment">/*--------------------------------------------------------------------------*/</span>
<a name="l00836"></a><a class="code" href="../../d5/dce/class_c_o_m_p_o_n_e_n_t.html#af5a52e2118a9732a2097593b8e65bc2e">00836</a> <span class="keywordtype">void</span> <a class="code" href="../../d5/dce/class_c_o_m_p_o_n_e_n_t.html#af5a52e2118a9732a2097593b8e65bc2e">COMPONENT::tr_accept</a>()
<a name="l00837"></a>00837 {
<a name="l00838"></a>00838   <span class="keywordflow">if</span>(<a class="code" href="../../d5/dce/class_c_o_m_p_o_n_e_n_t.html#a60bc591bebd3b2b51f81aaa2f7249f2b">has_common</a>()) {
<a name="l00839"></a>00839     <a class="code" href="../../d5/dce/class_c_o_m_p_o_n_e_n_t.html#a131d7c736146260dc6ade31f1a4f9cad">_common</a>-&gt;<a class="code" href="../../df/d75/class_c_o_m_m_o_n___c_o_m_p_o_n_e_n_t.html#afb94b911d61c695dc8b3dc2281fbea16">tr_accept</a>(<span class="keyword">this</span>);
<a name="l00840"></a>00840   }<span class="keywordflow">else</span>{
<a name="l00841"></a>00841   }
<a name="l00842"></a>00842 }
<a name="l00843"></a>00843 <span class="comment">/*--------------------------------------------------------------------------*/</span>
<a name="l00844"></a><a class="code" href="../../d5/dce/class_c_o_m_p_o_n_e_n_t.html#a2b1131dc75c5412e653db8e54437341d">00844</a> <span class="keywordtype">bool</span> <a class="code" href="../../d5/dce/class_c_o_m_p_o_n_e_n_t.html#a2b1131dc75c5412e653db8e54437341d">COMPONENT::use_obsolete_callback_parse</a>()<span class="keyword">const</span>
<a name="l00845"></a>00845 <span class="keyword"></span>{
<a name="l00846"></a>00846   <span class="keywordflow">if</span> (<a class="code" href="../../d5/dce/class_c_o_m_p_o_n_e_n_t.html#a60bc591bebd3b2b51f81aaa2f7249f2b">has_common</a>()) {
<a name="l00847"></a>00847     <span class="keywordflow">return</span> <a class="code" href="../../d5/dce/class_c_o_m_p_o_n_e_n_t.html#a9a570d04b321ac4b80b6348e88a057cf">common</a>()-&gt;<a class="code" href="../../df/d75/class_c_o_m_m_o_n___c_o_m_p_o_n_e_n_t.html#a769ab534c6639e034caf7101efe52d2b">use_obsolete_callback_parse</a>();
<a name="l00848"></a>00848   }<span class="keywordflow">else</span>{
<a name="l00849"></a>00849     <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00850"></a>00850   }
<a name="l00851"></a>00851 }
<a name="l00852"></a>00852 <span class="comment">/*--------------------------------------------------------------------------*/</span>
<a name="l00853"></a><a class="code" href="../../d5/dce/class_c_o_m_p_o_n_e_n_t.html#af062a92eb2973f2df732f49a287f5ecc">00853</a> <span class="keywordtype">bool</span> <a class="code" href="../../d5/dce/class_c_o_m_p_o_n_e_n_t.html#af062a92eb2973f2df732f49a287f5ecc">COMPONENT::use_obsolete_callback_print</a>()<span class="keyword">const</span>
<a name="l00854"></a>00854 <span class="keyword"></span>{
<a name="l00855"></a>00855   <span class="keywordflow">if</span> (<a class="code" href="../../d5/dce/class_c_o_m_p_o_n_e_n_t.html#a60bc591bebd3b2b51f81aaa2f7249f2b">has_common</a>()) {
<a name="l00856"></a>00856     <span class="keywordflow">return</span> <a class="code" href="../../d5/dce/class_c_o_m_p_o_n_e_n_t.html#a9a570d04b321ac4b80b6348e88a057cf">common</a>()-&gt;<a class="code" href="../../df/d75/class_c_o_m_m_o_n___c_o_m_p_o_n_e_n_t.html#a9a4b864cf3418075d34251c3f2049dd4">use_obsolete_callback_print</a>();
<a name="l00857"></a>00857   }<span class="keywordflow">else</span>{
<a name="l00858"></a>00858     <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00859"></a>00859   }
<a name="l00860"></a>00860 }
<a name="l00861"></a>00861 <span class="comment">/*--------------------------------------------------------------------------*/</span>
<a name="l00862"></a><a class="code" href="../../d5/dce/class_c_o_m_p_o_n_e_n_t.html#a21d2b86992b2254ddf638b32b437926e">00862</a> <span class="keywordtype">void</span> <a class="code" href="../../d5/dce/class_c_o_m_p_o_n_e_n_t.html#a21d2b86992b2254ddf638b32b437926e">COMPONENT::obsolete_move_parameters_from_common</a>(<span class="keyword">const</span> <a class="code" href="../../df/d75/class_c_o_m_m_o_n___c_o_m_p_o_n_e_n_t.html">COMMON_COMPONENT</a>* dc)
<a name="l00863"></a>00863 {
<a name="l00864"></a>00864   assert(dc);
<a name="l00865"></a>00865   <a class="code" href="../../d5/dce/class_c_o_m_p_o_n_e_n_t.html#a46c106fa0540ae0e7b1bac0870c636e7">_value</a>   = dc-&gt;<a class="code" href="../../df/d75/class_c_o_m_m_o_n___c_o_m_p_o_n_e_n_t.html#a31e3e5ac0bf0f0ec263abf3b3715a43a">value</a>();
<a name="l00866"></a>00866   <a class="code" href="../../d5/dce/class_c_o_m_p_o_n_e_n_t.html#a7dd2704a374ae8e5b1895850a4c4a854">_mfactor</a> = dc-&gt;<a class="code" href="../../df/d75/class_c_o_m_m_o_n___c_o_m_p_o_n_e_n_t.html#a8857f69d0374c289c3416755ac0fe767">mfactor</a>();
<a name="l00867"></a>00867 }
<a name="l00868"></a>00868 <span class="comment">/*--------------------------------------------------------------------------*/</span>
<a name="l00869"></a>00869 <span class="comment">/* volts_limited: transient voltage, best approximation, with limiting</span>
<a name="l00870"></a>00870 <span class="comment"> */</span>
<a name="l00871"></a><a class="code" href="../../d5/dce/class_c_o_m_p_o_n_e_n_t.html#a04370de6b8f6949c556e1a64fa1bb864">00871</a> <span class="keywordtype">double</span> <a class="code" href="../../d5/dce/class_c_o_m_p_o_n_e_n_t.html#a04370de6b8f6949c556e1a64fa1bb864">COMPONENT::volts_limited</a>(<span class="keyword">const</span> <a class="code" href="../../d7/ded/classnode__t.html">node_t</a> &amp; n1, <span class="keyword">const</span> <a class="code" href="../../d7/ded/classnode__t.html">node_t</a> &amp; n2)
<a name="l00872"></a>00872 {
<a name="l00873"></a>00873   <span class="keywordtype">bool</span> limiting = <span class="keyword">false</span>;
<a name="l00874"></a>00874 
<a name="l00875"></a>00875   <span class="keywordtype">double</span> v1 = n1.<a class="code" href="../../d7/ded/classnode__t.html#a2af0828c33aaaf60bb76aed24a8431ff">v0</a>();
<a name="l00876"></a>00876   assert(v1 == v1);
<a name="l00877"></a>00877   <span class="keywordflow">if</span> (v1 &lt; _sim-&gt;_vmin) {
<a name="l00878"></a>00878     limiting = <span class="keyword">true</span>;
<a name="l00879"></a>00879     v1 = <a class="code" href="../../d3/d22/class_c_k_t___b_a_s_e.html#aee1030ed5a99aecd285c8af3aa2b37ef">_sim</a>-&gt;<a class="code" href="../../d7/db5/struct_s_i_m___d_a_t_a.html#a5b19090f8561ab0842df4e51137fb681">_vmin</a>;
<a name="l00880"></a>00880   }<span class="keywordflow">else</span> <span class="keywordflow">if</span> (v1 &gt; <a class="code" href="../../d3/d22/class_c_k_t___b_a_s_e.html#aee1030ed5a99aecd285c8af3aa2b37ef">_sim</a>-&gt;<a class="code" href="../../d7/db5/struct_s_i_m___d_a_t_a.html#a922f6de67ef43bb8c9b0b05e593c7b1f">_vmax</a>) {
<a name="l00881"></a>00881     limiting = <span class="keyword">true</span>;
<a name="l00882"></a>00882     v1 = <a class="code" href="../../d3/d22/class_c_k_t___b_a_s_e.html#aee1030ed5a99aecd285c8af3aa2b37ef">_sim</a>-&gt;<a class="code" href="../../d7/db5/struct_s_i_m___d_a_t_a.html#a922f6de67ef43bb8c9b0b05e593c7b1f">_vmax</a>;
<a name="l00883"></a>00883   }
<a name="l00884"></a>00884 
<a name="l00885"></a>00885   <span class="keywordtype">double</span> v2 = n2.<a class="code" href="../../d7/ded/classnode__t.html#a2af0828c33aaaf60bb76aed24a8431ff">v0</a>();
<a name="l00886"></a>00886   assert(v2 == v2);
<a name="l00887"></a>00887   <span class="keywordflow">if</span> (v2 &lt; _sim-&gt;_vmin) {
<a name="l00888"></a>00888     limiting = <span class="keyword">true</span>;
<a name="l00889"></a>00889     v2 = <a class="code" href="../../d3/d22/class_c_k_t___b_a_s_e.html#aee1030ed5a99aecd285c8af3aa2b37ef">_sim</a>-&gt;<a class="code" href="../../d7/db5/struct_s_i_m___d_a_t_a.html#a5b19090f8561ab0842df4e51137fb681">_vmin</a>;
<a name="l00890"></a>00890   }<span class="keywordflow">else</span> <span class="keywordflow">if</span> (v2 &gt; <a class="code" href="../../d3/d22/class_c_k_t___b_a_s_e.html#aee1030ed5a99aecd285c8af3aa2b37ef">_sim</a>-&gt;<a class="code" href="../../d7/db5/struct_s_i_m___d_a_t_a.html#a922f6de67ef43bb8c9b0b05e593c7b1f">_vmax</a>) {
<a name="l00891"></a>00891     limiting = <span class="keyword">true</span>;
<a name="l00892"></a>00892     v2 = <a class="code" href="../../d3/d22/class_c_k_t___b_a_s_e.html#aee1030ed5a99aecd285c8af3aa2b37ef">_sim</a>-&gt;<a class="code" href="../../d7/db5/struct_s_i_m___d_a_t_a.html#a922f6de67ef43bb8c9b0b05e593c7b1f">_vmax</a>;
<a name="l00893"></a>00893   }
<a name="l00894"></a>00894 
<a name="l00895"></a>00895   <span class="keywordflow">if</span> (limiting) {
<a name="l00896"></a>00896     <a class="code" href="../../d3/d22/class_c_k_t___b_a_s_e.html#aee1030ed5a99aecd285c8af3aa2b37ef">_sim</a>-&gt;<a class="code" href="../../d7/db5/struct_s_i_m___d_a_t_a.html#ad2c5225fd161f2e6179255b208c3bc86">_limiting</a> = <span class="keyword">true</span>;
<a name="l00897"></a>00897     <span class="keywordflow">if</span> (<a class="code" href="../../de/d5e/class_o_p_t.html#adabb743e6c88fc3c4b9903d2c0d69074">OPT::dampstrategy</a> &amp; <a class="code" href="../../d7/d7b/u__opt_8h.html#a80155586fa275b28773c9b203f52cabaa4cc03e85faf86e6e5ebb3e5ed95cdbfa">dsRANGE</a>) {
<a name="l00898"></a>00898       <a class="code" href="../../d3/d22/class_c_k_t___b_a_s_e.html#aee1030ed5a99aecd285c8af3aa2b37ef">_sim</a>-&gt;<a class="code" href="../../d7/db5/struct_s_i_m___d_a_t_a.html#aaabc3b5a642159686d129a57f9082c40">_fulldamp</a> = <span class="keyword">true</span>;
<a name="l00899"></a>00899       <a class="code" href="../../d6/de9/io__error_8cc.html#a153585440ba2fdf0696b0085d19a4a7f">error</a>(bTRACE, <span class="stringliteral">&quot;range limit damp\n&quot;</span>);
<a name="l00900"></a>00900     }
<a name="l00901"></a>00901     <span class="keywordflow">if</span> (<a class="code" href="../../de/d5e/class_o_p_t.html#aeb01db12cbf0f439e619f24e1f58b687">OPT::picky</a> &lt;= bTRACE) {<a class="code" href="../../d6/dda/io__trace_8h.html#aa6032a13c5f0621c16055ada1b7f47ad">untested</a>();
<a name="l00902"></a>00902       <a class="code" href="../../d6/de9/io__error_8cc.html#a153585440ba2fdf0696b0085d19a4a7f">error</a>(bNOERROR,<span class="stringliteral">&quot;node limiting (n1,n2,dif) &quot;</span>
<a name="l00903"></a>00903             <span class="stringliteral">&quot;was (%g %g %g) now (%g %g %g)\n&quot;</span>,
<a name="l00904"></a>00904             n1.<a class="code" href="../../d7/ded/classnode__t.html#a2af0828c33aaaf60bb76aed24a8431ff">v0</a>(), n2.<a class="code" href="../../d7/ded/classnode__t.html#a2af0828c33aaaf60bb76aed24a8431ff">v0</a>(), n1.<a class="code" href="../../d7/ded/classnode__t.html#a2af0828c33aaaf60bb76aed24a8431ff">v0</a>() - n2.<a class="code" href="../../d7/ded/classnode__t.html#a2af0828c33aaaf60bb76aed24a8431ff">v0</a>(), v1, v2, v1-v2);
<a name="l00905"></a>00905     }
<a name="l00906"></a>00906   }
<a name="l00907"></a>00907 
<a name="l00908"></a>00908   <span class="keywordflow">return</span> <a class="code" href="../../d7/d5d/l__denoise_8h.html#a3070ac5cc1dd5bbeba0681da7dbded4b">dn_diff</a>(v1,v2);
<a name="l00909"></a>00909 }
<a name="l00910"></a>00910 <span class="comment">/*--------------------------------------------------------------------------*/</span>
<a name="l00911"></a>00911 <span class="comment">/*--------------------------------------------------------------------------*/</span>
</pre></div></div><!-- contents -->


<hr class="footer"/><address class="footer"><small>
Generated on Tue Jul 10 2012 04:09:11 for gnucap by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="../../doxygen.png" alt="doxygen"/>
</a> 1.7.6.1
</small></address>

</body>
</html>
