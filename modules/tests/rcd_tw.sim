* tw imitating rcd.sim
.load libd_rcd_sym.so

.options adpreltol 0.01
*.options printrejected=yes

.model my_rcd rcdsym_v3 RE=1000 RC=my_RC uref=1
.param my_rC=1

* common par!
z1 nin 0 my_rcd ( WEIGHT=1 )
R1 nin nout 1

V1 nin 0 pulse ( iv=0 pv=amplitude delay=delay rise=1n fall=1n width=width period=period )
.param amplitude=1
.param period=6m
.param width=2.9m
.param width=0
.param delay=1n

.print tw vw(z1) tr(z1)  my_RC amplitude tt(z1) ttorder(0)

.print tran vin(z1) v(z1)
.tw 1 10000 10000 100000 > rcd_tw_pre.out tran > rcd_tw_pre.tr.out
.print tran clear


.sweep 5 a 0 10
.param amplitude = 1
.param my_RC = {10**a / 100}
.tw 1 10 100 1000 basic 
.param amplitude=0
*.tw 16000 basic

go
